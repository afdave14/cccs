/*! stopgap_start */function updateBbqHash(e,c){var h=$.deparam.fragment();var j;var k=h;for(j in e){k[j]=e[j];}var b;if(c){window.sortablePlayerList=c;}var g=new Date();var a=g.getTime();var f=a;k.ts=f;$.bbq.pushState(k);}function getBbqVal(b){var c="";var a=$.deparam.fragment();if(typeof(a[b])!=="undefined"){c=a[b];}return c;}function config_mgmt(){var f={};var h={sectionType:"sp",playerType:"QUALIFIER",statType:"hitting",page_type:"SortablePlayer",season:window.current_season,season_type:"ANY",sportCode:"'mlb'",league_code:"'MLB'",split:"",team_id:window.team_id,active_sw:"",game_type:"'"+window.current_game_type+"'",position:"",sortOrder:"'desc'",sortColumn:"avg",results:"",page:1,perPage:50,timeframe:"",extended:0,last_x_days:""};var d={hitting:{sortOrder:"'desc'",sortColumn:"avg"},pitching:{sortOrder:"'asc'",sortColumn:"era"},fielding:{sortOrder:"'desc'",sortColumn:"fpct"}};var g,b,a;var c=["whip","era","bb9","h9","pip"];var e=["sportCode","league_code","game_type","sortOrder"];if(window.location.hash!==""){f=$.deparam.fragment();g=f.statType;if(!g){g="hitting";}if(!f.sortColumn){f.sortColumn=d[g].sortColumn;}if((window.team_id)&&(!f.playerType)){f.playerType="ALL";}if(!f.sortOrder){if(($.inArray(f.sortColumn,c)>-1)||((f.sortColumn==="avg")&&(f.statType==="pitching"))){f.sortOrder="'asc'";}else{f.sortOrder="'desc'";}}for(b=0;b<e.length;b++){a=e[b];if((typeof(f[a])!=="undefined")&&!(/^\'.*\'$/.test(f[a]))){f[a]="'"+f[a]+"'";}}$.extend(h,f);}if((window.team_id)&&(!f.playerType)){h.playerType="ALL";}return h;}$(window).bind("hashchange",function(c,a){if(!a){var b=config_mgmt();window.sortablePlayerList=new bam.stats.app.SortablePlayerList(b);window.sortablePlayerList.setWidgetDependencies(b,true);window.sortablePlayerList.load();$("#reset_link a").unbind().bind("click",function(){window.sortablePlayerList=null;var d=config_mgmt();updateBbqHash(d);});}});(function(ek,c0){var aj=c0.bam,cd=aj.datagrid,bI=aj.datetime,dS=aj.util,ad=aj.stats={},ex=ek.inherit,a8=ek.proxy,ay=ek.eventProxy,dv=ek.deep,dP=ek.ensureArray,b9=dS.getQueryResults,d4=dS.getQueryResult,dH=dS.countQueryResults,be=dS.wrapQueryResults,cX=cd.DataGrid,bE=cd.ExpandableDataGrid,b=cd.DataType.Number,aK=cd.DataType.Text,V=cd.SortOrder.Asc,ee=cd.SortOrder.Desc,cs="update",az="<input/>",a6="<button/>",cy="<li/>",cM="<a/>",x="recSP",bn="recPP",M="totalP",b2="'mlb'",ca="'AL'",l="'NL'",aH="'R'",eE="'A'",cJ="'F'",bD="'D'",J="'L'",d="'W'",aA="'1'",dy="'2'",Y="'3'",en="'4'",O="'5'",av="'6'",dr="'7'",cS="'8'",cQ="'9'",ed="'D'",dL="'O'",d9="a",a0="ab",de="active_sw",ez="avg",aW="ao",d8="b",aM="bb",cg="bb_9",r="babip",aJ="bk",ef="bq",ct="bqs",dc="bq_strand",dx="cera",aw="cg",aq="cs",f="c_wp",d7="d",d2="der",ah="dp",d6="e",N="er",ai="era",C="fpct",bl="file_code",d5="g",w="gf",eu="gidp",ar="gdp",p="go",cr="go_ao",m="gs",d3="h",j="h_9",c="hb",k="hbp",cH="hld",ew="hr",bw="hr_9",dq="ibb",aZ="inn",ej="ip",ei="ir",P="irs",ba="ir_strand",d0="k_9",aY="k_bb",d1="l",cu="league",bT="lob",b3="mhg",ch="name_display_last_init",df="np",aN="obp",cU="ops",cY="tpa",cW="pb",dt="pgs",cR="pk",a5="player_id",c3="p_ip",cO="po",bJ="pos",ap="position",bC="p_pa",cC="qs",dY="r",et="roe",bh="rank",bS="rbi",cv="rf",bj="rf_9",cn="rs",dB="rs_9",ck="rw",dX="s",a3="sac",du="season",ce="sb",c2="sbpct",cc="sf",eC="sho",dD="slg",b8="so",b4="sv",bB="svo",dV="t",bZ="tb",eD="tbf",bY="tc",bF="team_full",cq="team_abbrev",dU="w",cl="whip",br="wp",ds="wpct",ev="xbh",bU={dataField:ch,type:aK,title:"Player",decorator:ep,sortable:false},bk={dataField:bF,type:aK,title:"Team",decorator:u,sortable:false},dk={dataField:de,type:aK,title:"",sortable:false,visible:false},aC={dataField:bl,type:aK,title:"",sortable:false,visible:false},aS={dataField:cu,type:aK,title:"League",sortable:false},dN={dataField:a5,type:aK,title:"",visible:false},bL={dataField:du,type:aK,title:"Year",visible:true,sortable:false},dF={dataField:cq,type:aK,title:"Team",sortable:false},aF={dataField:bJ,type:aK,title:"Pos",sortable:false},bX={dataField:ap,type:aK,title:"Pos",sortable:false},ea={dataField:d9,type:b,title:aX(d9,"Total Assists"),sortState:ee},aD={dataField:a0,type:b,title:aX(a0,"The number of official at bats by a batter (official at bat defined as the number of plate appearances minus sacrifices, walks and Hit by Pitches."),sortState:ee},bO={dataField:aW,type:b,title:aX(aW,"Fly Outs is the total of all fly balls hit by the batter into outs, not including line drives."),sortState:ee},aV={dataField:aW,type:b,title:aX(aW,"The number of times a batter has made an out in the air"),sortState:ee},b5={dataField:ez,type:b,title:aX(ez,"The average number of hits by a batter defined by hits divided by at bats (H/AB)."),sortState:ee},U={dataField:ez,type:b,title:aX(ez,"The total number of hits allowed by the pitcher divided by the total number of opponent at-bats (H/AB)."),sortState:V},bW={dataField:d8,type:b,title:aX(d8,"Balls thrown outside the strike zone"),sortState:ee},el={dataField:r,type:b,title:aX(r,"Batting Average on Balls In Play"),sortState:ee},I={dataField:aM,type:b,title:aX(aM,"The number of walks by a batter (four balls during an at bat)"),sortState:ee},dJ={dataField:aM,type:b,title:aX(aM,"A pitcher is charged with a base on balls (walk) when he throws four pitches outside of the strike zone during one plate appearance."),sortState:ee},dO={dataField:cg,type:b,title:aX(cg,"The average number of walks issued per 9 innings by a pitcher (BB/9)"),sortState:V},dE={dataField:aJ,type:b,title:aX(aJ,"The number of balks by a pitcher"),sortState:ee},cb={dataField:ef,type:b,title:aX(ef,"Bequeathed Runners"),sortState:ee},a1={dataField:ct,type:b,title:aX(ct,"Bequeathed Runners Scored"),sortState:ee},bH={dataField:dc,type:b,title:aX(dc,"Bequeathed Runners Stranded"),sortState:ee},aE={dataField:aw,type:b,title:aX(aw,"The number of games completed by a starting pitcher"),sortState:ee},cE={dataField:aq,type:b,title:aX(aq,"The number of times a player has been put out attempting to steal a base"),sortState:ee},aO={dataField:aq,type:b,title:aX(aq,"The number of runners caught stealing against a pitcher"),sortState:ee},c5={dataField:aq,type:b,title:aX(aq,"The number of runners caught stealing by a catcher"),sortState:ee},bi={dataField:f,type:b,title:aX("C_WP","Total number of wild pitches while catching"),sortState:ee},a={dataField:d7,type:b,title:aX("2B","The number of times a batter hits the ball and reaches second base without aid of an error or fielder's choice"),sortState:ee},cL={dataField:d2,type:b,title:aX(d2,"Defensive Efficiency Ratio is the rating of team defensive outs recorded in defensive opportunities. To determine Defensive Efficiency Ratio for a team, divide the total number of hits in play allowed (subtracting home runs and times reached on error) by the total number of defensive opportunities (all balls hit into play, not including home runs), and subtract from one: 1-(((H+ROE)-HR)/(PA-(SO+HBP+HR)))"),sortState:ee},af={dataField:ah,type:b,title:aX(ah,"Total double plays"),sortState:ee},cx={dataField:d6,type:b,title:aX(d6,"Total Errors committed"),sortState:ee},em={dataField:ai,type:b,title:aX(ai,"The average number of earned runs allowed by a pitcher; total number of earned runs allowed multiplied by 9 divided by the number of innings pitched. ((ERx9)/IP)"),sortState:V},eH={dataField:N,type:b,title:aX(N,"The total number of earned runs allowed by the pitcher."),sortState:ee},ax={dataField:C,type:b,title:aX(C,"Average of errors per total chances, Put outs plus Assists divided Putouts plus assists plus errors (PO+A)/(PO+A+E)"),sortState:ee},ec={dataField:m,type:b,title:aX(m,"Games started as the pitcher"),sortState:ee},bt={dataField:m,type:b,title:aX(m,"Games started in the field"),sortState:ee},eq={dataField:d5,type:b,title:aX(d5,"The number of games in which a player has appeared."),sortState:ee},ci={dataField:d5,type:b,title:aX(d5,"The total number of games in which the pitcher appeared, whether as the starter or as a reliever."),sortState:ee},t={dataField:d5,type:b,title:aX(d5,"Games played in the field"),sortState:ee},dm={dataField:w,type:b,title:aX(w,"A pitcher is credited with a game finished if he is the last relief pitcher for his team in a game and was not the starting pitcher."),sortState:ee},aG={dataField:eu,type:b,title:aX(ar,"The number of times a batter has grounded into a double play"),sortState:ee},dC={dataField:eu,type:b,title:aX(eu,"The number of times a pitcher induces a batter to ground into a double play"),sortState:ee},cp={dataField:p,type:b,title:aX(p,"The number of times a batter has made an out on a ground ball"),sortState:ee},bA={dataField:p,type:b,title:aX(p,"The total of all ground balls hit into outs against the pitcher by opposing batters, not including bunts."),sortState:ee},Q={dataField:cr,type:b,title:aX(cr,"Ratio of outs made by a batter on the ground versus the air"),sortState:ee},bd={dataField:cr,type:b,title:aX(cr,"Ratio of outs made on the ground v. the air by a pitcher"),sortState:ee},cV={dataField:d3,type:b,title:aX(d3,"The number of times a batter hits the ball and reaches bases safely without aid of an error or fielder's choice"),sortState:ee},aB={dataField:d3,type:b,title:aX(d3,"The number of hits allowed by a pitcher"),sortState:ee},cI={dataField:j,type:b,title:aX(j,"The average number of hits allowed per 9 innings by a pitcher (H/9)"),sortState:V},al={dataField:c,type:b,title:aX(c,"Hit Batsmen. The number of batters hit by a pitch."),sortState:ee},bm={dataField:k,type:b,title:aX(k,"The number of times a batter has been hit by pitch"),sortState:ee},c9={dataField:cH,type:b,title:aX(cH,"The number of times a pitcher enters a game in a save situation, pitches .1 IP,does not surrender the lead and does not finish the game"),sortState:ee},bo={dataField:ew,type:b,title:aX(ew,"The number of times a batter hits the ball and reaches home plate scoring a run either by hitting the ball out of play in fair territory or without aid of an error or fielder's choice"),sortState:ee},c1={dataField:ew,type:b,title:aX(ew,"The number of home runs allowed by a pitcher"),sortState:ee},cw={dataField:bw,type:b,title:aX(bw,"Home Runs per 9 Innings Pitched"),sortState:ee},bz={dataField:dq,type:b,title:aX(dq,"The number of times a batter was walked intentionally"),sortState:ee},bN={dataField:dq,type:b,title:aX(dq,"The number of intentional walks issued by a pitcher"),sortState:ee},s={dataField:aZ,type:b,title:aX(aZ,"The total number of innings played by a fielder. The fielder is credited for one-third inning for each out recorded while he is on the field defensively."),sortState:ee},cN={dataField:ej,type:b,title:aX(ej,"The total number of innings pitched by the pitcher. The pitcher is credited for one-third inning for each out he records."),sortState:ee},ag={dataField:ei,type:b,title:aX(ei,"Inherited Runners"),sortState:ee},dj={dataField:P,type:b,title:aX(P,"Inherited Runners Scored"),sortState:ee},a4={dataField:ba,type:b,title:aX(ba,"Inherited Runners Stranded"),sortState:ee},c6={dataField:d0,type:b,title:aX(d0,"The average number of strikeouts per 9 innings by a pitcher (K/9)"),sortState:ee},bP={dataField:aY,type:b,title:aX(aY,"Number of strikeouts versus walks for a pitcher, strikeouts divided by walks (K/BB)"),sortState:ee},cP={dataField:d1,type:b,title:aX(d1,"The number of losses charged to a pitcher"),sortState:ee},h={dataField:bT,type:b,title:aX(bT,"The total number of baserunners who were on base by any means, and did not score and/or were not put out, during all at-bats in which the pitcher recorded an out."),sortState:ee},z={dataField:b3,type:b,title:aX(b3,"Multi-Hit Games"),sortState:ee},bf={dataField:df,type:b,title:aX(df,"The total number of pitches thrown during all of the batter's plate appearances."),sortState:ee},eo={dataField:df,type:b,title:aX(df,"The total number of pitches thrown by the pitcher."),sortState:ee},cB={dataField:aN,type:b,title:aX(aN,"The number of times each batter reaches base by hit, walk or hit by pitch, divided by plate appearances including at-bats, walks, hit by pitch and sacrifice flies (H+BB+HBP)/(AB+BB+HBP+SF)"),sortState:ee},dI={dataField:cU,type:b,title:aX(cU,"On-base percentage plus slugging (OBP + SLG)"),sortState:ee},aL={dataField:aN,type:b,title:aX(aN,"On base percentage against a pitcher (H+BB+HBP)/(AB+BB+HBP+SF)"),sortState:V},er={dataField:cU,type:b,title:aX(cU,"On-base Percentage plus Slugging Percentage against a pitcher (OBP+SLG)"),sortState:V},dG={dataField:cY,type:b,title:aX("PA","The number of times a batter has appeared at the plate (AB+BB+HBP+SF)"),sortState:ee},dh={dataField:cW,type:b,title:aX(cW,"Total number of passed balls by a catcher"),sortState:ee},cG={dataField:dt,type:b,title:aX(dt,"Pitches per Game Start"),sortState:ee},aT={dataField:c3,type:b,title:aX(c3,"Number of pitches thrown per a pitcher divided by the number of innings pitched (P/IP)"),sortState:V},eB={dataField:cO,type:b,title:aX(cO,"A putout is credited to a fielder when catches a fly ball or a line drive, whether fair or foul, catches a thrown ball which puts out a batter or runner, or tags a runner when the runner is off the base to which he legally is entitled."),sortState:ee},bK={dataField:bC,type:b,title:aX(bC,"Pitchers per Plate Appearance"),sortState:ee},a9={dataField:cR,type:b,title:aX(cR,"The number of pickoffs by a pitcher"),sortState:ee},bg={dataField:cC,type:b,title:aX(cC,"Quality Starts"),sortState:ee},cz={dataField:bh,type:b,title:aX("Rk","Rank"),sortable:false},bs={dataField:ck,type:b,title:aX(ck,"Relief Wins"),sortState:ee},dW={dataField:dY,type:b,title:aX(dY,"The number of times a baserunner safely reaches home plate"),sortState:ee},dz={dataField:dY,type:b,title:aX(dY,"The number of runs allowed by a pitcher"),sortState:ee},am={dataField:cv,type:b,title:aX(cv,"Range Factor.  Total number of outs participated in, divide putouts and assists by number of innings or games played at a position ((PO+A)/INN)"),sortState:ee},dw={dataField:bS,type:b,title:aX(bS,"The number of runs that score safely due to a batter hitting a ball or drawing a base on balls"),sortState:ee},eh={dataField:et,type:b,title:aX(et,"Reached on Error"),sortState:ee},bv={dataField:cn,type:b,title:aX(cn,"Run Support"),sortState:ee},bM={dataField:dB,type:b,title:aX(dB,"Run Support per 9 Innings"),sortState:ee},db={dataField:dX,type:b,title:aX(dX,"Strikes"),sortState:ee},cZ={dataField:a3,type:b,title:aX(a3,"The number of sacrifice bunts by a batter"),sortState:ee},c8={dataField:ce,type:b,title:aX(ce,"The number of times a player has stolen a base"),sortState:ee},aU={dataField:ce,type:b,title:aX(ce,"The number of stolen bases allowed by a pitcher"),sortState:ee},da={dataField:ce,type:b,title:aX(ce,"The number of stolen bases allowed by a catcher."),sortState:ee},au={dataField:c2,type:b,title:aX(c2,"Stolen Base Percentage. Average stolen bases against, Stolen bases divided by Stolen bases plus Caught stealing ((SB/SB+CS))"),sortState:ee},b1={dataField:cc,type:b,title:aX(cc,"The number of times a runner tags up and scores after a batter's fly out"),sortState:ee},cj={dataField:eC,type:b,title:aX(eC,"The number of games completed in which the opposing team fails to score any runs"),sortState:ee},dp={dataField:dD,type:b,title:aX(dD,"Slugging Percentage.  The measure of the power of a hitter, total bases divided by at bats (TB/AB)"),sortState:ee},o={dataField:dD,type:b,title:aX(dD,"Slugging Percentage against a pitcher (TB/AB)"),sortState:ee},y={dataField:b8,type:b,title:aX(b8,"The number of strikeouts by a batter (three strikes during an at bat)"),sortState:ee},by={dataField:b8,type:b,title:aX(b8,"The number of strikeouts by a pitcher"),sortState:ee},dd={dataField:bB,type:b,title:aX(bB,"The number of save situation appearances by a pitcher to close a game"),sortState:ee},ak={dataField:b4,type:b,title:aX(b4,"The number of saves credited to a pitcher"),sortState:ee},bb={dataField:dV,type:b,title:aX("3B","The number of times a batter hits the ball and reaches third base without aid of an error or fielder's choice"),sortState:ee},bq={dataField:bZ,type:b,title:aX(bZ,"The total number of bases i.e. one base for single, two bases for double"),sortState:ee},g={dataField:bZ,type:b,title:aX(bZ,"The total number of bases allowed by a pitcher, i.e. one base for single, two bases for double"),sortState:ee},cf={dataField:eD,type:b,title:aX(eD,"The total number of batters faced by a pitcher"),sortState:ee},bR={dataField:bY,type:b,title:aX(bY,"Total Chances.  The total number of putouts and assists credited to the fielder and errors charged to the fielder."),sortState:ee},di={dataField:cl,type:b,title:aX(cl,"The average number of walks and hits by a pitcher, Hits plus walks allowed divided by innings pitched ((H+W)/IP)"),sortState:V},c4={dataField:dU,type:b,title:aX(dU,"The number of wins credited to a pitcher"),sortState:ee},dA={dataField:br,type:b,title:aX(br,"The number of wild pitches thrown by a pitcher"),sortState:ee},b7={dataField:ds,type:b,title:aX(ds,"The percentage of games won by the pitcher out of all decisions (W/(W+L))"),sortState:ee},v={dataField:ev,type:b,title:aX(ev,"The total number of doubles, triples and home runs for a batter"),sortState:ee},q=[cz,bU,dF,dk,dN],an=[cz,bk,aC,aS],e=[cz,bU,bL,dF,dk,dN],cm=[cz,bU,dk,dN],dK=an,dM=an,at=an,a7=q.concat(aF),cK=q,c7=q.concat(bX),dZ=e.concat(aF),K=e,bV=e.concat(aF),bx=cm.concat(aF),a2=cm,eb=cm.concat(aF),eA=[eq,aD,dW,cV,a,bb,bo,dw,I,y,c8,cE,b5,cB,dp,dI],bp=[bz,bm,cZ,b1,bq,v,aG,cp,bO,Q,bf,dG],aI=[c4,cP,em,ci,ec,ak,dd,cN,aB,dz,eH,c1,dJ,by,U,di],ao=[aE,cj,al,bN,dm,c9,dC,bA,aV,dA,dE,aU,aO,a9,cf,eo],es=[b7,bd,aL,o,er,c6,dO,cI,bP,aT],ey=[b7,bd,aL,o,er],X=[t,bt,s,bR,eB,ea,cx,af,da,c5,au,dh,bi,ax],co=[am],cF=[cL],dn=eG(eA),dl=eG(bp),dR=dn,dQ=dl,ac=eG(aI),aa=eG(ao),Z=eG(es),aR=ac,aQ=aa,aP=Z,bu={tableClass:"stats_table data_grid",showHeader:true,dataType:"json",sortable:true,rowDecorator:ae,onColumnClick:function(A){ek("#datagrid table").hide();aj.stats.util.showSpinner("datagrid");this.sortState=(this.parent._data.columns[A].active)?(this.sortState===ee)?V:ee:this.sortState;this.parent._data.columns[A].active=true;this.parent.trigger("sort",[this.dataField,this.sortState]);return false;},autoClassify:true};aj.stats.util={quote:function(A){return"'"+A+"'";},range:function(D,B){var E,G,A=[];for(E=Math.min(D,B),G=Math.max(D,B);E<=G;++E){A.push(E);}return D>B?A.reverse():A;},show_hide_columns:function(A,B){},showSpinner:function(A){ek("#"+A).addClass("loadingMask");ek("#pagination").hide();},hideSpinner:function(A){ek("#"+A).removeClass("loadingMask");ek("#pagination").show();}};function eG(G){var E=[];var D="";var A,B;for(B=0;B<G.length;B++){A=".dg-"+G[B].dataField;E.push(A);}D=E.join(", ");return D;}function bG(G,E){var A,D,B;if(ek.isArray(E)){A=E.length;D=false;for(B=0;B<A;B++){if(E[B].dataField.toLowerCase()===G.toLowerCase()){D=true;}}return D;}}function b0(G,D){var E,A,B;if(arguments[2]){for(E=2,A=arguments.length;E<A;E++){G.prototype[arguments[E]]=D.prototype[arguments[E]];}}else{for(B in D.prototype){if(!G.prototype[B]){G.prototype[B]=D.prototype[B];}}}}function ae(A){if(this.index%5===4){ek("td",A).addClass("stripey");}}function eF(A){if(A.value===null||A.value===""){return"-";}}function cA(A){var R=this.index;var L=1;var E,H,G,D,B;if(R>0){for(B=0;B<this.parent._data.columns.length;B++){if(this.parent._data.columns[B].active){E=this.cell(B).value;G=parseInt(R,10)-1;H=this.parent._data.rows[G].cell(B).value;if(H===E){L=this.parent._data.rows[G].cell(0).value;}else{L=R+1;}}}}this.parent._data.rows[R].cell(0).value=L;return L;}function ep(A){var H,E;var G="";var B=document.location.pathname;var D="/team/player.jsp?player_id=";if(B.indexOf("_app")!==-1){D="/team/player_app.jsp?player_id=";}if(A.value===null){return"-";}H=this.cell(a5).value;if(!(this.cell(de).value===null)){E=this.cell(de).value;if((E==="Y")&&((getBbqVal("season_type")==="ALL")||(getBbqVal("season_type")==="SINGLE"))){G="*";}}return(typeof H!=="undefined")?G+'&nbsp;<a href="'+D+ +H+'">'+A.value+"</a>":G+"&nbsp;"+A.value;}function u(S){var A;var L=getBbqVal("split");var D=getBbqVal("league_code");var R=getBbqVal("season");var H=getBbqVal("game_type");var T=getBbqVal("statType");var E="/stats/sortable.jsp?c_id=";var B=document.location.pathname;if(B.indexOf("_app")!==-1){E="/stats/sortable_app.jsp?c_id=";}var G="#game_type="+H+"&season="+R+"&league_code="+D+"&split="+L+"&playerType=ALL&sectionType=sp&statType="+T;if(S.value===null){return"-";}A=this.cell(bl).value;return(typeof(A)!=="undefined")?'<a href="'+E+A+G+'">'+S.value+"</a>":S.value;}function aX(A,B){return'<abbr title="'+B+'">'+A.toUpperCase()+"</abbr>";}function ab(B,A){return"<label for='"+B+"'>"+A+"</label>";}ek.fn.checkedVal=function(B){var A=[];this.find("input:checked").each(function(){A.push(this.value);});return A;};function F(A){this.uid=F.uid++;this.cfg=ek.extend({},F.defaultCfg,A||{});}F.uid=0;F.defaultCfg={};F.prototype=ek.bindable({renderFieldset:function(B){var A=Math.floor(Math.random()*1000);var D=this.uid+"_"+A;return ek("<fieldset/>").attr("id",D).addClass("widget-"+B);},render:function(){},destroy:function(){}},cs);function dT(){this.updateProxy=a8(this.updateProxy,this);this.widgets=[];this.addWidget.apply(this,arguments);this.refreshValue();}ex(dT,F,{addWidget:function(){var A,D,B=arguments;for(A=0,D=B.length;A<D;++A){this.widgets.push(B[A].update(this.updateProxy));}},refreshValue:function(){var A,B;this.value=[];for(A=0,B=this.widgets.length;A<B;++A){this.value.push(this.widgets[A].value);}},updateProxy:function(){this.refreshValue();return this.trigger(cs,this.value);},render:function(){var B=this.renderFieldset(),A,D;for(A=0,D=this.widgets.length;A<D;++A){this.widgets[A].render().appendTo(B);}return B;}});function cD(A,G,D){var E=getBbqVal("sectionType");var B=getBbqVal("statType");D=ek.extend(true,{},cD.defaultCfg,D||{});cD.superclass.constructor.call(this,D);this.setPages(A);this.setPage(G);}cD.defaultCfg={prefix:"paginationWidget-",css:{first:"first",previous:"previous",page:"page",last:"last",next:"next"}};ex(cD,F,{setPages:function(A){this.pages=~~+A;this.trigger("setPages",[this.pages]);},setPage:function(A){this.page=aj.number.limitValueToRange(~~+A,1,this.pages);this.trigger("setPage",[this.page,this.pages]);},render:function(eI){var W=this.cfg,T=W.css,B=W.prefix+this.uid,E=this.renderFieldset("pagination"),S=ek(a6).addClass(W.prefix+T.first).html("&laquo;").click(a8(A,this)),G=ek(a6).addClass(W.prefix+T.previous).html("&lt;").click(a8(L,this)),eK=ek(az).addClass(W.prefix+T.page).val(this.page).attr("name",B).focus(function(){this.select();}).change(a8(H,this)),eL=ek(a6).addClass(W.prefix+T.last).html(this.pages).click(a8(eJ,this)),R=ek(a6).addClass(W.prefix+T.next).html("&gt;").click(a8(D,this));function A(){this.page=1;this.trigger(cs,[this.page]);}function L(){this.page=Math.max(this.page-1,1);this.trigger(cs,[this.page]);}function H(){this.page=+eK.val();this.trigger(cs,[this.page]);}function D(){this.page=Math.min(this.page+1,this.pages);this.trigger(cs,[this.page]);}function eJ(){this.page=this.pages;this.trigger(cs,[this.page]);}this.bind("setPages",function(eN,eM){eL.html(eM);});this.bind("setPage",function(eN,eO,eM){eK.val(eO);if(parseInt(eO,10)===1){S.hide();G.hide();}else{S.show();G.show();}if(parseInt(eO,10)===parseInt(eM,10)){R.hide();}else{R.show();}});E.append(S,G,eK," of ",eL,R);return E;}});function eg(A){this.setConfigEventProxy=a8(function(B,E){B.preventDefault();var D=B.data;var G={};G[D]=E;this.executeTracking.call(this,G);this.setConfig(G);return false;},this);this.setSortEventProxy=ay(this.setSort,this);}eg.prototype=ek.bindable({executeTracking:function(R){var E=getBbqVal("sectionType");var L,D,A,H,B,G,R;switch(E){case"st":H="Sortable Team Stats";break;case"sp":H="Sortable Player Stats";break;case"bvp":H="Batter Vs. Pitcher Stats";break;case"mt":H="Milestone Tracker Stats";break;}for(B in R){G=R[B];G=G.toString();if((B==="league_code")&&!G){G="MLB";}if((typeof(G)!=="undefined")&&(G)&&(!ek.isArray(G))){G=G.replace(/["']{1}/gi,"");}L="Stats:"+G;A="Major League Baseball: Stats: "+H;aj.tracking.simStatsPgView({pageName:A,channel:"Stats",control:L,source:H});}},setConfig:function(A){var D,E,B;A.page=1;for(B in A){this.cfg[B]=A[B];}updateBbqHash(A,this);},setSort:function(E,B,A){var D={};D.sortColumn=E;D.sortOrder="'"+B+"'";D.extended=A;D.page=1;updateBbqHash(D);this.cfg.sortOrder="'"+B+"'";this.cfg.sortColumn=E;this.cfg.extended=A;}});var dg={handleUpdate:function(B){var A=B.target.value;this.trigger(cs,[A]);}};var bc={handleUpdate:function(A){A.preventDefault();var D=ek(A.target),B=A.target.href,E=B.substr(B.indexOf("#")+1);if(!D.hasClass("clicked")){ek("#time_select .horizList a.clicked").removeClass("clicked");D.addClass("clicked");this.value=E;this.trigger(cs,[this.value]);}}};var cT={handleUpdate:function(S,eO){var eI,B,W,E,A,R,eJ,L,eQ,G,H,eK,T,eP;var eL={};var eN=ek(S.target),eM=S.target.href,eR=eM.substr(eM.indexOf("#")+1);if(!eN.hasClass("tab_top")){S.preventDefault();}var D={sp:{sectionType:"sp",playerType:"QUALIFIER",statType:"hitting",page_type:"SortablePlayer",season:current_season,season_type:"ANY",sportCode:"'mlb'",league_code:"'MLB'",split:"",team_id:c0.team_id,active_sw:"",game_type:getBbqVal("game_type"),position:"",sortOrder:"'desc'",sortColumn:"avg",results:"",page:1,perPage:50,timeframe:"",extended:0,last_x_days:""},st:{sectionType:"st",statType:"hitting",season:current_season,sportCode:"'mlb'",league_code:"'MLB'",split:"",team_id:c0.team_id,game_type:getBbqVal("game_type"),sortOrder:"'desc'",sortColumn:"avg",results:"",page:1,perPage:50,timeframe:"",extended:0},init:{hitting:{sortOrder:"'desc'",sortColumn:"avg"},pitching:{sortOrder:"'asc'",sortColumn:"era"},fielding:{sortOrder:"'desc'",sortColumn:"fpct"}}};if(!eN.hasClass("active")){ek(".tabs li").removeClass("right_border");if(eN.hasClass("tab_parent")){eI=eN.attr("href");W=eI.substring(1);L={tab_level:"parent",click_text:eN.text(),parent_id:eI};this.statTabTypeSelector.value=L;this.statTabTypeSelector.trigger(cs,[this.statTabTypeSelector.value,eO]);ek("#reset_link a").unbind();ek("#reset_link a").fragment(D[W],2);ek("#reset_link a").bind("click",function(){c0.sortablePlayerList=null;updateBbqHash(D[W]);sortablePlayerList=new aj.stats.app.SortablePlayerList(D[W]);sortablePlayerList.load();});ek.bbq.pushState({sectionType:W});}else{if(eN.hasClass("tab_top")){return true;}else{eI=eN.attr("href");A=eI.substring(1);E=A.split("_");B=E[0];parent_id_val=E[1];R="";eJ="";eK="";T=getBbqVal("game_type");if(!T||T===""){T="'"+current_game_type+"'";}eP=getBbqVal("season");if(!eP||eP===""){eP="'"+current_season+"'";}league_code=getBbqVal("league_code");if(!league_code||league_code===""){league_code="'MLB'";}R=D.init[parent_id_val].sortColumn;eJ=D.init[parent_id_val].sortOrder;eK=0;if(B==="sp"){G="Sortable Player ";}else{if(B==="st"){G="Sortable Team ";}}G=G+parent_id_val;if((parent_id_val==="pitching")&&(B==="sp")){eQ="'1'";}else{eQ="";}L={elem:eN,tab_level:"child",click_text:G,game_type:T,season:eP,season_type:"ANY",league_code:league_code,sectionType:B,statType:parent_id_val};ek.bbq.pushState(L);this.statTabTypeSelector.value=L;this.statTabTypeSelector.trigger(cs,[this.statTabTypeSelector.value,eO]);}}}}};var bQ={renderOption:function(D,E,B){var A='<option value="'+D+'"';if(B){A+=" selected";}A+=">"+E+"</option>";return A;},handleUpdate:function(B){var A=B.target.value;this.trigger(cs,[A]);return false;},rerender:function(W,G){G=G.toString();var S=[];var H,L,B,T,E,A,R,D;if(ek.isArray(W)){for(H=0,n=W.length;H<n;++H){A=W[H];for(R in A){L=A[R];L=L.toString();S.push(this.renderOption(R,L,L===G));}}}else{for(L in W){if(typeof(W[L])==="string"){S.push(this.renderOption(L,W[L],L===G));}else{T="<optgroup label='"+L+"'>";for(B in W[L]){T+=this.renderOption(W[L][B],B,B===G);}T+="</optgroup>";S.push(T);}}}return S;},loadOptions:function(B,G,L,H,eI,W){var T=H.name;var A=H.jsonKey;var E=H.value;var S=H.enabled;var R;var D={};if(G){D=G;}else{if(H.loadOptions_data){D=H.loadOptions_data;}}if(typeof(H.dataCache[L])==="undefined"){H.dataCache[L]={};}if(ek.isEmptyObject(H.dataCache[L])){H.dataCache[L]=ek.ajax({url:B,dataType:"json",async:true,data:D});}H.dataCache[L].success(function(eJ){H.setOptions(eJ);});}};function b6(W){var S=aj.stats.widget;var B,A,eM;b6.superclass.constructor.call(this,W);this.defaultCfg={sp:{sectionType:"sp",playerType:"QUALIFIER",statType:"hitting",page_type:"SortablePlayer",season:current_season,season_type:"ANY",sportCode:"'mlb'",league_code:"'MLB'",split:"",team_id:c0.team_id,active_sw:"",game_type:current_game_type,position:"",sortOrder:"'desc'",sortColumn:"avg",results:"",page:1,perPage:50,timeframe:"",extended:0},st:{sectionType:"st",statType:"hitting",season:current_season,sportCode:"'mlb'",league_code:"MLB",split:"",game_type:current_game_type,team_id:c0.team_id,sortOrder:"'desc'",sortColumn:"avg",results:"",page:1,perPage:50,timeframe:"",extended:0}};this.cfg=ek.extend({sectionType:"sp",playerType:"QUALIFIER",statType:"hitting",season:2008,season_type:"ANY",sportCode:b2,league_code:"'MLB'",split:"",team_id:c0.team_id,active_sw:"",game_type:aH,position:[],page_type:"SortablePlayer",sortOrder:"'desc'",sortColumn:"",results:"",page:1,perPage:50,timeframe:"h0",last_x_days:""},W||{});this.datagrid=ek.bindable(new cX(bu));this.datagrid.bind("sort","page",ay(this.setSort,this));this.dataConfigs={sp:{hitting:{SINGLE:{ALL:"stats_sortable_player",QUALIFIER:"stats_sortable_player",default_column:"avg",default_direction:"'desc'",columns:[].concat(dZ,eA,bp),next_stats_arr:[dR,dQ]},ANY:{ALL:"stats_sortable_player",QUALIFIER:"stats_sortable_player",default_column:"avg",default_direction:"'desc'",columns:[].concat(a7,eA,bp),next_stats_arr:[dR,dQ]},ALL:{ALL:"stats_sortable_player",QUALIFIER:"stats_sortable_player",default_column:"avg",default_direction:"'desc'",columns:[].concat(bx,eA,bp),next_stats_arr:[dR,dQ]}},pitching:{SINGLE:{ALL:"stats_sortable_player",QUALIFIER:"stats_sortable_player",default_column:"era",default_direction:"'asc'",columns:[].concat(K,aI,ao,es),next_stats_arr:[aR,aQ,aP]},ANY:{ALL:"stats_sortable_player",QUALIFIER:"stats_sortable_player",default_column:"era",default_direction:"'asc'",columns:[].concat(cK,aI,ao,es),next_stats_arr:[aR,aQ,aP]},ALL:{ALL:"stats_sortable_player",QUALIFIER:"stats_sortable_player",default_column:"era",default_direction:"'asc'",columns:[].concat(a2,aI,ao,es),next_stats_arr:[aR,aQ,aP]}},fielding:{SINGLE:{ALL:"stats_sortable_player",QUALIFIER:"stats_sortable_player",default_column:"fpct",default_direction:"'desc'",columns:[].concat(bV,X,co),next_stats_arr:[]},ANY:{ALL:"stats_sortable_player",QUALIFIER:"stats_sortable_player",default_column:"fpct",default_direction:"'desc'",columns:[].concat(c7,X,co),next_stats_arr:[]},ALL:{ALL:"stats_sortable_player",QUALIFIER:"stats_sortable_player",default_column:"fpct",default_direction:"'desc'",columns:[].concat(eb,X,co),next_stats_arr:[]}}},st:{hitting:{URL:"team_hitting_season_leader_master",SPLIT_URL:"team_hitting_season_leader_sit",default_column:"avg",columns:[].concat(dK,eA,bp),next_stats_arr:[dR,dQ]},pitching:{URL:"team_pitching_season_leader_master",SPLIT_URL:"team_pitching_season_leader_sit",default_column:"era",columns:[].concat(dM,aI,ao,ey),next_stats_arr:[aR,aQ,aP]},fielding:{URL:"team_fielding_season_leader_master",SPLIT_URL:"team_fielding_season_leader_sit",default_column:"fpct",columns:[].concat(at,X,cF),next_stats_arr:[]}}};this.datagrid_postprocessing=function(eT){var eX=sortablePlayerList.cfg;var eZ=eX.sortColumn;var eV=eX.sortOrder;var eY,e0,eQ,eS,eU,eR,eW,e1,eP;var e2=ek.ensureArray(eT.queryResults.row);var eO=e2.length;var eN=document.location.pathname;eU=ek("#datagrid table");if(eX.sectionType==="sp"){eS=this.dataConfigs[eX.sectionType][eX.statType][eX.season_type];}else{if(eX.sectionType==="st"){eS=this.dataConfigs[eX.sectionType][eX.statType];}}eY=eS.columns;e0=eS.default_column;eQ=eS.default_direction;if((eZ==="")||!(bG(eZ,eY))){eZ=e0;eV=eQ;}for(eR=0;eR<eO;eR++){if(e2[eR].qualifies==="E"){e1=eU.find("tr[index='"+eR+"'] td.dg-rank");eW=e1.text();eW="&dagger; "+eW;e1.empty();eP=ek("<abbr></abbr>").html(eW).attr("title","Recognized as league leader under Rule 10.22(a)");eP.appendTo(e1);ek(".tooltip").hide();e1.find("abbr[title]").tooltip();}}eU.find("th.dg-"+eZ).addClass("active");eU.find("td.dg-"+eZ).addClass("active");if(eV==="'asc'"){eU.find("th.active span.sortIcons").html("&#x25b2;").show();}else{eU.find("th.active span.sortIcons").html("&#x25bc;").show();}if(eN.indexOf("_app")===-1){ek(".tooltip").hide();ek("th abbr[title]").tooltip();}};ek("#widgets").addClass("offscreen").removeClass("onscreen");var eK=this.cfg.sectionType;var R=this.cfg.statType;var T=eK+"_"+R;var L=ek("#widgets .panels");this.playerTypeSelector={name:"playerType",type:"playerTypeSelector",base:"radio",enabled:true,update:dg.handleUpdate,value:this.cfg.playerType};this.seasonTypeSelector={name:"season_type",type:"seasonTypeSelector",enabled:true,base:"radio",update:dg.handleUpdate,value:this.cfg.season_type};this.leagueCodeSelector={name:"league_code",type:"leagueCodeSelector",enabled:true,base:"radio",update:dg.handleUpdate,value:this.cfg.league_code};this.seasonSelector={name:"season",type:"seasonSelector",enabled:true,base:"select",update:bQ.handleUpdate,value:this.cfg.season,setOptions:function(){var eN=[];var eS={};var eR=this.value;var eQ=[];var eO=aj.stats.util.range((new Date).getFullYear(),1876);var eP=eO.length;for(i=0;i<eP;i++){eS={};yr=eO[i].toString();eS[yr]=yr;eN.push(eS);}new_option_arr=bQ.rerender(eN,eR);this.dom.html(new_option_arr.join(""));this.dom.find("option[value='"+this.value+"']").attr("selected","selected");if(this.enabled){this.dom.removeAttr("disabled");}else{this.dom.attr("disabled","disabled");}}};this.positionSelector={name:"position",type:"positionSelector",enabled:true,base:"select",update:bQ.handleUpdate,value:this.cfg.position};this.gameTypeSelector={name:"game_type",type:"gameTypeSelector",jsonKey:"org_game_type_date_info",enabled:true,base:"select",value:this.cfg.game_type,update:bQ.handleUpdate,setOptions:function(eS){var e0=this;var eW=this.value;if(!eW){eW="'R'";}var eU="";var eZ="";var eN={};var eR={};var eO=[];var eT,eQ,eX;var eY=[];var eV;var eP=aj.util.getQueryResults(eS,this.jsonKey);eV=eP.length;for(eQ=0;eQ<eV;eQ++){eN={};eU=aj.stats.util.quote(eP[eQ].game_type);if(eU==="'D'"){eZ="Division Series";}else{if(eU==="'L'"){eZ="League Championship Series";}else{if(eU==="'F'"){eZ="Wild Card";}else{eZ=eP[eQ].name_full;}}}eN[eU]=eZ;if(!eR[eU]){eR[eU]=true;eO.push(eN);}}for(eQ=0;eQ<eO.length;eQ++){if(eO[eQ].hasOwnProperty("'D'")){eN={};eN["'P'"]="Postseason Combined";eO.push(eN);}}eY=bQ.rerender(eO,eW);eY.sort(function(e2,e1){var e3={"'R'":0,"'A'":1,"'F'":2,"'D'":3,"'L'":4,"'W'":5,"'P'":6,"'S'":7};var e5=e2.match(/value\=.*(\'+[A-Za-z]\'+)/)[1];var e4=e1.match(/value\=.*(\'+[A-Za-z]\'+)/)[1];return e3[e5]-e3[e4];});this.dom.html(eY.join(""));this.dom.find("option[value='"+this.value+"']").attr("selected","selected");if(this.enabled){this.dom.removeAttr("disabled");}else{this.dom.attr("disabled","disabled");}}};this.hittingSplitsSelector={name:"hitting_splits",type:"hittingSplitsSelector",jsonKey:"properties_season_splits",enabled:true,value:this.cfg.split,base:"select",update:bQ.handleUpdate,setOptions:function(e0){var e1=this;var eN={};var eZ=[];var eU=this.value;var eN={"":"Select Split"};var eT=b9(e0,this.jsonKey);var eW;var eQ,eV,eY,eR,eX,eP,eO="";var eS={};for(eQ=0;eQ<eT.length;eQ++){eR=eT[eQ].nav_menu;eN[eR]={};}for(eY in eN){for(eQ=0;eQ<eT.length;eQ++){if(eT[eQ].nav_menu===eY){eX=eT[eQ].situation;eP=eT[eQ].sit_code;eN[eY][eX]=eP;}}}eZ=bQ.rerender(eN,eU);this.dom.html(eZ.join(""));this.dom.find("option[value='"+this.value+"']").attr("selected","selected");if(this.enabled){this.dom.removeAttr("disabled");}else{this.dom.attr("disabled","disabled");}}};this.pitchingSplitsSelector={name:"pitching_splits",type:"pitchingSplitsSelector",jsonKey:"properties_season_splits",enabled:true,value:this.cfg.split,base:"select",update:bQ.handleUpdate,setOptions:function(e0){var e1=this;var eN={};var eZ=[];var eU=this.value;var eN={"":"Select Split"};var eT=b9(e0,this.jsonKey);var eW;var eQ,eV,eY,eR,eX,eP,eO="";var eS={};for(eQ=0;eQ<eT.length;eQ++){eR=eT[eQ].nav_menu;eN[eR]={};}for(eY in eN){for(eQ=0;eQ<eT.length;eQ++){if(eT[eQ].nav_menu===eY){eX=eT[eQ].situation;eP=eT[eQ].sit_code;eN[eY][eX]=eP;}}}eZ=bQ.rerender(eN,eU);this.dom.html(eZ.join(""));this.dom.find("option[value='"+this.value+"']").attr("selected","selected");if(this.enabled){this.dom.removeAttr("disabled");}else{this.dom.attr("disabled","disabled");}}};this.activePlayerSelector={name:"active_sw",type:"activePlayerSelector",enabled:true,base:"radio",update:dg.handleUpdate,value:this.cfg.active_sw};this.teamSelector={name:"team_id",type:"teamSelector",jsonKey:"team_all_season",enabled:true,base:"select",value:this.cfg.team_id,update:bQ.handleUpdate,setOptions:function(e1){var e2=this;var eN={};var eQ=this.value;var eX;var eP=[{"":"All Teams"}];var eO={};var e0=[];var eV=b9(e1,this.jsonKey);var eZ,eY,eT,eW="";var eU={};var eR,eS;eR=eV.length;for(eT=0;eT<eR;eT++){eO={};eZ=eV[eT].team_id;eY=eV[eT].name_display_full;eO[eZ]=eY;eP.push(eO);}e0=bQ.rerender(eP,eZ);this.dom.html(e0.join(""));this.dom.find("option[value='"+this.value+"']").attr("selected","selected");if(this.enabled){this.dom.removeAttr("disabled");}else{this.dom.attr("disabled","disabled");}}};this.timeframeLinkSelector={base:"link",enabled:true,value:this.cfg.timeframe};this.prev={base:"button",enabled:true,value:this.cfg.extended};this.next={base:"button",enabled:true,value:this.cfg.extended};this.statTabTypeSelector={update:cT.handleUpdate,value:this.cfg.sectionType+"_"+this.cfg.statType+"_child"};this.statTabTypeSelector.dom=ek(".tabs a").unbind().bind("click",{silent:null},ek.proxy(cT.handleUpdate,this));this.timeframeLinkSelector.dom=ek("#time_select ul.horizList").unbind().bind("click",ek.proxy(bc.handleUpdate,this.timeframeLinkSelector));ek.bindable(this.statTabTypeSelector);ek.bindable(this.playerTypeSelector);ek.bindable(this.seasonTypeSelector);ek.bindable(this.leagueCodeSelector);ek.bindable(this.seasonSelector);ek.bindable(this.positionSelector);ek.bindable(this.gameTypeSelector);ek.bindable(this.hittingSplitsSelector);ek.bindable(this.pitchingSplitsSelector);ek.bindable(this.activePlayerSelector);ek.bindable(this.teamSelector);ek.bindable(this.timeframeLinkSelector);this.visible_widget_arr={sp:{hitting:[this.seasonSelector,this.seasonTypeSelector,this.leagueCodeSelector,this.teamSelector,this.gameTypeSelector,this.activePlayerSelector,this.playerTypeSelector,this.positionSelector,this.hittingSplitsSelector],pitching:[this.seasonSelector,this.seasonTypeSelector,this.leagueCodeSelector,this.teamSelector,this.gameTypeSelector,this.activePlayerSelector,this.playerTypeSelector,this.positionSelector,this.pitchingSplitsSelector],fielding:[this.seasonSelector,this.seasonTypeSelector,this.leagueCodeSelector,this.teamSelector,this.gameTypeSelector,this.activePlayerSelector,this.playerTypeSelector,this.positionSelector,this.hittingSplitsSelector]},st:{hitting:[this.leagueCodeSelector,this.seasonSelector,this.gameTypeSelector,this.hittingSplitsSelector],pitching:[this.leagueCodeSelector,this.seasonSelector,this.gameTypeSelector,this.pitchingSplitsSelector],fielding:[this.leagueCodeSelector,this.seasonSelector,this.gameTypeSelector,this.hittingSplitsSelector]}};var G=this.visible_widget_arr[this.cfg.sectionType][this.cfg.statType];var E=G.length;for(i=0;i<E;i++){this.bindDom(G[i]);}this.statTabTypeSelector.bind("update",ay(this.setTabEventProxy,this));this.seasonSelector.bind("update",ay(this.setSeasonEventProxy,this));this.pitchingSplitsSelector.bind("update",ay(this.setSplitsEventProxy,this));this.hittingSplitsSelector.bind("update",ay(this.setSplitsEventProxy,this));this.gameTypeSelector.bind("update",ay(this.setGameTypeEventProxy,this));this.positionSelector.bind("update",ay(this.setPositionEventProxy,this));this.teamSelector.bind("update",ay(this.setTeamEventProxy,this));this.activePlayerSelector.bind("update",ay(this.setActiveEventProxy,this));this.playerTypeSelector.bind("update",ay(this.setPlayerTypeEventProxy,this));this.leagueCodeSelector.bind("update",ay(this.setLeagueEventProxy,this));this.seasonTypeSelector.bind("update",ay(this.setSeasonTypeEventProxy,this));this.timeframeLinkSelector.bind("update",ay(this.setTimeFrameLinkSelectorEventProxy,this));this.seasonSelector.setOptions();A=this.visible_widget_arr[this.cfg.sectionType][this.cfg.statType];eM=A.length;var eJ,H;for(B=0;B<eM;B++){eJ=A[B];if(eJ.base==="radio"){H=eJ.dom;H.filter("[value='"+eJ.value+"']").attr("checked","checked");if(eJ.enabled){H.removeAttr("disabled");}else{H.attr("disabled","disabled");}}else{if(eJ.name==="position"){H.find("option[value='"+eJ.value+"']").attr("selected","selected");}else{if((eJ.name==="season_type")&&(eJ.value==="ANY")){H.attr("checked",false);}}}}ek("fieldset.widget-radio").buttonset();ek("#widgets").removeClass("offscreen").addClass("onscreen");this.pagination=new cD();this.pagination.bind("update",ay(this.setPage,this));ek("#pagination").html(this.pagination.render());if((this.cfg.sectionType==="st")||(ek("#datagrid").has("#error").length>0)){ek("#pagination").hide();}else{ek("#pagination").show();}this.loadDynamicSelectMenus();var D=this.cfg.sectionType;var eI=this.cfg.statType;var eL=D+"_"+eI+"_child";ek("ul.tabs a[id='"+eL+"']").trigger("click",[true]);}ex(b6,eg,{bindDom:function(G){var L=this.cfg.sectionType;var D=this.cfg.statType;var E=L+"_"+D;var B=G.type;var H=ek("#widgets .panels");var A;if(G.base==="radio"){A=dg.handleUpdate;this[B].dom=H.find("input[name='"+E+"_"+G.name+"']").unbind().bind("change",ek.proxy(A,this[B]));}else{if(G.base==="select"){A=bQ.handleUpdate;this[B].dom=H.find("#"+E+"_"+G.name).unbind().bind("change",ek.proxy(A,this[B]));}}},setPage:function(D){var B=ek("#datagrid");B.find("table").hide();aj.stats.util.showSpinner("datagrid");var A=ek.deparam.fragment();A.page=D;updateBbqHash(A);b6.superclass.executeTracking.call(this,{page:D});this.cfg.page=D;this.trigger("setPage",[this.cfg.page]);},loadDynamicSelectMenus:function(E){var eO;var S=this.cfg.sectionType;var eN=this.cfg.statType;if(typeof(E)!=="undefined"){eO=E.type;if(!E.hasOwnProperty("delta")){E.delta=true;}}var A={loadOptions_url:"/lookup/json/named.org_game_type_date_info.bam",loadOptions_data:{sport_code:"'mlb'",current_sw:"'Y'",game_type:["'S'","'R'","'A'","'F'","'D'","'L'","'W'"],season:this.cfg.season||current_season}};var B={loadOptions_url:"/lookup/json/named.team_all_season.bam",loadOptions_data:{all_star_sw:"'N'",sport_code:"'mlb'",sort_order:"'name_asc'",season:this.cfg.season||current_season}};var G={loadOptions_url:"/lookup/json/named.properties_season_splits.bam",loadOptions_data:{season:this.cfg.season||current_season,stat_type:1,v:3}};var eL={loadOptions_url:"/lookup/json/named.properties_season_splits.bam",loadOptions_data:{season:this.cfg.season,stat_type:2,v:3}};var W={sp:{hitting:{ANY:{gameTypeSelector:A,teamSelector:B,hittingSplitsSelector:G},SINGLE:{teamSelector:B},ALL:{teamSelector:B}},pitching:{ANY:{gameTypeSelector:A,teamSelector:B,pitchingSplitsSelector:eL},SINGLE:{teamSelector:B},ALL:{teamSelector:B}},fielding:{ANY:{gameTypeSelector:A,teamSelector:B},SINGLE:{teamSelector:B},ALL:{teamSelector:B}}},st:{hitting:{gameTypeSelector:A,hittingSplitsSelector:G},pitching:{gameTypeSelector:A,pitchingSplitsSelector:eL},fielding:{gameTypeSelector:A}}};var eQ,R,T,eR,eI,eJ,eM,L,H,D,eS;var eP;var eK={};if(S==="sp"){eP=W[S][eN][this.cfg.season_type];}else{if(this.cfg.sectionType==="st"){eP=W[S][eN];}}if((typeof(eP[eO])==="undefined")&&E){if((E.hasOwnProperty("delta")&&(E.delta===true))){H=E.dom;H.find("option[value='"+E.value+"']").attr("selected","selected");if((E.enabled===true)&&(H.find("option").length>1)){H.removeAttr("disabled");}else{H.attr("disabled","disabled");}return;}else{return;}}else{if(!E){eK=eP;}else{eK[eO]=eP[eO];this[eO]=E;}eS="";for(eQ in eK){switch(eQ){case"gameTypeSelector":eS=this.cfg.season+"-"+this.cfg.league_code+"-"+eN+"-"+S;break;case"teamSelector":eS=this.cfg.season+"-"+this.cfg.league_code+"-"+this.cfg.active_sw+"-"+eN+"-"+S;break;case"hittingSplitsSelector":eS=this.cfg.season;break;case"pitchingSplitsSelector":eS=this.cfg.season;break;}if(!this[eQ].dataCache){this[eQ].dataCache={};}if(typeof(this[eQ].dataCache[eS])==="undefined"){this[eQ].dataCache[eS]={};}T=eP[eQ].loadOptions_url;eR=eP[eQ].loadOptions_data;if(this.cfg.league_code&&(this.cfg.league_code!=="'MLB'")){if(eQ==="gameTypeSelector"){eR.league_code=this.cfg.league_code;}if(eQ==="teamSelector"){eR.league=this.cfg.league_code;}}if(this.cfg.active_sw){if(eQ==="teamSelector"){eR.active_sw=this.cfg.active_sw;}}R=this[eQ];bQ.loadOptions(T,eR,eS,R,S,eN);}}},setStatAndPlayerTypes:function(E,H,G,B){var A;if(E.match(/^#/)){B=this.cfg.season_type;G=this.cfg.playerType;A=E.substr(1);section_type_arr=A.split("_");E=section_type_arr[0];H=section_type_arr[1];}this.cfg.sectionType=E;this.cfg.statType=H;this.cfg.playerType=G;this.cfg.season_type=B;var L,D,R;if(this.cfg.sectionType==="sp"){L=b6.dataConfigs[E][H][B].columns;}else{L=b6.dataConfigs[E][H].columns;}if((this.cfg.sortColumn==="")||!(bG(this.cfg.sortColumn,L))){if(this.cfg.sectionType==="sp"){this.cfg.sortColumn=b6.dataConfigs[E][H][B].default_column;}else{if(this.cfg.sectionType==="st"){this.cfg.sortColumn=b6.dataConfigs[E][H].default_column;}}}this.datagrid._data.columns.length=0;for(D=0,R=L.length;D<R;++D){this.datagrid.addColumn(L[D]);}if(this.cfg.sectionType==="sp"){this.trigger("setStatAndPlayerTypes",[this.cfg.sectionType,this.cfg.statType,this.cfg.playerType,this.cfg.season_type]);}else{if(this.cfg.sectionType==="st"){this.trigger("setStatAndPlayerTypes",[this.cfg.sectionType,this.cfg.statType]);}}},setConfig:function(B){var A=ek("#datagrid");A.find("table").hide();A.find("#error").remove();aj.stats.util.showSpinner("datagrid");b6.superclass.setConfig.call(this,B);this.trigger("setConfig",[B]);},setSort:function(B,A){b6.superclass.executeTracking.call(this,B,A);b6.superclass.setSort.call(this,B,A,this.cfg.extended);this.trigger("setSort",[this.cfg.sortColumn,this.cfg.sortOrder,this.cfg.extended]);},setDefaultColumns:function(eJ){if(ek("#toggleMe").length>0){ek("#toggleMe").remove();}var T=document.createElement("style");T.setAttribute("type","text/css");T.setAttribute("id","toggleMe");var eK="";var eN=sortablePlayerList.cfg.sectionType;var eM=sortablePlayerList.cfg.statType;var A=sortablePlayerList.cfg.season_type;if(!eJ){if(eN==="sp"){eJ=sortablePlayerList.dataConfigs[eN][eM][A].next_stats_arr;}else{if(eN==="st"){eJ=sortablePlayerList.dataConfigs[eN][eM].next_stats_arr;}}}var B=parseInt(sortablePlayerList.cfg.extended,10);var S=[];var L=[];var G,D;var E=ek("#stats_prev");var W=ek("#stats_next");var H,eL,R;var eI=eJ.length;if(!eJ.length){W.hide();E.hide();ek("#prev_next_label").hide();}else{W.show();E.show();ek("#prev_next_label").show();if(B<=0){E.removeClass("stats_prev_default").addClass("stats_prev_disabled");}else{E.removeClass("stats_prev_disabled").addClass("stats_prev_default");}if(B>=(eI-1)){W.removeClass("stats_next_default").addClass("stats_next_disabled");}else{W.removeClass("stats_next_disabled").addClass("stats_next_default");}if(eI>0){for(H=0;H<eI;H++){if(H===B){G=eJ[H];eK+=G+" {display:table-cell;}\n";}else{D=eJ[H];eK+=D+" {display:none;}";}}}}if(T.styleSheet){T.styleSheet.cssText=eK;}else{T.appendChild(document.createTextNode(eK));}ek("body").append(T);},setWidgetDependencies:function(W,eO,H){if(typeof(eO)==="undefined"){eO=false;}var eM={season_type:{},season:{},active_sw:{},playerType:{},league_code:{},team_id:{},position:{},split:{},sectionType:{},timeframe:{},game_type:{},statType:{},sortColumn:{},sortOrder:{}};var eQ,T,eL,E,eN,eR;var eJ=[ez,dD,aN,cU,cr,c2,ai,ds,c3,aY,cg,d0,j,bw,cl,C,cv,bj,dx];for(eQ in W){eM[eQ]={};eM[eQ].value=W[eQ];eM[eQ].enabled=true;}var R={};var A={};var D={};var eI,L;var eK=this.visible_widget_arr[eM.sectionType.value][eM.statType.value];var eN=eK.length;if(H){for(eL=0;eL<eN;eL++){this.bindDom(eK[eL]);}this.seasonSelector.setOptions();}var S,G,eP,B;if(eM.sectionType.value==="sp"){B=this.dataConfigs[eM.sectionType.value][eM.statType.value][eM.season_type.value];}else{if(eM.sectionType.value==="st"){B=this.dataConfigs[eM.sectionType.value][eM.statType.value];}}S=B.columns;G=B.default_column;eP=B.default_direction;if((eM.sortColumn.value==="")||!(bG(eM.sortColumn.value,S))){eM.sortColumn.value=G;eM.sortOrder.value=eP;}if((eM.season_type.value!=="ANY")&&(eM.sectionType.value==="sp")){eM.split.value="";eM.split.enabled=false;eM.season.value="";eM.game_type.value="'R'";eM.game_type.enabled=false;eM.active_sw.enabled=true;if(ek.inArray(eM.sortColumn.value,eJ)>-1){eM.playerType.value="QUALIFIER";}else{eM.playerType.value="ALL";}eM.playerType.enabled=false;eM.last_x_days.value="";eM.timeframe.value="";eM.timeframe.enabled=false;}else{if(eM.sectionType.value==="sp"){eM.active_sw.enabled=false;eM.active_sw.value="";this.seasonTypeSelector.dom.attr("checked",false).button("refresh");}eM.split.enabled=true;eM.game_type.enabled=true;eM.season.enabled=true;eM.timeframe.enabled=true;if(!eM.game_type.value){eM.game_type.value="'R'";}if(parseInt(eM.season.value,10)<=1902){eM.game_type.value="'R'";eM.game_type.enabled=false;}if(eM.game_type.value==="'A'"){if(eM.sectionType.value==="sp"){eM.team_id.value="";eM.team_id.enabled=false;eM.playerType.value="ALL";eM.playerType.enabled=false;}eM.last_x_days.value="";eM.timeframe.value="";eM.timeframe.enabled=false;eM.split.value="";eM.split.enabled=false;}else{if(eM.sectionType.value==="st"){eM.timeframe.value="";eM.timeframe.enabled=false;}else{if(eM.game_type.value==="'R'"){if(parseInt(eM.season.value,10)<1999){eM.timeframe.value="";eM.timeframe.enabled=false;}else{if(parseInt(eM.season.value,10)===parseInt(current_season,10)){eM.timeframe.enabled=true;}else{eM.timeframe.valid=["h0","preas","posas"];eM.timeframe.enabled=true;if(ek.inArray(eM.timeframe.value,eM.timeframe.valid)===-1){eM.timeframe.value="";eM.last_x_days.value="";}}}}else{eM.timeframe.value="";eM.last_x_days.value="";eM.timeframe.enabled=false;}eM.team_id.enabled=true;eM.playerType.enabled=true;}}if(eM.split.value&&(eM.sectionType.value==="sp")){eM.playerType.value="ALL";eM.playerType.enabled=false;if(ek.inArray(eM.split.value,["preas","posas"])<0){eM.timeframe.value="";eM.last_x_days.value="";}}}if(eM.statType.value==="fielding"){eM.season_type.value="ANY";eM.season_type.enabled=false;eM.split.value="";eM.split.enabled=false;eM.timeframe.value="";eM.timeframe.enabled=false;eM.last_x_days.value="";if(!eM.season.value){eM.season.value=current_season;}if(!eM.game_type.value){eM.game_type.value="'R'";}}else{eM.season_type.enabled=true;}if(eM.statType.value==="pitching"){eM.position.value="'1'";eM.position.enabled=false;}if(eM.timeframe.value){if(eM.timeframe.value.match(/^#/)){eM.timeframe.value=eM.timeframe.value.substring(1);}if(eM.timeframe.value!=="h0"){eM.split.value="";eM.split.enabled=false;}else{eM.split.value="";eM.split.enabled=true;}}if(eM.timeframe.enabled!==true){ek("#time_select").hide();}else{if(eM.timeframe.value){if(ek.inArray(eM.timeframe.value,["d1","d7","d30"])>-1){eM.last_x_days.value=eM.timeframe.value.substring(1);}else{if(eM.timeframe.value==="h0"){eM.timeframe.value="";eM.split.value="";eM.last_x_days.value="";}else{if(ek.inArray(eM.timeframe.value,["preas","posas"])>-1){eM.split.value=eM.timeframe.value;eM.last_x_days.value="";eM.playerType.value="ALL";eM.playerType.enabled=false;}}}}else{ek("#h0").addClass("clicked");eM.split.enabled=true;}ek("#time_select").show();if(typeof(eM.timeframe.valid)!=="undefined"){ek("ul.horizList li a").hide();for(eL=0;eL<eM.timeframe.valid.length;eL++){ek("ul.horizList li a#"+eM.timeframe.valid[eL]).show();}}else{ek("ul.horizList li a").show();}}for(eL=0;eL<eN;eL++){E=eK[eL];L=E.name;if(/splits$/.test(L)){L="split";}if((E.value!==eM[L].value)||(E.enabled!==eM[L].enabled)||H){eR=true;}else{eR=false;}E.delta=eR;if(E.base==="radio"&&(eR===true)){E.value=eM[L].value;E.enabled=eM[L].enabled;eI=E.dom;eI.filter("[value='"+eM[L].value+"']").attr("checked","checked");if(eM[L].enabled===true){eI.button("enable");}else{eI.button("disable");}eI.button("refresh");}else{if(E.base==="select"){E.value=eM[L].value;E.enabled=eM[L].enabled;if(E.enabled){E.dom.removeAttr("disabled");sortablePlayerList.loadDynamicSelectMenus(E);}else{E.dom.attr("disabled","disabled");}}}}if((eM.sectionType.value==="st")||(ek("#datagrid").has("#error").length>0)){ek("#pagination").hide();}else{ek("#pagination").show();}for(eQ in eM){W[eQ]=eM[eQ].value;}sortablePlayerList.cfg=ek.extend({},sortablePlayerList.cfg,W);if(eO===false){ek.bbq.pushState(W);}},setTabEventProxy:function(H,D){var A=ek("#top_nav .tabs li");var G=A.find("a[id^='"+H.sectionType+"'].tab_child");var E=A.find("a[id^='"+H.sectionType+"'].tab_parent");if(H.tab_level==="parent"){A.find("a.tab_child").hide();A.find("a[href^='"+H.parent_id+"'].tab_child").show();if(!D){this.executeTracking.call(this,{tab:H.click_text});}this.setConfig({sectionType:H.parent_id.substring(1)});}else{var L=ek("#top_nav .tabs a.active");var B=H.elem;var R=H.sectionType+"_"+H.statType;A.removeClass("right_border");L.removeClass("active");ek("#"+R).removeClass("offscreen").addClass("onscreen");ek("#"+R).children().removeClass("offscreen").addClass("onscreen");ek("#"+R).siblings().removeClass("onscreen").addClass("offscreen");ek("#"+R).siblings().children().removeClass("onscreen").addClass("offscreen");B.addClass("active").show();G.show();G.last().parent().addClass("right_border");A.find("a.tab_parent").parent().addClass("right_border");A.find("a.tab_top").not(":last").parent().addClass("right_border");E.parent().removeClass("right_border");delete H.elem;if(!D){this.executeTracking.call(this,{tab:H.click_text});}this.setConfig(H);}if(!D){this.setWidgetDependencies(this.cfg,null,true);}},setActiveEventProxy:function(A){this.activePlayerSelector.value=A;this.executeTracking.call(this,{active_sw:A});this.setConfig({active_sw:A});},setSplitsEventProxy:function(A){var B={};if(A&&(this.cfg.sectionType==="sp")){this.playerTypeSelector.value="ALL";this.playerTypeSelector.enabled=false;this.playerTypeSelector.dom.filter("[value='"+this.playerTypeSelector.value+"']").attr("checked","checked");this.playerTypeSelector.dom.attr("disabled","disabled").button("refresh");B.playerType="ALL";if(ek.inArray(A,["preas","posas"])<0){B.timeframe="";B.last_x_days="";ek("ul.horizList a").removeClass("clicked");ek("#h0").addClass("clicked");}}B.split=A;if(this.cfg.statType==="pitching"){this.pitchingSplitsSelector.value=A;}else{this.hittingSplitsSelector.value=A;}this.executeTracking.call(this,{split:A});this.setConfig(B);},setTimeFrameLinkSelectorEventProxy:function(B){var A=["h0","preas","posas"];var D={};D.timeframe=B;if(B){if(B.match(/^#/)){B=B.substring(1);}if(B!=="h0"){if(this.cfg.statType==="pitching"){this.pitchingSplitsSelector.value="";this.pitchingSplitsSelector.dom.find("option[value='"+this.pitchingSplitsSelector.value+"']").attr("selected","selected");this.pitchingSplitsSelector.dom.attr("disabled","disabled");this.pitchingSplitsSelector.enabled=false;D.split="";}else{this.hittingSplitsSelector.value="";this.hittingSplitsSelector.dom.find("option[value='"+this.hittingSplitsSelector.value+"']").attr("selected","selected");this.hittingSplitsSelector.dom.attr("disabled","disabled");this.hittingSplitsSelector.enabled=false;D.split="";}}}if(this.timeframeLinkSelector.enabled!==true){ek("#time_select").hide();}else{if(B){if(ek.inArray(B,["d1","d7","d30"])>-1){this.cfg.last_x_days=B.substring(1);D.last_x_days=this.cfg.last_x_days;}else{if(B==="h0"){this.timeframeLinkSelector.value="";D.timeframe="";if(this.cfg.statType==="pitching"){this.pitchingSplitsSelector.value="";this.pitchingSplitsSelector.dom.find("option[value='"+this.pitchingSplitsSelector.value+"']").attr("selected","selected");this.pitchingSplitsSelector.dom.removeAttr("disabled");this.pitchingSplitsSelector.enabled=true;D.split="";}else{this.hittingSplitsSelector.value="";this.hittingSplitsSelector.dom.find("option[value='"+this.hittingSplitsSelector.value+"']").attr("selected","selected");this.hittingSplitsSelector.dom.removeAttr("disabled");this.hittingSplitsSelector.enabled=true;D.split="";}D.last_x_days="";}else{if(ek.inArray(B,["preas","posas"])>-1){if(this.cfg.statType==="pitching"){this.pitchingSplitsSelector.value=B;this.pitchingSplitsSelector.dom.find("option[value='"+this.pitchingSplitsSelector.value+"']").attr("selected","selected");this.pitchingSplitsSelector.dom.removeAttr("disabled");this.pitchingSplitsSelector.enabled=true;D.split=B;}else{this.hittingSplitsSelector.value=B;this.hittingSplitsSelector.dom.find("option[value='"+this.hittingSplitsSelector.value+"']").attr("selected","selected");this.hittingSplitsSelector.dom.removeAttr("disabled");this.hittingSplitsSelector.enabled=true;D.split=B;}this.cfg.last_x_days.value="";D.last_x_days="";this.playerTypeSelector.value="ALL";this.playerTypeSelector.enabled=false;this.playerTypeSelector.dom.filter("[value='"+this.playerTypeSelector.value+"']").attr("checked","checked");this.playerTypeSelector.dom.attr("disabled","disabled").button("refresh");D.playerType="ALL";}}}}ek("#time_select").show();if((parseInt(this.cfg.season,10)>=1999)&&(parseInt(this.cfg.season,10)!==parseInt(c0.current_season,10))){ek("ul.horizList li a").hide();for(i=0;i<A.length;i++){ek("ul.horizList li a#"+A[i]).show();}}else{ek("ul.horizList li a").show();}}this.timeframeLinkSelector.value=B;this.executeTracking.call(this,{timeframe:B});this.setConfig(D);},setGameTypeEventProxy:function(B){var D={};D.game_type=B;var A;if(B==="'A'"){if(this.cfg.sectionType==="sp"){this.teamSelector.value="";this.teamSelector.dom.find("option[value='"+this.teamSelector.value+"']").attr("selected","selected");this.teamSelector.dom.attr("disabled","disabled");this.teamSelector.enabled=false;D.team_id="";this.playerTypeSelector.value="ALL";this.playerTypeSelector.enabled=false;this.playerTypeSelector.dom.filter("[value='"+this.playerTypeSelector.value+"']").attr("checked","checked");this.playerTypeSelector.dom.attr("disabled","disabled").button("refresh");D.playerType="ALL";}this.cfg.last_x_days.value="";this.timeframeLinkSelector.value="";this.timeframeLinkSelector.enabled=false;D.timeframe="";ek("#time_select").hide();if(this.cfg.statType==="pitching"){this.pitchingSplitsSelector.value="";this.pitchingSplitsSelector.dom.find("option[value='"+this.pitchingSplitsSelector.value+"']").attr("selected","selected");this.pitchingSplitsSelector.dom.attr("disabled","disabled");this.pitchingSplitsSelector.enabled=false;D.split="";}else{this.hittingSplitsSelector.value="";this.hittingSplitsSelector.dom.find("option[value='"+this.hittingSplitsSelector.value+"']").attr("selected","selected");this.hittingSplitsSelector.dom.attr("disabled","disabled");this.hittingSplitsSelector.enabled=false;D.split="";}}else{if(this.cfg.sectionType.value==="st"){this.timeframeLinkSelector.value="";this.cfg.last_x_days.value="";D.timeframe="";ek("#time_select").hide();}else{if(B==="'R'"){if(parseInt(this.cfg.season,10)<1999){this.timeframeLinkSelector.value="";this.timeframeLinkSelector.enabled=false;D.timeframe="";ek("#time_select").hide();}else{if(parseInt(this.cfg.season.value,10)===parseInt(c0.current_season,10)){this.timeframeLinkSelector.enabled=true;}else{A=["h0","preas","posas"];this.timeframeLinkSelector.enabled=true;if(ek.inArray(this.timeframeLinkSelector.value,A)===-1){this.timeframeLinkSelector.value="";this.cfg.last_x_days.value="";D.timeframe="";ek("#time_select").hide();}}}}else{this.timeframeLinkSelector.value="";this.cfg.last_x_days.value="";D.timeframe="";ek("#time_select").hide();}if(this.cfg.sectionType.value==="sp"){this.teamSelector.enabled=true;this.teamSelector.dom.find("option[value='"+this.teamSelector.value+"']").attr("selected","selected");this.teamSelector.dom.removeAttr("disabled");this.playerTypeSelector.enabled=true;this.playerTypeSelector.dom.filter("[value='"+this.playerTypeSelector.value+"']").attr("checked","checked");this.playerTypeSelector.dom.removeAttr("disabled").button("refresh");}}}this.gameTypeSelector.value=B;this.executeTracking.call(this,{game_type:B});this.setConfig(D);},setLeagueEventProxy:function(A){this.leagueCodeSelector.value=A;this.executeTracking.call(this,{league_code:A});this.setConfig({league_code:A});if(this.cfg.sectionType==="sp"){this.loadDynamicSelectMenus(this.teamSelector);}},setPlayerTypeEventProxy:function(A){this.playerTypeSelector.value=A;this.executeTracking.call(this,{playerType:A});this.setConfig({playerType:A});},setPositionEventProxy:function(A){this.positionSelector.value=A;this.executeTracking.call(this,{position:A});this.setConfig({position:A});},setSeasonTypeEventProxy:function(H){var E={};var G=this.cfg.statType;var D=[ez,dD,aN,cU,cr,c2,ai,ds,c3,aY,cg,d0,j,bw,cl,C,cv,bj,dx];var R,B,A,L;if(this.cfg.sectionType==="sp"){L=this.dataConfigs[this.cfg.sectionType][this.cfg.statType][this.cfg.season_type];}else{if(this.cfg.sectionType==="st"){L=this.dataConfigs[this.cfg.sectionType][this.cfg.statType];}}R=L.columns;B=L.default_column;A=L.default_direction;if((this.cfg.sortColumn==="")||!(bG(this.cfg.sortColumn,R))){this.cfg.sortColumn=B;this.cfg.sortOrder=A;}if(G==="pitching"){this.pitchingSplitsSelector.value="";this.pitchingSplitsSelector.dom.find("option[value='"+this.pitchingSplitsSelector.value+"']").attr("selected","selected");this.pitchingSplitsSelector.dom.attr("disabled","disabled");this.pitchingSplitsSelector.enabled=false;E.split="";}else{this.hittingSplitsSelector.value="";this.hittingSplitsSelector.dom.find("option[value='"+this.hittingSplitsSelector.value+"']").attr("selected","selected");this.hittingSplitsSelector.dom.attr("disabled","disabled");this.hittingSplitsSelector.enabled=false;E.split="";}this.seasonSelector.value="";this.seasonSelector.dom.find("option[value='"+this.seasonSelector.value+"']").attr("selected","selected");E.season="";this.gameTypeSelector.value="'R'";this.gameTypeSelector.enabled=false;this.gameTypeSelector.dom.find("option[value='"+this.gameTypeSelector.value+"']").attr("selected","selected");this.gameTypeSelector.dom.attr("disabled","disabled");E.game_type="'R'";this.activePlayerSelector.enabled=true;this.activePlayerSelector.dom.removeAttr("disabled").button("refresh");if(ek.inArray(this.cfg.sortColumn.value,D)>-1){this.playerTypeSelector.value="QUALIFIER";}else{this.playerTypeSelector.value="ALL";}this.playerTypeSelector.enabled=false;E.playerType=this.playerTypeSelector.value;this.playerTypeSelector.dom.filter("[value='"+this.playerTypeSelector.value+"']").attr("checked","checked");this.playerTypeSelector.dom.attr("disabled","disabled").button("refresh");this.cfg.last_x_days.value="";this.timeframeLinkSelector.value="";this.timeframeLinkSelector.enabled=false;E.timeframe="";ek("#time_select").hide();E.season_type=H;this.seasonTypeSelector.value=H;this.executeTracking.call(this,{season_type:H});this.setConfig(E);},setSeasonEventProxy:function(B){var D=B;var A;if(this.cfg.sectionType==="sp"){this.seasonTypeSelector.dom.attr("checked",false).button("refresh");}this.seasonSelector.value=B;this.executeTracking.call(this,{season:D});this.setConfig({season:D,season_type:"ANY"});this.setWidgetDependencies(this.cfg);},setTeamEventProxy:function(E){var B="team_id";var A=E;var D=this.playerTypeSelector.dom;ek(D+"[value='ALL']").attr("checked","checked").button("refresh");this.teamSelector.value=E;this.executeTracking.call(this,{team_id:A});this.setConfig({team_id:A,playerType:"ALL"});},load:function(){var R=sortablePlayerList.cfg;var S=ek.param(R);if(!this.datagridCache){this.datagridCache={};}var eK=R.sectionType;var eI=R.split;var D,eJ,W,L,E,H;if(eK==="st"){H=sortablePlayerList.dataConfigs[R.sectionType][R.statType];if(eI){D=H.SPLIT_URL;}else{D=H.URL;}eJ="/lookup/json/named."+D+".bam";}else{if(eK==="sp"){H=sortablePlayerList.dataConfigs[R.sectionType][R.statType][R.season_type];D=H[R.playerType];eJ="/pubajax/wf/flow/stats.splayer";}}W=H.columns;if((R.sortColumn==="")||!(bG(R.sortColumn,W))){R.sortColumn=H.default_column;R.sortOrder=H.default_direction;}var T=D,B=eJ,G={season:R.season,sort_order:R.sortOrder};if(typeof(this.datagridCache[S])==="undefined"){this.datagridCache[S]={};G.sort_column=aj.stats.util.quote(R.sortColumn);if(R.statType&&(R.sectionType==="sp")){G.stat_type=R.statType;}if(R.page_type&&(R.sectionType==="sp")){G.page_type=R.page_type;}if(R.team_id&&(R.sectionType==="sp")){G.team_id=R.team_id;}if(R.game_type){if(R.game_type==="'P'"){G.game_type=["'F'","'D'","'L'","'W'"];}else{G.game_type=R.game_type;}}else{G.game_type="'R'";}if(R.last_x_days&&(R.sectionType==="sp")){G.last_x_days=R.last_x_days;}if(R.playerType&&(R.sectionType==="sp")){G.player_pool=R.playerType;}if(R.season_type&&(R.sectionType==="sp")){G.season_type=R.season_type;}if(R.active_sw&&(R.active_sw.length>0)&&(R.sectionType==="sp")){if(typeof(R.active_sw)==="string"){G.active_sw=R.active_sw;}else{delete G.active_sw;}}if((R.league_code!=="'MLB'")&&R.league_code){G.league_code=R.league_code;if(R.sectionType==="sp"){G.sport_code=R.sportCode;}}else{G.sport_code=R.sportCode;}if((R.season_type!=="'ANY'")&&(R.sectionType==="sp")){G.results="1000";}if(R.position&&(R.position.length>=1)&&(R.sectionType==="sp")){G.position=R.position;}if(R.split){G.sit_code=aj.stats.util.quote(R.split);}G[x]=R.page;G[bn]=R.perPage;this.datagridCache[S]=ek.ajax({url:B,dataType:"json",data:G,error:function(){var eL=ek("<div></div>").attr("id","error").css({"text-align":"center","font-weight":"bold",padding:"10px",margin:"20px",border:"2px solid red"}).html("This report is taking a long time to process. We're working on it in the background; please <a href='javascript:window.location.reload(true);'>refresh</a> to try the query again.");aj.stats.util.hideSpinner("datagrid");ek("#datagrid").empty().append(eL);ek("#pagination").hide();}});}function A(eO,eN){var eP,eL,eU;this.datagrid._data.columns.length=0;for(eP=0,eL=W.length;eP<eL;++eP){this.datagrid.addColumn(W[eP]);}eO=dv(eO,T);var eT=this.datagrid;var eR=this.cfg.sortColumn;var eQ,eS,eP,eM;if(eO.queryResults.totalSize>0){eQ=eO.queryResults.row;eS=eQ.length;eP,eM;if(eS>0){for(eP=0;eP<eS;eP++){for(eM in eQ[eP]){if(!eQ[eP][eM]){eQ[eP][eM]="-";}}}}}eT.clearData();eT.loadData({data:eO,callback:function(){aj.stats.util.hideSpinner("datagrid");ek("#datagrid table").show();eT.render("datagrid");c0.sortablePlayerList.setDefaultColumns();}});this.datagrid_postprocessing(eO);eU=dv(eO,"queryResults."+M);if((this.cfg.sectionType==="sp")&&(parseInt(eU,10)>0)&&!(ek("#datagrid").has("#error").length)){this.pagination.setPages(eU);this.pagination.setPage(dv(eO,"queryResults."+x));}else{ek("#pagination").hide();}}this.datagridCache[S].success(a8(A,this));}});aj.namespace("stats.app").SortablePlayerList=b6;})(jQuery,this);var sortablePlayerList;$(function(){$("<div></div>").attr("id","banner_ad").insertBefore("#header_container #header");$(window).trigger("hashchange");multiRefreshableAd.init([{id:"#right_tower",size:"160x600",syncOrd:true,interval:30},{id:"#banner_ad",size:"728x90",syncOrd:true,interval:30}]);});/*! stopgap_end */