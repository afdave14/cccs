/*! stopgap_start */if(typeof deconcept=="undefined"){var deconcept=new Object();}if(typeof deconcept.util=="undefined"){deconcept.util=new Object();}if(typeof deconcept.SWFObjectUtil=="undefined"){deconcept.SWFObjectUtil=new Object();}deconcept.SWFObject=function(o,b,p,e,k,l,g,f,d,m){if(!document.getElementById){return;}this.DETECT_KEY=m?m:"detectflash";this.skipDetect=deconcept.util.getRequestParameter(this.DETECT_KEY);this.params=new Object();this.variables=new Object();this.attributes=new Array();if(o){this.setAttribute("swf",o);}if(b){this.setAttribute("id",b);}if(p){this.setAttribute("width",p);}if(e){this.setAttribute("height",e);}if(k){this.setAttribute("version",new deconcept.PlayerVersion(k.toString().split(".")));}this.installedVer=deconcept.SWFObjectUtil.getPlayerVersion();if(!window.opera&&document.all&&this.installedVer.major>7){deconcept.SWFObject.doPrepUnload=true;}if(l){this.addParam("bgcolor",l);}var a=g?g:"high";this.addParam("quality",a);this.setAttribute("useExpressInstall",false);this.setAttribute("doExpressInstall",false);var j=(f)?f:window.location;this.setAttribute("xiRedirectUrl",j);this.setAttribute("redirectUrl","");if(d){this.setAttribute("redirectUrl",d);}};deconcept.SWFObject.prototype={useExpressInstall:function(a){this.xiSWFPath=!a?"expressinstall.swf":a;this.setAttribute("useExpressInstall",true);},setAttribute:function(a,b){this.attributes[a]=b;},getAttribute:function(a){return this.attributes[a];},addParam:function(b,a){this.params[b]=a;},getParams:function(){return this.params;},addVariable:function(b,a){this.variables[b]=a;},getVariable:function(a){return this.variables[a];},getVariables:function(){return this.variables;},getVariablePairs:function(){var c=new Array();var b;var a=this.getVariables();for(b in a){c[c.length]=b+"="+a[b];}return c;},getSWFHTML:function(){var b="";if(navigator.plugins&&navigator.mimeTypes&&navigator.mimeTypes.length){if(this.getAttribute("doExpressInstall")){this.addVariable("MMplayerType","PlugIn");this.setAttribute("swf",this.xiSWFPath);}b='<embed type="application/x-shockwave-flash" src="'+this.getAttribute("swf")+'" width="'+this.getAttribute("width")+'" height="'+this.getAttribute("height")+'" style="'+this.getAttribute("style")+'"';b+=' id="'+this.getAttribute("id")+'" name="'+this.getAttribute("id")+'" ';var f=this.getParams();for(var e in f){b+=[e]+'="'+f[e]+'" ';}var d=this.getVariablePairs().join("&");if(d.length>0){b+='flashvars="'+d+'"';}b+="/>";}else{if(this.getAttribute("doExpressInstall")){this.addVariable("MMplayerType","ActiveX");this.setAttribute("swf",this.xiSWFPath);}b='<object id="'+this.getAttribute("id")+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+this.getAttribute("width")+'" height="'+this.getAttribute("height")+'" style="'+this.getAttribute("style")+'">';b+='<param name="movie" value="'+this.getAttribute("swf")+'" />';var c=this.getParams();for(var e in c){b+='<param name="'+e+'" value="'+c[e]+'" />';}var a=this.getVariablePairs().join("&");if(a.length>0){b+='<param name="flashvars" value="'+a+'" />';}b+="</object>";}return b;},write:function(b){if(this.getAttribute("useExpressInstall")){var a=new deconcept.PlayerVersion([6,0,65]);if(this.installedVer.versionIsValid(a)&&!this.installedVer.versionIsValid(this.getAttribute("version"))){this.setAttribute("doExpressInstall",true);this.addVariable("MMredirectURL",escape(this.getAttribute("xiRedirectUrl")));document.title=document.title.slice(0,47)+" - Flash Player Installation";this.addVariable("MMdoctitle",document.title);}}if(this.skipDetect||this.getAttribute("doExpressInstall")||this.installedVer.versionIsValid(this.getAttribute("version"))){var c=(typeof b=="string")?document.getElementById(b):b;c.innerHTML=this.getSWFHTML();return true;}else{if(this.getAttribute("redirectUrl")!=""){document.location.replace(this.getAttribute("redirectUrl"));}}return false;}};deconcept.SWFObjectUtil.getPlayerVersion=function(){var f=new deconcept.PlayerVersion([0,0,0]);if(navigator.plugins&&navigator.mimeTypes.length){var a=navigator.plugins["Shockwave Flash"];if(a&&a.description){f=new deconcept.PlayerVersion(a.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s+r|\s+b[0-9]+)/,".").split("."));}}else{if(navigator.userAgent&&navigator.userAgent.indexOf("Windows CE")>=0){var b=1;var c=3;while(b){try{c++;b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+c);f=new deconcept.PlayerVersion([c,0,0]);}catch(d){b=null;}}}else{try{var b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");}catch(d){try{var b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");f=new deconcept.PlayerVersion([6,0,21]);b.AllowScriptAccess="always";}catch(d){if(f.major==6){return f;}}try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");}catch(d){}}if(b!=null){f=new deconcept.PlayerVersion(b.GetVariable("$version").split(" ")[1].split(","));}}}return f;};deconcept.PlayerVersion=function(a){this.major=a[0]!=null?parseInt(a[0]):0;this.minor=a[1]!=null?parseInt(a[1]):0;this.rev=a[2]!=null?parseInt(a[2]):0;};deconcept.PlayerVersion.prototype.versionIsValid=function(a){if(this.major<a.major){return false;}if(this.major>a.major){return true;}if(this.minor<a.minor){return false;}if(this.minor>a.minor){return true;}if(this.rev<a.rev){return false;}return true;};deconcept.util={getRequestParameter:function(c){var d=document.location.search||document.location.hash;if(c==null){return d;}if(d){var b=d.substring(1).split("&");for(var a=0;a<b.length;a++){if(b[a].substring(0,b[a].indexOf("="))==c){return b[a].substring((b[a].indexOf("=")+1));}}}return"";}};deconcept.SWFObjectUtil.cleanupSWFs=function(){var b=document.getElementsByTagName("OBJECT");for(var c=b.length-1;c>=0;c--){b[c].style.display="none";for(var a in b[c]){if(typeof b[c][a]=="function"){b[c][a]=function(){};}}}};if(deconcept.SWFObject.doPrepUnload){if(!deconcept.unloadSet){deconcept.SWFObjectUtil.prepUnload=function(){__flash_unloadHandler=function(){};__flash_savedUnloadHandler=function(){};window.attachEvent("onunload",deconcept.SWFObjectUtil.cleanupSWFs);};window.attachEvent("onbeforeunload",deconcept.SWFObjectUtil.prepUnload);deconcept.unloadSet=true;}}if(!document.getElementById&&document.all){document.getElementById=function(a){return document.all[a];};}var getQueryParamValue=deconcept.util.getRequestParameter;var FlashObject=deconcept.SWFObject;var SWFObject=deconcept.SWFObject;function nullFlashLoopFunction(){__flash_savedUnloadHandler=null;}window.onbeforeunload=nullFlashLoopFunction;var swfobject=function(){var aq="undefined",aE="object",ab="Shockwave Flash",X="ShockwaveFlash.ShockwaveFlash",aF="application/x-shockwave-flash",ac="SWFObjectExprInst",ay="onreadystatechange",af=window,aM=document,aC=navigator,aa=false,Z=[aO],aH=[],ag=[],al=[],aK,ad,ap,at,ak=false,aV=false,aI,an,aJ=true,ah=function(){var a=typeof aM.getElementById!=aq&&typeof aM.getElementsByTagName!=aq&&typeof aM.createElement!=aq,e=aC.userAgent.toLowerCase(),c=aC.platform.toLowerCase(),h=c?/win/.test(c):/win/.test(e),k=c?/mac/.test(c):/mac/.test(e),g=/webkit/.test(e)?parseFloat(e.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false,d=!+"\v1",f=[0,0,0],l=null;if(typeof aC.plugins!=aq&&typeof aC.plugins[ab]==aE){l=aC.plugins[ab].description;if(l&&!(typeof aC.mimeTypes!=aq&&aC.mimeTypes[aF]&&!aC.mimeTypes[aF].enabledPlugin)){aa=true;d=false;l=l.replace(/^.*\s+(\S+\s+\S+$)/,"$1");f[0]=parseInt(l.replace(/^(.*)\..*$/,"$1"),10);f[1]=parseInt(l.replace(/^.*\.(.*)\s.*$/,"$1"),10);f[2]=/[a-zA-Z]/.test(l)?parseInt(l.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0;}}else{if(typeof af.ActiveXObject!=aq){try{var j=new ActiveXObject(X);if(j){l=j.GetVariable("$version");if(l){d=true;l=l.split(" ")[1].split(",");f=[parseInt(l[0],10),parseInt(l[1],10),parseInt(l[2],10)];}}}catch(b){}}}return{w3:a,pv:f,wk:g,ie:d,win:h,mac:k};}(),aL=function(){if(!ah.w3){return;}if((typeof aM.readyState!=aq&&aM.readyState=="complete")||(typeof aM.readyState==aq&&(aM.getElementsByTagName("body")[0]||aM.body))){aQ();}if(!ak){if(typeof aM.addEventListener!=aq){aM.addEventListener("DOMContentLoaded",aQ,false);}if(ah.ie&&ah.win){aM.attachEvent(ay,function(){if(aM.readyState=="complete"){aM.detachEvent(ay,arguments.callee);aQ();}});if(af==top){(function(){if(ak){return;}try{aM.documentElement.doScroll("left");}catch(a){setTimeout(arguments.callee,0);return;}aQ();})();}}if(ah.wk){(function(){if(ak){return;}if(!/loaded|complete/.test(aM.readyState)){setTimeout(arguments.callee,0);return;}aQ();})();}aD(aQ);}}();function aQ(){if(ak){return;}try{var b=aM.getElementsByTagName("body")[0].appendChild(ar("span"));b.parentNode.removeChild(b);}catch(a){return;}ak=true;var d=Z.length;for(var c=0;c<d;c++){Z[c]();}}function aj(a){if(ak){a();}else{Z[Z.length]=a;}}function aD(a){if(typeof af.addEventListener!=aq){af.addEventListener("load",a,false);}else{if(typeof aM.addEventListener!=aq){aM.addEventListener("load",a,false);}else{if(typeof af.attachEvent!=aq){aN(af,"onload",a);}else{if(typeof af.onload=="function"){var b=af.onload;af.onload=function(){b();a();};}else{af.onload=a;}}}}}function aO(){if(aa){Y();}else{am();}}function Y(){var d=aM.getElementsByTagName("body")[0];var b=ar(aE);b.setAttribute("type",aF);var a=d.appendChild(b);if(a){var c=0;(function(){if(typeof a.GetVariable!=aq){var e=a.GetVariable("$version");if(e){e=e.split(" ")[1].split(",");ah.pv=[parseInt(e[0],10),parseInt(e[1],10),parseInt(e[2],10)];}}else{if(c<10){c++;setTimeout(arguments.callee,10);return;}}d.removeChild(b);a=null;am();})();}else{am();}}function am(){var g=aH.length;if(g>0){for(var h=0;h<g;h++){var c=aH[h].id;var m=aH[h].callbackFn;var a={success:false,id:c};if(ah.pv[0]>0){var j=aT(c);if(j){if(ao(aH[h].swfVersion)&&!(ah.wk&&ah.wk<312)){az(c,true);if(m){a.success=true;a.ref=aw(c);m(a);}}else{if(aH[h].expressInstall&&au()){var e={};e.data=aH[h].expressInstall;e.width=j.getAttribute("width")||"0";e.height=j.getAttribute("height")||"0";if(j.getAttribute("class")){e.styleclass=j.getAttribute("class");}if(j.getAttribute("align")){e.align=j.getAttribute("align");}var f={};var d=j.getElementsByTagName("param");var l=d.length;for(var k=0;k<l;k++){if(d[k].getAttribute("name").toLowerCase()!="movie"){f[d[k].getAttribute("name")]=d[k].getAttribute("value");}}ae(e,f,c,m);}else{aG(j);if(m){m(a);}}}}}else{az(c,true);if(m){var b=aw(c);if(b&&typeof b.SetVariable!=aq){a.success=true;a.ref=b;}m(a);}}}}}function aw(b){var d=null;var c=aT(b);if(c&&c.nodeName=="OBJECT"){if(typeof c.SetVariable!=aq){d=c;}else{var a=c.getElementsByTagName(aE)[0];if(a){d=a;}}}return d;}function au(){return !aV&&ao("6.0.65")&&(ah.win||ah.mac)&&!(ah.wk&&ah.wk<312);}function ae(f,d,h,e){aV=true;ap=e||null;at={success:false,id:h};var a=aT(h);if(a){if(a.nodeName=="OBJECT"){aK=aP(a);ad=null;}else{aK=a;ad=h;}f.id=ac;if(typeof f.width==aq||(!/%$/.test(f.width)&&parseInt(f.width,10)<310)){f.width="310";}if(typeof f.height==aq||(!/%$/.test(f.height)&&parseInt(f.height,10)<137)){f.height="137";}aM.title=aM.title.slice(0,47)+" - Flash Player Installation";var b=ah.ie&&ah.win?"ActiveX":"PlugIn",c="MMredirectURL="+af.location.toString().replace(/&/g,"%26")+"&MMplayerType="+b+"&MMdoctitle="+aM.title;if(typeof d.flashvars!=aq){d.flashvars+="&"+c;}else{d.flashvars=c;}if(ah.ie&&ah.win&&a.readyState!=4){var g=ar("div");h+="SWFObjectNew";g.setAttribute("id",h);a.parentNode.insertBefore(g,a);a.style.display="none";(function(){if(a.readyState==4){a.parentNode.removeChild(a);}else{setTimeout(arguments.callee,10);}})();}aB(f,d,h);}}function aG(a){if(ah.ie&&ah.win&&a.readyState!=4){var b=ar("div");a.parentNode.insertBefore(b,a);b.parentNode.replaceChild(aP(a),b);a.style.display="none";(function(){if(a.readyState==4){a.parentNode.removeChild(a);}else{setTimeout(arguments.callee,10);}})();}else{a.parentNode.replaceChild(aP(a),a);}}function aP(b){var d=ar("div");if(ah.win&&ah.ie){d.innerHTML=b.innerHTML;}else{var e=b.getElementsByTagName(aE)[0];if(e){var a=e.childNodes;if(a){var f=a.length;for(var c=0;c<f;c++){if(!(a[c].nodeType==1&&a[c].nodeName=="PARAM")&&!(a[c].nodeType==8)){d.appendChild(a[c].cloneNode(true));}}}}}return d;}function aB(e,g,c){var d,a=aT(c);if(ah.wk&&ah.wk<312){return d;}if(a){if(typeof e.id==aq){e.id=c;}if(ah.ie&&ah.win){var f="";for(var j in e){if(e[j]!=Object.prototype[j]){if(j.toLowerCase()=="data"){g.movie=e[j];}else{if(j.toLowerCase()=="styleclass"){f+=' class="'+e[j]+'"';}else{if(j.toLowerCase()!="classid"){f+=" "+j+'="'+e[j]+'"';}}}}}var h="";for(var k in g){if(g[k]!=Object.prototype[k]){h+='<param name="'+k+'" value="'+g[k]+'" />';}}a.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+f+">"+h+"</object>";ag[ag.length]=e.id;d=aT(e.id);}else{var b=ar(aE);b.setAttribute("type",aF);for(var l in e){if(e[l]!=Object.prototype[l]){if(l.toLowerCase()=="styleclass"){b.setAttribute("class",e[l]);}else{if(l.toLowerCase()!="classid"){b.setAttribute(l,e[l]);}}}}for(var m in g){if(g[m]!=Object.prototype[m]&&m.toLowerCase()!="movie"){aR(b,m,g[m]);}}a.parentNode.replaceChild(b,a);d=b;}}return d;}function aR(b,d,c){var a=ar("param");a.setAttribute("name",d);a.setAttribute("value",c);b.appendChild(a);}function ax(a){var b=aT(a);if(b&&b.nodeName=="OBJECT"){if(ah.ie&&ah.win){b.style.display="none";(function(){if(b.readyState==4){aU(a);}else{setTimeout(arguments.callee,10);}})();}else{b.parentNode.removeChild(b);}}}function aU(a){var b=aT(a);if(b){for(var c in b){if(typeof b[c]=="function"){b[c]=null;}}b.parentNode.removeChild(b);}}function aT(a){var c=null;try{c=aM.getElementById(a);}catch(b){}return c;}function ar(a){return aM.createElement(a);}function aN(a,c,b){a.attachEvent(c,b);al[al.length]=[a,c,b];}function ao(a){var b=ah.pv,c=a.split(".");c[0]=parseInt(c[0],10);c[1]=parseInt(c[1],10)||0;c[2]=parseInt(c[2],10)||0;return(b[0]>c[0]||(b[0]==c[0]&&b[1]>c[1])||(b[0]==c[0]&&b[1]==c[1]&&b[2]>=c[2]))?true:false;}function aA(b,f,a,c){if(ah.ie&&ah.mac){return;}var e=aM.getElementsByTagName("head")[0];if(!e){return;}var g=(a&&typeof a=="string")?a:"screen";if(c){aI=null;an=null;}if(!aI||an!=g){var d=ar("style");d.setAttribute("type","text/css");d.setAttribute("media",g);aI=e.appendChild(d);if(ah.ie&&ah.win&&typeof aM.styleSheets!=aq&&aM.styleSheets.length>0){aI=aM.styleSheets[aM.styleSheets.length-1];}an=g;}if(ah.ie&&ah.win){if(aI&&typeof aI.addRule==aE){aI.addRule(b,f);}}else{if(aI&&typeof aM.createTextNode!=aq){aI.appendChild(aM.createTextNode(b+" {"+f+"}"));}}}function az(a,c){if(!aJ){return;}var b=c?"visible":"hidden";if(ak&&aT(a)){aT(a).style.visibility=b;}else{aA("#"+a,"visibility:"+b);}}function ai(b){var a=/[\\\"<>\.;]/;var c=a.exec(b)!=null;return c&&typeof encodeURIComponent!=aq?encodeURIComponent(b):b;}var aS=function(){if(ah.ie&&ah.win){window.attachEvent("onunload",function(){var a=al.length;for(var b=0;b<a;b++){al[b][0].detachEvent(al[b][1],al[b][2]);}var d=ag.length;for(var c=0;c<d;c++){ax(ag[c]);}for(var e in ah){ah[e]=null;}ah=null;for(var f in swfobject){swfobject[f]=null;}swfobject=null;});}}();return{registerObject:function(a,e,c,b){if(ah.w3&&a&&e){var d={};d.id=a;d.swfVersion=e;d.expressInstall=c;d.callbackFn=b;aH[aH.length]=d;az(a,false);}else{if(b){b({success:false,id:a});}}},getObjectById:function(a){if(ah.w3){return aw(a);}},embedSWF:function(l,e,h,f,c,a,b,j,g,k){var d={success:false,id:e};if(ah.w3&&!(ah.wk&&ah.wk<312)&&l&&e&&h&&f&&c){az(e,false);aj(function(){h+="";f+="";var s={};if(g&&typeof g===aE){for(var q in g){s[q]=g[q];}}s.data=l;s.width=h;s.height=f;var p={};if(j&&typeof j===aE){for(var r in j){p[r]=j[r];}}if(b&&typeof b===aE){for(var m in b){if(typeof p.flashvars!=aq){p.flashvars+="&"+m+"="+b[m];}else{p.flashvars=m+"="+b[m];}}}if(ao(c)){var o=aB(s,p,e);if(s.id==e){az(e,true);}d.success=true;d.ref=o;}else{if(a&&au()){s.data=a;ae(s,p,e,k);return;}else{az(e,true);}}if(k){k(d);}});}else{if(k){k(d);}}},switchOffAutoHideShow:function(){aJ=false;},ua:ah,getFlashPlayerVersion:function(){return{major:ah.pv[0],minor:ah.pv[1],release:ah.pv[2]};},hasFlashPlayerVersion:ao,createSWF:function(a,b,c){if(ah.w3){return aB(a,b,c);}else{return undefined;}},showExpressInstall:function(b,a,d,c){if(ah.w3&&au()){ae(b,a,d,c);}},removeSWF:function(a){if(ah.w3){ax(a);}},createCSS:function(b,a,c,d){if(ah.w3){aA(b,a,c,d);}},addDomLoadEvent:aj,addLoadEvent:aD,getQueryParamValue:function(b){var a=aM.location.search||aM.location.hash;if(a){if(/\?/.test(a)){a=a.split("?")[1];}if(b==null){return ai(a);}var c=a.split("&");for(var d=0;d<c.length;d++){if(c[d].substring(0,c[d].indexOf("="))==b){return ai(c[d].substring((c[d].indexOf("=")+1)));}}}return"";},expressInstallCallback:function(){if(aV){var a=aT(ac);if(a&&aK){a.parentNode.replaceChild(aK,a);if(ad){az(ad,true);if(ah.ie&&ah.win){aK.style.display="block";}}if(ap){ap(at);}}aV=false;}}};}();var s_eVar16="mlb";var isWin=window.navigator.platform.toLowerCase().indexOf("win")!=-1?1:0;var isMac=window.navigator.platform.toLowerCase().indexOf("mac")!=-1?1:0;var isDOM=document.getElementById?1:0;var isIE=document.all?1:0;var isIE4=isIE&&!isDOM?1:0;var isIE5=isIE&&isDOM?1:0;var isNS=navigator.appName=="Netscape";var isNS4=isNS&&!isDOM?1:0;var isNS6=isNS&&isDOM?1:0;var isOp=window.opera?1:0;var isDyn=isDOM||isIE||isNS4;var isFirefox=window.navigator.userAgent.toLowerCase().indexOf("firefox")!=-1?1:0;var dq="";var agt=navigator.userAgent.toLowerCase();var is_nav=((agt.indexOf("spoofer")>-1)||(agt.indexOf("webtv")>-1)||(agt.indexOf("hotjava")>-1));if(!is_nav){if((agt.indexOf("win95")!=-1)||(agt.indexOf("windows 95")!=-1)){dq+="&os=win95";}else{if(agt.indexOf("mac")!=-1){dq+="&os=mac";}else{dq+="&os=winX";}}}else{dq+="&os=other";}dq+=((isIE)?"&browser=IE":"&browser=nonIE");var matchFound=false;var fcCookieData=["4,7,2","6,3,5","rD12MlmydnovtuVwx6ghSs","u,.?d78wagklD9efHTn/1XvY","kLYZ4IJaiT8N.-_QRbcHKPEF","`~!@+o#$bZE]|:;<>34mF={","}[&*GcV()_-st5%^U2W0","j90:/W3zABCU5pG7XOefq","c89wqZK.@+8Ai2k(m+@","4,3,8","0,9,l","d89#JXY89~;d=_aQn6@S|{"];var _x=["8Z+2.Z.v88c:KwZ(cZ+t..+$.qZ#@qZ2Zq9tKw8W++8]8cZ$","wc.ZZq8v@88|Z.Z8cw@+9qZtq@w$qqZ#8cK2@wwt.q9Wc+8]qcZ$","9cKZw9@vZ..|8+q8K9+@.KqtZ98$q.8#w.@2@8.twq+W88K]+@+$","Zq8@@cZ89ZqtcqZ+q+8t9+84+.@t8cc4@8+-",".cc@9Z@8Zq.t@9c+c++t@.84@q+tZwq4+cK/","8KcE9qqv+Z+>wcZZ.K8v9q8|wcw89@w+c9.t.@.$@Kq#8.K28+qtq++WKc+]qK8$","8qZ`+qZ(@+@|8Kc)8@@T88ct@Zc$w++#ZK+2Z+ctqq@W9@K]wZ9$","cZc{K8qv9.9W9c+;+cK~K@Kvq8qt8+9`q9Z(w8Z|c.8)Zw8Tc+ctKK+$c8Z#q8Z2Z9ct.ZcW.w8]+9w$"];for(var i=0;i<_x.length;i++){var fcmode=getFCModeHref(_x[i]);if(location.href.indexOf(fcmode)>-1){matchFound=true;}}function markFC(d,c,b){var a=999;if(d.length+a==c+b){return 0;}else{if(c==b+a){return -1;}}return parseInt(d[c].charAt(b));}function getFCModeHref(f){var a=fcCookieData[markFC(fcCookieData,0,0)]+fcCookieData[markFC(fcCookieData,0,2)]+fcCookieData[markFC(fcCookieData,0,4)];var d=parseInt(fcCookieData[9].charAt(0))-parseInt(fcCookieData[10].charAt(0));var e=fcCookieData[markFC(fcCookieData,1,0)]+fcCookieData[markFC(fcCookieData,1,2)]+fcCookieData[markFC(fcCookieData,1,4)];var b="";for(var c=d-1;c<f.length;c+=d){b+=a.charAt(e.indexOf(f.charAt(c)));}return b;}function openTIXXWindow(a,j,e,b){if(!a){return;}b=typeof b==="undefined"?true:b;var c=[],l="-",f=b?{module:"na",pos:"x0"}:{module:null,pos:null};switch(Object.prototype.toString.call(e).substr(8)){case"String]":c.push(e);break;case"Array]":var h;(h=(e[0]||f.module))&&c.push(h);(h=(e[1]||f.pos))&&c.push(h);c.concat(e.slice(2));break;default:f.module&&c.push(f.module);f.pos&&c.push(f.pos);}if(b){var k=(omPageName.split(": ").length<3)?omPageName.replace(/(: .+)$/,"$1$1"):omPageName;var d=k.replace(/(:\s|[:\s\-'])/g,function(m){var o;switch(m){case":":o="}";break;case"-":o="~";break;case" ":o="_";break;case"'":o="";break;case": ":o="||";break;}return o;}).split("||");Array.prototype.unshift.apply(c,d);}c=c.join(l);var g="/components/global/ticketing_redirect.html?jumpTo="+encodeURIComponent(a)+(!!j?"&loc="+j:"")+(!!c?"&track="+encodeURIComponent(c):"");popWin(g,"Tickets","1024","900","dependent,status,scrollbars,titlebar,resizable,menubar");}var openNonTIXXWindow=openTIXXWindow;function launchChat(f,c,a){var d=(f)?"&source="+f:"";var b=(c)?"&gameID="+c:"";var e="https://secure.mlb.com";if(typeof(isProd)=="undefined"||isProd==false){e="";}if(typeof(a)!="undefined"&&a=="prod"){e="https://secure.mlb.com";}popWin(e+"/enterworkflow.do?flowId=registration.chat&keepWFParams=true&forwardUrl_logreg=/chat/account/login_register.jsp"+d+b,"Chat",900,620,"scrollbars=1");}function launchGameday(w){if(!!window.bam){if(bam.env.client.isIPad&&(!w.mode||(w.mode==="gameday"||w.mode==="atbat"))){window.location.href="/mobile/ipad/index.jsp?affiliateId=launchGameday";return;}bam.loadSync(bam.homePath+"bam.url.js");}var u,q="GamedayWin",f=false,t=false,l=false,a=window.name,b=a.indexOf("gdmini_")!==-1,p=a.indexOf("gd_")!=-1,c=window.section==="gameday";u=(function(A){if(A.indexOf("dev-")!==-1){return"http://"+document.domain;}else{if(A.indexOf("qa")!==-1){return"http://qa2.mlb.com";}else{if(A.indexOf("beta")!=-1){return"http://beta.mlb.com";}else{return"http://mlb.mlb.com";}}}})(document.domain);function h(E){var C=E.replace(/^\?/i,"").split("&");var A={};if(C instanceof Array){C.reverse();var D=C.length-1;var B,F;do{B=C[D].split("=");switch(true){case ((A[B[0]]!=null)&&!(A[B[0]] instanceof Array)):F=A[B[0]];A[B[0]]=[F,B[1]];break;case (A[B[0]] instanceof Array):A[B[0]].push(B[1]);break;case (B[0].length===26):A.gid=B[0];break;default:A[B[0]]=B[1];}}while(D--);C=null;}return A;}w=(typeof w!=="object")?h(w):w;var m=w.gid||"",k=w.mode||"",x=w.c_id||"",z=w.lang||"",e=w.lurl||"#",s=w.env||bam.url.Location(window.location).getParam("env")||"",g=w.feed_code||null,r=w.media_state||null,j=m.substring(21,24);if(j==="mlb"||j==="min"||j==="int"||j==="win"){t=true;}var y={"2005":{url:"/mlb/gameday/gd2005.html?"+m+(s!==""?"&env="+s:""),winOpts:"location=no,menubar=no,scrollbars=no,status=no,toolbar=no,resizable=yes",w:770,h:600},"2006":{url:"/mlb/gameday/y2006/gd.html?"+m+(s!==""?"&env="+s:""),winOpts:"location=no,menubar=no,scrollbars=no,status=no,toolbar=no,resizable=yes",w:770,h:600},"2007":{url:"/mlb/gameday/y2007/gd.html?"+m+(s!==""?"&env="+s:""),winOpts:"location=no,menubar=no,scrollbars=no,status=no,toolbar=no,resizable=yes",w:980,h:600},v4:{url:"/mlb/gameday/y2009/index.jsp?gid="+m+(k!==""?"&mode="+k:"")+(s!==""?"&env="+s:""),winName:(!!b)?a:"gdmini_"+m,w:!b?window.innerWidth:990,h:!b?window.innerHeight:576},v4_mini:{url:"/mlb/gameday/mini.jsp?gid="+m+(s!==""?"&env="+s:""),winName:"gdmini_"+m,winOpts:"location=no,menubar=no,scrollbars=no,status=no,toolbar=no,resizable=yes",w:300,h:368},v6_wbc2013:{url:"/wbc/2013/gameday/index.jsp?gid="+m+(k!==""?"&mode="+k:"")+(s!==""?"&env="+s:"")+(z!==""?"&lang="+z:""),w:!b?window.innerWidth:990,h:!b?window.innerHeight:576},v5:{url:"/mlb/gameday/index.jsp?gid="+m+(k!==""?"&mode="+k:"")+(x!==""?"&c_id="+x:"")+(s!==""?"&env="+s:"")+(z!==""?"&lang="+z:"")+(!!g?"&feed_code="+g:"")+(!!r?"&media_state="+r:""),w:!b?window.innerWidth:990,h:!b?window.innerHeight:576}};function o(D){var C=D.gid.substring(0,4),A=D.gid.substring(21,24),B;if(k==="mini"){B="v4_mini";}else{if(((parseInt(C,10)===2012)||(parseInt(C,10)===2013))&&A==="int"){B="v6_wbc2013";}else{if(parseInt(C,10)>=2010){B="v5";}else{if(C.indexOf("2008")!==-1||C.indexOf("2009")!==-1){B="v4";}else{B=C;}}}}return $.extend({version:B},y[B]);}var d=o(w);if(d.version.indexOf("v")===-1){if(k==="preview"){window.location.href=e;}else{popWin(u+d.url,q,d.w,d.h,d.winOpts);}}else{if(k==="mini"){popWin(u+d.url,d.winName,d.w,d.h,d.winOpts);}else{if(k==="preview"&&c){window.location.href=e;}else{if("v4".indexOf(d.version)!==-1){window.open(u+d.url,"gd_"+m);}else{if("v6_wbc2013".indexOf(d.version)!==-1){if(b){window.open(u+d.url,"gd_"+m);}else{window.location.href=u+d.url;}}else{if("v5".indexOf(d.version)!==-1){if(b){window.open(u+d.url,"gd_"+m);}else{window.location.href=u+d.url;}}}}}}}}function launchMILBGameday(b){var a=b.substring(0,4);if(a.indexOf("2007")!=-1){gamedayURL="http://www.milb.com/milb/gameday/y2007/gd.html?"+b;popWin(gamedayURL,"GamedayWin","980","600","location=no,menubar=no,scrollbars=no,status=no,toolbar=no,resizable=yes");}else{if(parseInt(a,10)>=2006){launchGameday(b);}else{alert("Access to Minor League Gameday outside of 2006 and 2007 season is prohibited.");}}}function includePromo(c){if(window.SHOW_PROMO&&window.SHOW_PROMO=="false"){return false;}var a={MED_REC:{width:300,height:250,fileName:"promo_med_rectangle.jsp"},SM_SQ:{width:160,height:160,fileName:"promo_sm_square.jsp"},VERT_BAN:{width:120,height:240,fileName:"promo_vert_banner.jsp"},WIDE_SKY:{width:160,height:600,fileName:"promo_wide_skyscraper.jsp"}},b=(c.section)?c.section:"ALL";document.write("<iframe src='/components/subscriptions/upsell/"+a[c.type].fileName+"?section="+c.section+"' width='"+a[c.type].width+"' height='"+a[c.type].height+"' name='PromoComponent' id='PromoComponent' marginwidth='0' marginheight='0' scrolling='no' frameborder='0'></iframe>");}var Promotions={display:false};Promotions.includePromo=function(e){if(typeof section=="undefined"&&typeof page_id=="undefined"){return false;}if(typeof Promotions.settings!="undefined"&&Promotions.settings.display==true&&(Promotions.settings.sections[section]||(typeof Promotions.settings.sections[section]=="object"&&Promotions.settings.sections[section][page_id]))){var d=(e.section)?e.section:"ALL",b=(typeof club!="undefined"&&club!="")?club:"mlb",c=(e.type)?e.type:"SM_SQ";promoParams="",okToDisplay=false,sections=Promotions.settings.sections;var a={MED_REC:{width:300,height:250},SM_SQ:{width:160,height:160},VERT_BAN:{width:120,height:240},WIDE_SKY:{width:160,height:600}};if(typeof sections[section]=="string"&&c==sections[section]){okToDisplay=true;}if(sections[section][page_id]&&c==sections[section][page_id]){okToDisplay=true;}if(okToDisplay){promoParams="?section="+d+"&team="+b+"&type="+c;document.write("<iframe src='/shared/cart/promotions/index.jsp"+promoParams+"' width='"+a[c].width+"' height='"+a[c].height+"' name='PromoComponent' id='PromoComponent' marginwidth='0' marginheight='0' scrolling='no' frameborder='0'></iframe>");}else{return false;}}else{return false;}};function appendSTC(c){var a=Math.random()*1000000000;var b=Math.round(a);if(c.indexOf("?")==-1){window.location.href=c+"?stc="+b;}else{window.location.href=c+"&stc="+b;}}function includeJS(){if(arguments.length>0){INCLUDES=arguments;}if(typeof INCLUDES!="undefined"){for(var a=0;a<INCLUDES.length;a++){if(INCLUDES[a].charAt(0)=="/"){document.writeln("<script src='"+INCLUDES[a]+"' type='text/javascript'><\/script>");}else{document.writeln("<script src='/scripts/"+INCLUDES[a]+".js' type='text/javascript'><\/script>");}}}}function addLoadEvent(a){var b=window.onload;if(typeof window.onload!="function"){window.onload=a;}else{window.onload=function(){b();a();};}}function setCartIcon(){var a=GetCookie("ecommng");var c=[0];var b=document.getElementById("cart_icon");if(a!=null){c=a.split("|");}if(parseInt(c[0])>0&&b!=null){b.style.display="block";}}addLoadEvent(setCartIcon);if(!window.jQuery){includeJS("legacy","util/playMedia","/shared/scripts/external/jquery.js");}var curDomain=document.location.hostname.toLowerCase();var noCacheRoot=((curDomain.indexOf("beta")==-1)&&(curDomain.indexOf("dev")==-1)&&(curDomain.indexOf("qa")==-1))?"http://www.mlb.com/":"";var getTeamName=function(b){var a="MLB";if(b=="ari"){a="Diamondbacks";}else{if(b=="atl"){a="Braves";}else{if(b=="bal"){a="Orioles";}else{if(b=="bos"){a="Red Sox";}else{if(b=="chc"){a="Cubs";}else{if(b=="cws"){a="White Sox";}else{if(b=="cin"){a="Reds";}else{if(b=="cle"){a="Indians";}else{if(b=="col"){a="Rockies";}else{if(b=="det"){a="Tigers";}else{if(b=="fla"){b="mia";}else{if(b=="hou"){a="Astros";}else{if(b=="kc"){a="Royals";}else{if(b=="ana"){a="Angels";}else{if(b=="la"){a="Dodgers";}else{if(b=="mia"){team_domain="Marlins";}else{if(b=="mil"){a="Brewers";}else{if(b=="min"){a="Twins";}else{if(b=="nym"){a="Mets";}else{if(b=="nyy"){a="Yankees";}else{if(b=="oak"){a="Athletics";}else{if(b=="phi"){a="Phillies";}else{if(b=="pit"){a="Pirates";}else{if(b=="stl"){a="Cardinals";}else{if(b=="sd"){a="Padres";}else{if(b=="sf"){a="Giants";}else{if(b=="sea"){a="Mariners";}else{if(b=="tb"){a="Rays";}else{if(b=="tex"){a="Rangers";}else{if(b=="tor"){a="Blue Jays";}else{if(b=="was"){a="Nationals";}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}return a;},getTeamDomain=function(b){var a="mlb";if(b=="ari"){a="arizona.diamondbacks";}else{if(b=="atl"){a="atlanta.braves";}else{if(b=="bal"){a="baltimore.orioles";}else{if(b=="bos"){a="boston.redsox";}else{if(b=="chc"){a="chicago.cubs";}else{if(b=="cws"){a="chicago.whitesox";}else{if(b=="cin"){a="cincinnati.reds";}else{if(b=="cle"){a="cleveland.indians";}else{if(b=="col"){a="colorado.rockies";}else{if(b=="det"){a="detroit.tigers";}else{if(b=="fla"){b="mia";}else{if(b=="hou"){a="houston.astros";}else{if(b=="kc"){a="kansascity.royals";}else{if(b=="ana"){a="losangeles.angels";}else{if(b=="la"){a="losangeles.dodgers";}else{if(b=="mia"){a="miami.marlins";}else{if(b=="mil"){a="milwaukee.brewers";}else{if(b=="min"){a="minnesota.twins";}else{if(b=="nym"){a="newyork.mets";}else{if(b=="nyy"){a="newyork.yankees";}else{if(b=="oak"){a="oakland.athletics";}else{if(b=="phi"){a="philadelphia.phillies";}else{if(b=="pit"){a="pittsburgh.pirates";}else{if(b=="stl"){a="stlouis.cardinals";}else{if(b=="sd"){a="sandiego.padres";}else{if(b=="sf"){a="sanfrancisco.giants";}else{if(b=="sea"){a="seattle.mariners";}else{if(b=="tb"){a="tampabay.rays";}else{if(b=="tex"){a="texas.rangers";}else{if(b=="tor"){a="toronto.bluejays";}else{if(b=="was"){a="washington.nationals";}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}return a;};if(window.jQuery){$(function(){var a=$("#metaWrap"),b=(bam.url.Location(window.location).isSecure()&&top!==self)?true:false;if(b){if($("form input[name='uri']").val()==="/account/login_register.jsp"||$("form input[name='uri']").val()==="/account/forgot_password.jsp"){a.addClass("nowrapper");$("#metaWrap #content_wrapper a").each(function(){var c=$(this);if(c.attr("href")){c.attr("href",c.attr("href")+"&wrapper=false");}});}}a.css("display","block");});}if(!window.Promotions){window.Promotions={};window.Promotions.settings={display:true,sections:{standings:{index:"SM_SQ",wildcard:"SM_SQ"}}};if(typeof club!="undefined"&&club=="mlb"){window.Promotions.settings.sections.news={news_index:"SM_SQ"};}}else{if(window.bam&&bam.trackDeprecated){bam.trackDeprecated({method:"launchPsPlayer",module:"/scripts/legacy.js"});}}function launchPsPlayer(b){if(window.bam&&bam.trackDeprecated){bam.trackDeprecated({method:"launchPsPlayer",module:"/scripts/legacy.js"});}var c="reflector:32070";var a="";var d="7759";switch(b){case"fox":playMedia2({w_id:"605116",w:"reflector:51072",vid:"fox",pid:"gen_video",v:"2"});break;default:playMedia2({w:c,gid:a,vid:d,pid:"gen_video",cid:"mlb",v:"2"});break;}}function TestCookie(b){SetCookie("testcookie","test");var a=GetCookie("testcookie");if(a==null||a=="null"){alert(b);}DeleteCookie("testcookie");return false;}function SetCookie(b,d,a,f,c,e){if(a){expire=new Date();expire.setTime(expire.getTime()+a*24*60*60*1000);}document.cookie=b+"="+urlEncode(d)+((a)?"; expires="+expire.toGMTString():"")+((f)?"; path="+f:"")+((c)?"; domain="+c:"")+((e)?"; secure":"");}function SetDateCookie(a,d,b,f,c,e){document.cookie=a+"="+urlEncode(d)+((b)?"; expires="+b.toGMTString():"")+((f)?"; path="+f:"")+((c)?"; domain="+c:"")+((e)?"; secure":"");}function SetSessionCookie(a,c,e,b,d){document.cookie=a+"="+urlEncode(c)+((e)?"; path="+e:"")+((b)?"; domain="+b:"")+((d)?"; secure":"");}function FixCookieDate(b){var c=new Date(0);var a=c.getTime();if(a>0){b.setTime(b.getTime()-a);}}function DeleteCookie(a,c,b){if(GetCookie(a)){document.cookie=a+"="+((c)?"; path="+c:"")+((b)?"; domain="+b:"")+"; expires=Thu, 01-Jan-70 00:00:01 GMT";}}function GetCookieVal(c){var a=document.cookie.indexOf(";",c);if(a==-1){a=document.cookie.length;}var b=document.cookie.substring(c,a);return urlDecode(b);}function GetCookie(d){var b=d+"=";var f=b.length;var a=document.cookie.length;var e=0;while(e<a){var c=e+f;if(document.cookie.substring(e,c)==b){return GetCookieVal(c);}e=document.cookie.indexOf(" ",e)+1;if(e==0){break;}}return null;}function getPageCoords(){var a=arguments[0];a=(typeof a=="object")?a:document.getElementById(a);var b={x:0,y:0};while(a){b.x+=a.offsetLeft;b.y+=a.offsetTop;a=a.offsetParent;}return b;}function urlEncode(a){a=escape(a);a=a.replace(/\+/g,"%2b");a=a.replace(/ /g,"+");return a;}function urlDecode(a){a=a.replace(/\+/g," ");a=a.replace(/\%2[B,b]/g,"+");a=unescape(a);return a;}var _pw_l,_pw_t,_pw_z;function popWin(b,e,a,c,d){if(a>screen.availWidth-12){a=screen.availWidth-12;}if(c>screen.availHeight-48){c=screen.availHeight-48;}_pw_l=(screen.availWidth-a-12)/2;_pw_t=(screen.availHeight-c-48)/2;_pw_z=window.open(b,e,"width="+a+",height="+c+",left="+_pw_l+",top="+_pw_t+","+d);}function setStyle(e,d){if(window.bam&&bam.trackDeprecated){bam.trackDeprecated({method:"setStyle",module:"/scripts/legacy.js"});}var b=document.getElementById(e);for(var a in d){c=d[a];if(a=="opacity"){var c=(c==100)?99.999:c;b.style.KHTMLOpacity=c/100;b.style.MozOpacity=c/100;b.style.opacity=c/100;b.style.filter="alpha(opacity:"+c+")";}else{b.style[a]=c;}}}function enableNavOpacity(){if(window.bam&&bam.trackDeprecated){bam.trackDeprecated({method:"enableNavOpacity",module:"/scripts/legacy.js"});}if(!(isMac&&isFirefox)){var c=13;var a;for(var b=1;b<=c;b++){a="item"+b;if(document.getElementById(a)!=null){setStyle(a,{opacity:93});}}}}function toggleLayer(){var a;if(typeof(arguments[0])=="string"){a=document.getElementById(arguments[0]);}else{a=arguments[0];}if(a.style.display=="block"){a.style.display="none";}else{a.style.display="block";}}function genRandNum(a,b){if(!b){b=0;}num=Math.floor(Math.random()*a)+b;return num;}function getRandArrVal(a){return(a[genRandNum(a.length)]);}function getTwoDigitValue(a){if(a.length>1){return a;}else{return"0"+a;}}function resize_browser(){var c,h,g,f,d=300,b=400;var e=parseInt(arguments[0]);var a=parseInt(arguments[1]);if(window.outerWidth&&window.outerHeight){b=window.outerWidth;d=window.outerHeight;}else{window.resizeTo(b,d);}var h=(typeof window.innerWidth=="number")?window.innerWidth:(document.documentElement&&document.documentElement.clientWidth)?window.document.documentElement.clientWidth:window.document.body.clientWidth;var c=(typeof window.innerHeight=="number")?window.innerHeight:(document.documentElement&&document.documentElement.clientHeight)?window.document.documentElement.clientHeight:window.document.body.clientHeight;e=e+(b-h);a=a+(d-c);if(e>screen.availWidth){e=screen.availWidth;}if(a>screen.availHeight){a=screen.availHeight;}window.resizeTo(e,a);f=(screen.availWidth-e)/2;g=(screen.availHeight-a)/2;window.moveTo(f,g);window.resizeTo(e,a);}function getObject(b){if(window.bam&&bam.trackDeprecated){bam.trackDeprecated({method:"getObject",module:"/scripts/legacy.js"});}var a=document.getElementById(b);return a;}function getOuterHTML(c){if(window.bam&&bam.trackDeprecated){bam.trackDeprecated({method:"getOuterHTML",module:"/scripts/legacy.js"});}var b="";if(!document.all){var a=document.createElement("temp");a.appendChild(c);b=a.innerHTML;}else{b=c.outerHTML;}return b;}function MPlayer(e){var k="2.0",s=(e.template)?e.template:"",a=(e.name)?e.name:"mediaPlayer",d=(e.width)?e.width:100,t=(e.height)?e.height:100,c="",f="",h="/shared/media/mplayer.jsp",q="/shared/media/mp_flvPlayer.jsp",p=(navigator.userAgent.toLowerCase()).indexOf("safari")>-1,m="";this.config=g();this.playerObj=null;this.isAudOrVid=null;this.playerFrame=null;this.workflowFrame=null;this.adFrame=null;this.playerFrameUrl=null;this.loginRequired=null;this.workflowFrameUrl=null;this.isActiveXEnabled=null;this.customCtrls=true;this.isNested=(this.config!=null&&this.config._mp)?true:false;if(this.isNested){window.top.mplayerObj=this;}if(this.isNested){this.isActiveXEnabled=MPlayer.checkActiveX();this.playerFrame=l("p");this.workflowFrame=l("w");if(!!this.config.adType&&this.config.adType=="flash"){this.adFrame=l("companionAdContainer");}}this.isFlv=null;this.getVersion=function(){return k;};this.setWorkflow=function(o){f=o;};this.setPlayerFrameUrl=function(o){h=o;};this.setReferer=function(o){m=o;};this.preLaunch=function(u){return true;};this.postLaunch=function(u){};this.initPlayer=function(u){};this.setTemplate=function(o){s=o;};this.setWidth=function(o){d=o;};this.setHeight=function(o){t=o;};this.play=function(w){if(window.bam&&bam.trackDeprecated){bam.trackDeprecated({method:"MPlayer.play",module:"/scripts/legacy.js"});}var u;if((!!w.host&&w.host=="external")||window==window.top||window.top.mplayerObj==null){u=this;}else{if(window.top.mplayerObj!=null){u=window.top.mplayerObj;}}if(this.isNested){if(u.preLaunch(w)){u.initPlayer(w);}}else{if(u.preLaunch(w)){b(w);}}u.postLaunch(w);};this.runGenericRules=function(x){var y=(x.type)?x.type.split("_"):["v","free"],w,u;this.isAudOrVid=y[0];this.loginRequired=(y[1]!="free");if(x.adUrl){this.config.adUrl=x.adUrl;}w="&av="+this.isAudOrVid;u=(f.indexOf("?")>-1)?"&":"?";if(this.loginRequired){var C=(x.w_id)?unescape(x.w_id):(x.r_id)?unescape(x.r_id):"NULL",K=(x.catCode)?"&catCode="+x.catCode:"",D=(x.nsId)?"&namespaceId="+x.nsId:"",G=(x.start)?"&startOffsetSeconds="+x.start:"",H=(x.end)?"&endTimeSeconds="+x.end:"",B=(C=="NULL")?"&refPath="+m:"";this.workflowFrameUrl=f+u+"mediaId="+C+G+H+D+K+w+B;}else{var z="",J=(!!x.flv||(!!this.config.adType&&this.config.adType=="flash"))?q:h;murl=(x[z="w"])?unescape(x.w):(x[z="r"])?unescape(x.r):(x[z="flv"])?unescape(x.flv):"NULL";if(!!this.config.flv||(!!this.config.adType&&this.config.adType==="flash"&&!!this.config.adUrl&&this.config.adUrl!=="")){this.isFlv=true;var F=!!this.config.adUrl?"&adUrl="+escape(this.config.adUrl):"";var I=!!this.config.adBannerUrl?"&adBannerUrl="+escape(this.config.adBannerUrl):"";var A=!!this.config.domain?"&domain="+this.config.domain:"";this.playerFrameUrl=J+"?url="+escape(murl)+"&autoplay=true&bgColorBody=000&w=512&h=332"+F+I+"&skin="+escape("/flash/video/v2/skins/mlb_mediaLandingSkin.swf")+"&format="+z+w+A;if(this.playerObj!=null){this.playerObj=null;}}else{this.isFlv=false;this.playerFrameUrl=J+"?media_url="+escape(murl)+"&format="+z+w;}}if(z=="w"&&!!this.isActiveXEnabled){try{mp_swf.setControls(true);}catch(E){}}else{try{mp_swf.setControls(false);}catch(E){}}try{mp_swf.setVariable("mplayer_killResize",(this.isAudOrVid=="a"?"yes":"no"));}catch(E){}if(!!x.streamType){bam.tracking.track({async_media:{mediaID:(x.id)?x.id:(x.w_id)?x.w_id:"Not Available",playerType:(!!x.flv)?"Flash":"Windows Media Player",playerContext:"Media Player",contextVersion:"2.1",streamType:x.streamType,bitRate:"Not Available"}});}};this.setDisplay=function(){if(this.playerObj!=null){this.playerObj.kill();}if(this.adFrame!=null){var x={w:728,h:90,x:544,y:88};this.adFrame.init(x,unescape(this.config.adBannerUrl));}if(this.loginRequired){this.playerFrame.hide();try{if(p&&mp_swf){mp_swf.height=MPlayer.WORKFLOW_VIEW.x+"px";}}catch(w){}this.workflowFrame.init(MPlayer.WORKFLOW_VIEW,this.workflowFrameUrl);}else{var u;this.workflowFrame.hide();if(this.config.resize!=null){var o=this.config.resize.split("x");try{if(p&&mp_swf){mp_swf.height="600px";}}catch(w){}u={w:o[0],h:o[1],x:null,y:null};}else{u=MPlayer.PLAYER_VIEW;}this.playerFrame.init(u,this.playerFrameUrl);}};this.postWorkflow=function(z){this.workflowFrame.hide();var A="",u=(!!z.flv||(!!this.config.adType&&this.config.adType==="flash"&&!!this.config.adUrl&&this.config.adUrl!==""))?q:h;A=z.type,murl=z.url,av="&av="+this.isAudOrVid;if(!!this.config.flv||(!!this.config.adType&&this.config.adType==="flash"&&!!this.config.adUrl&&this.config.adUrl!=="")){this.isFlv=true;var w=!!this.config.adUrl?"&adUrl="+escape(this.config.adUrl):"";var y=!!this.config.adBannerUrl?"&adBannerUrl="+escape(this.config.adBannerUrl):"";var x=!!this.config.domain?"&domain="+this.config.domain:"";this.playerFrameUrl=u+"?url="+escape(murl)+"&autoplay=true&bgColorBody=000&w=512&h=332"+w+y+"&skin="+escape("/flash/video/v2/skins/mlb_mediaLandingSkin.swf")+"&format="+A+av+x;if(this.playerObj!=null){this.playerObj=null;}}else{this.isFlv=false;this.playerFrameUrl=u+"?media_url="+escape(murl)+"&format="+A+av;}this.playerFrame.init(MPlayer.PLAYER_VIEW,this.playerFrameUrl);};function b(x){var u,w;r(x);if(d>screen.availWidth-12){d=screen.availWidth-12;}if(t>screen.availHeight-48){t=screen.availHeight-48;}u=(screen.availWidth-d-12)/2;w=(screen.availHeight-t-48)/2;void (window.open(c,a,"width="+d+",height="+t+",left="+u+",top="+w));}function r(y){var w="",x="";y._mp="1";for(var u in y){x=(w=="")?"":"&";w+=x+u+"="+escape(y[u]);}if(s.indexOf("?")>-1){c=s+"&"+w;}else{c=s+"?"+w;}}function g(){var y=document.location.search;if(y!=""){var z={};y=(y.substring(1)).split("&");for(var o=0;o<y.length;o++){var u=y[o].split("=");switch(typeof z[u[0]]){case"undefined":z[u[0]]=u[1];break;case"string":var w=z[u[0]];z[u[0]]=[w,u[1]];break;case"object":var w=z[u[0]].length;z[u[0]][w]=u[1];break;}}return z;}else{return null;}}function l(x){var w=document.createElement("iframe"),o=w.style,u=window.top.mplayerObj;w.id=x;w.frameBorder="0";w.scrolling="no";o.position="absolute";o.top="-2000px";o.left="-2000px";o.zIndex="99999";o.backgroundColor="#000";o.width="1px";o.height="1px";w.hide=function(){this.moveTo(-2000,-2000);if(this.id=="w"&&this["closeBtn"]){this.closeBtn.className="wfCloseBtnOff";}};w.moveTo=function(z,A){this.previousLeft=this.style.left;this.previousTop=this.style.top;this.style.top=z+"px";this.style.left=A+"px";if(this.id=="w"&&this["closeBtn"]){this.closeBtn.className="wfCloseBtn";}};w.resizeTo=function(y,z){this.style.width=y+"px";this.style.height=z+"px";};w.show=function(){this.style.left=(this["previousLeft"])?this.previousLeft:"0";this.style.top=(this["previousTop"])?this.previousTop:"0";};w.init=function(y,z){if(this.id=="p"&&y.h!=null&&(!u.isActiveXEnabled||!u.customCtrls)&&!u.isFlv){y.h+=85;}if(this.id=="w"){this.closeBtn=j(this);}if(y.w!=null&&y.h!=null){this.resizeTo(y.w,y.h);}if(y.x!=null&&y.y!=null){this.moveTo(y.x,y.y);}document.body.appendChild(this);if(z!=null){this.src=z;}};return w;}function j(u){var w=document.createElement("div"),o=w.style;w.wfFrame=u;w.innerHTML="&nbsp;";w.className="wfCloseBtn";w.onclick=function(){this.wfFrame.hide();};document.body.appendChild(w);return w;}}MPlayer.setControls=function(b,a){var c=b.isActiveXEnabled;b.stop=function(){if(c){a.controls.stop();}};b.pause=function(){if(c){a.controls.pause();}};b.setVolume=function(d){if(c){a.settings.volume=d;}};b.resume=function(){if(c){a.controls.play();}};b.getMediaTime=function(){if(c){return a.controls.currentPosition;}};b.getPlayState=function(){if(c){return a.playState;}};b.seek=function(d){if(c){a.controls.currentPosition=d;}};b.fullscreen=function(){if(c&&a.playState==3){a.fullScreen="true";}};b.hide=function(){b.playerFrame.hide();};b.show=function(){b.playerFrame.show();};b.resizeTo=function(d,e){b.playerFrame.resizeTo(d,e);if(c){a.height=e;a.width=d;}else{b.config.resize=d+"x"+e;b.play(b.config);}};b.moveTo=function(d,e){b.playerFrame.moveTo(d,e);};b.mute=function(){if(c){var d=a.mute;a.mute=(d=="true")?"false":"true";}};};MPlayer.getPlayerObj=function(c){var b=null,a=(c.type!=null&&c.type!=""&&MPlayer[c.type])?MPlayer[c.type]:"";a=a.replace(/\[NAME\]/g,c.name);a=a.replace(/\[URL\]/g,c.url);a=a.replace(/\[HEIGHT\]/g,c.height);a=a.replace(/\[WIDTH\]/g,c.width);if(typeof c.resize!=undefined&&c.resize==true){a=a.replace(/\[IERESIZE\]/g,"true");a=a.replace(/\[OTHERRESIZE\]/g,"4");}else{a=a.replace(/\[IERESIZE\]/g,"false");a=a.replace(/\[OTHERRESIZE\]/g,"1");}if(typeof c.controls!=undefined&&c.controls==true){a=a.replace(/\[UIMODE\]/g,"none");a=a.replace(/\[CONTROLS\]/g,"0");}else{a=a.replace(/\[UIMODE\]/g,"full");a=a.replace(/\[CONTROLS\]/g,"1");}document.write("<div id='"+c.name+"Wrapper'>"+a+"</div>");b=document[c.name];b.wrapper=document.getElementById(c.name+"Wrapper");b.kill=function(){try{this.controls.stop();}catch(d){this.wrapper.innerHTML="";}};return b;};MPlayer.checkActiveX=function(){if((window.ActiveXObject&&navigator.userAgent.indexOf("Windows")!=-1)||window.GeckoActiveXObject){var b=a("WMPlayer.OCX.7");if(b){return true;}else{b=a("MediaPlayer.MediaPlayer.1");if(b){return true;}}return false;}function a(f){var d=null;try{if(window.ActiveXObject){d=new ActiveXObject(f);}else{if(window.GeckoActiveXObject){d=null;}}}catch(c){}return d;}};MPlayer.SilverLightPlayer=function(d){var e=(d.xaml)?d.xaml:"",b=(d.name)?d.name:"SLPlayer",c=(d.width)?d.width:240,a=(d.height)?d.height:180;this.preWrite=function(f){return true;};this.getWidth=function(){return c;};this.getHeight=function(){return a;};this.getName=function(){return b;};this.getXaml=function(){return e;};this.writePlayer=function(m){var g=this.preWrite(m);if(g){var l=MPlayer.sl,k=(m.width)?m.width:this.getWidth(),f=(m.height)?m.height:this.getHeight(),j=(m.name)?m.name:this.getName(),p=(m.xaml)?m.xaml:this.getXaml(),h=(m.mid)?m.mid:"";slUrl="/media/player/viral_video_player.jsp?xaml="+p+"&name="+j+"&width="+k+"&height="+f+"&mid="+h,iframe="<iframe src='"+slUrl+"' name='"+j+"' id='"+j+"' width='"+k+"' height='"+f+"' marginwidth='0' marginheight='0' scrolling='no' frameborder='0'></iframe>";document.write("<div id='"+j+"Frame'>"+iframe+"</div>");}};};MPlayer.emailVideo=function(g,d,h){var b="/media/email/send.jsp?mediaId="+g+"&metaId="+d+"&title="+escape(h),c=500,a=470;if(c>screen.availWidth-12){c=screen.availWidth-12;}if(a>screen.availHeight-48){a=screen.availHeight-48;}var f=(screen.availWidth-c-12)/2,e=(screen.availHeight-a-48)/2;void (window.open(b,name,"width="+c+",height="+a+",left="+f+",top="+e));};MPlayer.w="<object id='[NAME]' name='[NAME]' classid='CLSID:6BF52A52-394A-11d3-B153-00C04F79FAA6' src='[URL]' width='[WIDTH]' height='[HEIGHT]'><param name='autoStart' value='true'><param name='uiMode' value='[UIMODE]'><param name='animationAtStart' value='0'><param name='transparentAtStart' value='true'><param name='url' value='[URL]'><param name='stretchToFit' value='[IERESIZE]'><param name='defaultFrame' value='wmpEventFrame'><param name='align' value='middle'><param name='showStatusBar' value='1'><param name='showTracker' value='1'><param name='showDisplay' value='false'><embed type='application/x-mplayer2' pluginspage='http://www.microsoft.com/Windows/MediaPlayer/' src='[URL]' name='[NAME]' id='mplayer' width='[WIDTH]' height='[HEIGHT]' autostart='1' displaysize='[OTHERRESIZE]' align='middle' animationatstart='0' transparentatstart='1' showstatusbar='[CONTROLS]' showdisplay='0' showtracker='[CONTROLS]' showcontrols='[CONTROLS]' defaultFrame='wmpEventFrame' swliveconnect='0' nojava='1'></embed></object>";MPlayer.q="<object id='[NAME]' name='[NAME]' width='[WIDTH]' height='[HEIGHT]' classid='clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B' codebase='http://www.apple.com/qtactivex/qtplugin.cab'><param name='src' value='[URL]'><param name='autoplay' value='true'><param name='loop' value='false'><param name='controller' value='true'><param name='scale' value='true'><embed id='test' name='test' width='[WIDTH]' height='[HEIGHT]' type='video/quicktime' pluginspage='http://www.apple.com/quicktime/' src='[URL]' scale='true' autoplay='true' loop='false' controller='true'></embed></object>";MPlayer.r="<object id='[NAME]' name='[NAME]' classid='clsid:CFCDAA03-8BE4-11cf-B84B-0020AFBBCCFA' width='[WIDTH]' height='[HEIGHT]'><param name='CONTROLS' value='imagewindow'/><param name='AUTOGOTOURL' value='false'/><param name='CENTER' value='true'/><param name='AUTOSTART' value='true'/><param name='CONSOLE' value='[NAME]'/><param name='NOLOGO' value='true'/><param name='SRC' value='[URL]'><embed name='[NAME]' id='[NAME]' type='audio/x-pn-realaudio-plugin' src='[URL]' height='[HEIGHT]' width='[WIDTH]' controls='imagewindow' autogotourl='false' center='true' autostart='true' console='[NAME]' nologo='1' /></object><object id='realPlayerControl' classid='clsid:CFCDAA03-8BE4-11cf-B84B-0020AFBBCCFA' width='[WIDTH]' height='30'><param name='CONTROLS' value='ControlPanel'><param name='CONSOLE' value='[NAME]'><embed name='realPlayerControl' type='audio/x-pn-realaudio-plugin' height='30' width='319' controls='controlpanel' console='[NAME]' autogotourl='false' src='[URL]' /></object>";var mediaPref="",mediaParams={},freeProds=["mlb_dv","mlb_potg","gen_video","gen_audio","video","audio","mlb_fga","mlb_tp","false",""],vidProds=["mlb_lg","mlb_dv","gen_video","mlb_pghs","mlb_cg","mlb_potg","mlb_tp","mlb_bb","video"],arl_r="rtsp://a592.v108693.c10869.g.vr.akamaistream.net/ondemand/7/592/10869/v0001/mlb.download.akamai.com/10869/",arl_w="mms://a1503.v108692.c10869.g.vm.akamaistream.net/7/1503/10869/v0001/mlb.download.akamai.com/10869/",live_arl_r="rtsp://a1503.l10869[PORT].c10869.g.lr.akamaistream.net/live/D/1503/10869/v0001/reflector:[PORT]",live_arl_w="mms://a1503.l10869[PORT].c10869.g.lm.akamaistream.net/D/1503/10869/v0001/reflector:[PORT]",ver2_0={name:"mlb_player",template:"/media/player/mp_tpl.jsp",width:910,height:640},ver3_0={name:"mlb_player",template:"/media/player/mp_tpl_silverlight.jsp",width:1012,height:660},ver3_1={name:"MLBPlayer",template:"/media/player/mp_tpl_3_1.jsp",width:1012,height:600};var mediaPlayer=new MPlayer(ver3_0);mediaPlayer.preLaunch=function(a){if(a.inning){window.open("/components/video/coming_soon.jsp","coming_soon","width=500,height=470,location=no,menubar=no,scrollbars=yes,status=yes,toolbar=no,resizable=yes");return false;}if(!a.pid||a.pid!=""){switch(a.pid){case"mlb_lg":a.type="v_sub";break;case"mlb_tv_linescore":a.type="v_sub";break;case"mlb_pghs":a.type="v_sub";break;case"mlb_bb":a.type="v_sub";break;case"mlb_cg":a.type="v_sub";break;case"mlb_ga":a.type="a_sub";break;case"bb_audio":a.type="a_sub";break;case"bb_video":a.type="v_sub";break;case"mlb_cchd":a.type="v_free";break;case"gen_video":a.type="v_free";break;case"gen_audio":a.type="a_free";break;case"mlb_tp":a.type="v_free";break;case"mlb_potg":a.type="v_free";break;case"mlb_dv":a.type="v_free";break;case"CWSVID2007":a.type="v_sub";break;case"CWSVID2006":a.type="v_sub";break;case"false":a.type="v_free";break;default:a.type="v_free";break;}document.cookie="media_pid="+a.pid+"; path=/; domain=mlb.com";}return true;};var SLPlayer=new MPlayer.SilverLightPlayer({name:"articlePlayer",xaml:"/silverlight/viral_video_player/1.0/MlbVideoPlayer.xaml",width:277,height:195});SLPlayer.articleImgId=null;SLPlayer.preWrite=function(f){var b=false;if(typeof bam=="undefined"){bam={};document.write("<script src='/shared/scripts/bam.packed.js'><\/script>");}if(typeof bam.FlvPlayer=="undefined"){document.write("<script src='/shared/scripts/bam.FlvPlayer.js'><\/script>");}if(typeof bam.tracking=="undefined"){document.write("<script src='/shared/scripts/bam.tracking.js'><\/script>");}SLPlayer.articleImgId=f.imgId;if(f.mid||f.mid!=null){var c="/gen/multimedia/detail/",d=f.mid.toString();this.flashPlayer=null;this.trackPlayer=function(){};var a=d.substring(0,4)+"/"+d.substring(4,6)+"/"+d.substring(6,8),g=d.substring(8);var e=c+a+"/"+g+".xml";document.write("<div id='flashEmbedPlayer' style='width:277px;padding:0 0 5px;'><div id='videoTitle' style='font-size:11px;padding:3px 5px 3px 28px;color:#26A1FE;border-bottom:1px solid #fff;font-weight:bold;background:#000 url(/images/media/video_icon.gif) no-repeat 3px 4px;' align='left'></div><div id='videoObjContainer' style='background-color:#000;height:195px;'></div><div id='videoCaption' align='left' style='padding:3px 5px;background-color:#000;'><a id='video_page_link' href='#' style='color:#fff;font-size:11px;font-weight:bold;'>Enlarge video and watch related clips &raquo;</a></div></div>");setTimeout(function(){$("#video_page_link").click(function(){bam.tracking.track({async:{isDynamic:false,compName:"Embedded Article Page Video",compActivity:"Video Page Link Click",actionGen:true},callback:function(){document.location="/media/video.jsp?mid="+f.mid;}},$(this)[0]);return false;});bam.tracking.track({async:{isDynamic:false,compName:"Embedded Article Page Video",compActivity:"Impression",userGenerated:false}},$(this)[0]);},200);$.get(e,function(l){var j={},h=l.getElementsByTagName("thumbnailScenario"),k=l.getElementsByTagName("headline");j.headline=(k[0].firstChild)?k[0].firstChild.nodeValue:"";j.urls=l.getElementsByTagName("url");j.img=(h.length>0&&h[0].firstChild)?h[0].firstChild.nodeValue:"";j["800K"]={exist:false};j["400K"]={exist:false};$.each(j.urls,function(o,m){if(m.getAttribute("playback_scenario")=="MLB_FLASH_400K_PROGDNLD"){if(m.firstChild&&m.firstChild.nodeValue){j["400K"].curVideoUrl=m.firstChild.nodeValue;j["400K"].curVideoId=m.getAttribute("id");j["400K"].exist=true;}}else{if(m.getAttribute("playback_scenario")=="MLB_FLASH_800K_PROGDNLD"){if(m.firstChild&&m.firstChild.nodeValue){j["800K"].curVideoUrl=m.firstChild.nodeValue;j["800K"].curVideoId=m.getAttribute("id");j["800K"].exist=true;}}else{if(m.getAttribute("speed")=="400"&&m.getAttribute("type")=="flash-video"){j["400K"].curVideoUrl=m.firstChild.nodeValue;j["400K"].curVideoId=m.getAttribute("id");j["400K"].exist=true;}else{if(m.getAttribute("speed")=="800"&&m.getAttribute("type")=="flash-video"){j["800K"].curVideoUrl=m.firstChild.nodeValue;j["800K"].curVideoId=m.getAttribute("id");j["800K"].exist=true;}}}}});j.url=(j["400K"].exist)?j["400K"].curVideoUrl:j["800K"].curVideoUrl;j.id=(j["400K"].exist)?j["400K"].curVideoId:j["800K"].curVideoId;if(typeof j.url=="undefined"){setTimeout(function(){$("#flashEmbedPlayer").hide();},200);SLPlayer.showArticleImg();return false;}SLPlayer.trackPlayer=function(){bam.tracking.track({async_media:{mediaID:j.id||"Not Available",playerType:"Flash",playerContext:"Article Page",contextVersion:"2.0",streamType:"Progressive Download",bitRate:(j["400K"].exist)?"400K":"800K"}});};setTimeout(function(){$("#videoTitle").append(j.headline);if(typeof console!="undefined"){console.log("/*********** SLPlayer.preWrite... before SLPlayer.flashPlayer setting");}SLPlayer.flashPlayer=new bam.FlvPlayer({skin:"/flash/video/v2/skins/mlb_teamHPmini.swf",hideControls:false,self:"SLPlayer.flashPlayer",elemId:"FlashPlayer",height:195,width:277,debugMode:true,containerId:"videoObjContainer",defaultVolume:35,onPlayerLoaded:function(){if(typeof console!="undefined"){console.log("/*********** SLPlayer.flashPlayer onPlayerLoaded called");}SLPlayer.flashPlayer.setBeginPoster("/shared/flash/video/beginPoster.swf?stagew=277&stageh=195&w=215&h=121&thumb="+escape(j.img));SLPlayer.flashPlayer.onPlaylistBegin=function(){SLPlayer.trackPlayer();};SLPlayer.flashPlayer.setPlaylist([{type:"video",videoPath:j.url}]);}});},200);});}else{SLPlayer.showArticleImg();}return false;};SLPlayer.showArticleImg=function(){if(SLPlayer.articleImgId){var a=document.getElementById(SLPlayer.articleImgId);if(a!=null){a.style.display="block";}}};function playMedia(mURL,cURL,cw,ch,s,cparam,gid,version){version=(typeof version!="undefined"&&version!=""&&version!=null)?version:"r1";eval("playMedia2({"+version.substr(0,1)+" : '"+mURL+"', pid : '"+((s)?s:"false")+((gid)?"', gid : '"+gid:"")+((version)?"', v : '"+version:"")+"'})");}function playMedia2(b){try{if(b.mid){delete b.mid;}if(b.v&&b.v=="3"){b.v="2";}}catch(a){}v=(b.v)?((b.v.length==1)?b.v:b.v.substr(1)):"1";ct1="";if(typeof _MP_EMBED!="undefined"&&_MP_EMBED!=""){b.embed=_MP_EMBED;}mType=mediaPref="w";mURL=((b[mediaPref])&&(b[mediaPref]!=""))?b[mediaPref]:((mediaPref=="w")?b[mType="r"]:b[mType="w"]);mediaParams=b;mediaID=(b[mType+"_id"])?"&mediaId="+b[mType+"_id"]:"";if(!isFreeProduct(b.pid)){if(v=="2"){mediaPlayer.play(mediaParams);}else{urlstr="/media";if(b.partner&&(b.pid=="mlb_lg"||b.pid=="mlb_ga")){SetSessionCookie("media_partner",b.partner,"/","mlb.com");}urlstr+="?pid="+b.pid+((mURL)?"&url="+escape(mURL):"")+((b.cid)?"&cid="+b.cid:"")+((b.gid)?"&gid="+b.gid:"")+((b.inning)?"&inning="+b.inning:"")+((b.top)?"&top="+b.top:"")+((b.fid)?"&fid="+b.fid:"");void (window.open(urlstr));}}else{mediaParams.mType=mType;if(v=="1"||((b.embed)&&(b.embed==0))){if(mURL.indexOf("://")<0){if(mURL.charAt(0)=="/"){mURL=mURL.substring(1);}mediaParams.mUrl=(mType=="w")?arl_w+mURL:arl_r+mURL;}void (document.location.href=mediaParams.mUrl);}else{mediaParams[mType]=mURL;mediaParams.urlstr="";mediaParams.mUrl="";mediaPlayer.play(mediaParams);}}}function isAudioProd(a){if(a=="mlb_ga"||a=="gen_audio"||a=="mlb_fga"||a=="mlb_buff"||a=="audios"){return true;}else{return false;}}function isVideoProd(b){for(var a=0;a<vidProds.length;a++){if(vidProds[a]==b){return true;}}return false;}function isFreeProduct(b){for(var a=0;a<freeProds.length;a++){if(freeProds[a]==b){return true;}}return true;}function playMediaDV(a){playMedia(a);}function playMediaGV(a){alert("The media file you have requested is currently not availible.");}function playMediaWWW(a){alert("The media file you have requested is currently not availible.");}function playMediaGA(a){alert("The media file you have requested is currently not availible.");}function playMediaHD(a){alert("The media file you have requested is currently not availible.");}function playMediaLG(a){alert("The media file you have requested is currently not availible.");}function playMediaTTV(a){alert("The media file you have requested is currently not availible.");}function playMediaTTA(a){alert("The media file you have requested is currently not availible.");}function playMediaCG(a){alert("The media file you have requested is currently not availible.");}function playMediaJPV(a){playMedia(a);}function playMediaST(d,b,c,f,e,a){playMedia(d);}function playMediaMA(a){setFileNameEXT(a);if(thisFileName.indexOf("mlb/open/")>-1){thisFileName=thisFileName.slice(thisFileName.lastIndexOf("mlb/open/"),thisFileName.length);}else{if(thisFileName.indexOf("mlbr/mlbr/")>-1){thisFileName=thisFileName.slice(thisFileName.lastIndexOf("mlbr/mlbr/"),thisFileName.length);}}playMedia(thisFileName);}function playMediaMR(a){setFileNameEXT(a);if(thisFileName.indexOf("mlbr/mlbr/")>-1){thisFileName=thisFileName.slice(thisFileName.lastIndexOf("mlbr/mlbr/"),thisFileName.length);}playMedia(thisFileName);}function playMediaTA(b,a){setFileNameEXT(b);if(thisFileName.indexOf("mlb/open/")>-1){thisFileName=thisFileName.slice(thisFileName.lastIndexOf("mlb/open/"),thisFileName.length);}playMedia(thisFileName);}function playMediaTV(b,a){setFileNameEXT(b);if(thisFileName.indexOf("mlb/open/")>-1){thisFileName=thisFileName.slice(thisFileName.lastIndexOf("mlb/open/")+9,thisFileName.length);}playMedia("mlb/open/"+thisFileName);}function setFileNameEXT(a){thisFileName="";if(a.indexOf(".")>-1){thisFileName=a.slice(0,a.lastIndexOf("."));if(a.indexOf(".smil")>-1){thisFileName=thisFileName+".smil";}else{if(a.indexOf(".smi")>-1){thisFileName=thisFileName+".smi";}else{thisFileName=thisFileName+".rm";}}}else{thisFileName=a+".rm";}}(function(window,document,$,undefined){$.ajaxSettings.traditional=true;var STRING="string",NUMBER="number",OBJECT="object",FUNCTION="function",TRUE=true,FALSE=false,NULL=null;var _findStyle=function(href){var styles=document.styleSheets,stLen=styles.length-1,cStyle=NULL;if(stLen>=0){do{cStyle=styles[stLen];if(!!cStyle.href&&cStyle.href.lastIndexOf(href)>-1){return cStyle;}}while(stLen--);}return NULL;};var _modules={add:function(path){if(!/add|isLoaded/.test(path)){this[path]=TRUE;}},isLoaded:function(path){var out=FALSE,mod=_modules[path];if(typeof(mod)!=="undefined"){out=TRUE;}return out;}};var _bam={version:"3.3",homePath:"/shared/scripts/bam/",extend:function(){var ext=NULL,obj=NULL,i;if(arguments.length>1){obj=arguments[0];ext=arguments[1];}else{obj=_bam;ext=arguments[0];}if(typeof(ext)===OBJECT&&!!ext){for(i in ext){if(ext.hasOwnProperty(i)){if(typeof(ext[i])===OBJECT){if(!obj[i]||!!obj[i].path){obj[i]=ext[i];if(arguments.length===1){obj[i].packageName="bam."+i;}}}}}}},augment:function(){var ext=NULL,obj=NULL,i;if(arguments.length>1){obj=arguments[0];ext=arguments[1];}else{obj=_bam;ext=arguments[0];}if(typeof(ext)===OBJECT&&!!ext){for(i in ext){if(ext.hasOwnProperty(i)){if(typeof(ext[i])===FUNCTION){if(!obj[i]){obj[i]=ext[i];}}}}}},imports:function(){function _syncLoad(obj){if(typeof(obj)===OBJECT&&!!obj.lib){var path=_bam.homePath+obj.path;delete _bam[obj.lib];_bam.loadSync(path);}}if(arguments.length>1){var aLen=arguments.length-1;do{_syncLoad(arguments[aLen]);}while(aLen--);}else{_syncLoad(arguments[0]);}},load:function(path,cb){if(typeof(path)===STRING){if(!_modules.isLoaded(path)){$.get(path,function(text){try{var json=eval("("+text+")");bam.extend(json);_modules.add(path);if(!!cb&&typeof(cb)===FUNCTION){cb();}}catch(ex){}});}else{if(!!cb&&typeof(cb)===FUNCTION){cb();}}}},loadSync:function(){function _syncLoad(path){$.ajax({type:"GET",url:path,dataType:"text",async:FALSE,success:function(text){try{var json=eval("("+text+")");bam.extend(json);_modules.add(path);}catch(ex){}}});}if(arguments.length>1){var aLen=arguments.length-1,_a=0;do{if(!_modules.isLoaded(arguments[_a])){_syncLoad(arguments[_a]);}}while(_a++<aLen);}else{if(!_modules.isLoaded(arguments[0])){_syncLoad(arguments[0]);}}},loadCSS:function(){var stylePath,aLen=arguments.length-1,_a=0;if(aLen>=0){var _head=document.getElementsByTagName("head")[0],_link=document.createElement("link"),cLink=NULL;_link.setAttribute("rel","stylesheet");_link.setAttribute("type","text/css");do{if(!_findStyle(arguments[_a])){stylePath=arguments[_a];if(typeof(stylePath)===STRING){cLink=_link.cloneNode(TRUE);cLink.setAttribute("href",stylePath);_head.appendChild(cLink);}}}while(_a++<aLen);}},unloadCSS:function(){var styleSheet=NULL,owner=NULL,parent=NULL,aLen=arguments.length-1;if(aLen>=0){do{if(!!(styleSheet=_findStyle(arguments[aLen]))){styleSheet.disabled=TRUE;owner=(!!styleSheet.owningElement)?styleSheet.owningElement:styleSheet.ownerNode;parent=(!!owner.parentElement)?owner.parentElement:owner.parentNode;parent.removeChild(owner);}}while(aLen--);}},clone:function(obj){if(typeof(obj)===OBJECT&&!!obj){function F(){}F.prototype=obj;return new F();}else{throw new Error("bam.clone() was called with an invalid or null argument.");}},collections:{path:"bam.collections.js",lib:"collections"},cookies:{path:"bam.cookies.js",lib:"cookies"},datetime:{path:"bam.datetime.js",lib:"datetime"},dom:{path:"bam.dom.js",lib:"dom"},filters:{path:"bam.filters.js",lib:"filters"},forms:{path:"bam.forms.js",lib:"forms"},soap:{path:"bam.soap.js",lib:"soap"},url:{path:"bam.url.js",lib:"url"},validation:{path:"bam.validation.js",lib:"validation"},xml:{path:"bam.xml.js",lib:"xml"},object:{typeOf:function(obj){var out="",ots=Object.prototype.toString;if(typeof(obj)===OBJECT){switch(TRUE){case (obj===NULL):out="null";break;case (ots.call(obj)==="[object String]"):out=STRING;break;case (ots.call(obj)==="[object Number]"):out=isNaN(obj)?"NaN":NUMBER;break;case (ots.call(obj)==="[object Date]"):out=isNaN(obj)?"NaN":"date";break;case (ots.call(obj)==="[object Array]"||obj instanceof Array):out="array";break;case (ots.call(obj)==="[object Error]"):out="error";break;case ("tagName" in obj):out=obj.tagName.toLowerCase();break;case ("nodeType" in obj):out="xml";break;default:out=OBJECT;}}else{if(typeof(obj)===NUMBER&&isNaN(obj)){out="NaN";}else{out=typeof(obj);}}return out;},getDeepValue:function(obj,deepProp){var props=deepProp.split("."),i=0,n=props.length;while(typeof(obj=obj[props[i]])!=="undefined"&&++i<n){}return obj;},setDeepValue:function(obj,deepProp,val){var props=deepProp.split("."),root=obj,i=0,n=props.length-1,p,t;while(i<n){p=props[i];t=typeof obj[p];obj=obj[p]=(t===OBJECT||t===FUNCTION)?obj[p]:{};i++;}obj[props[i]]=val;return root;},extend:function(subclass,superclass,overrides){if(!superclass||!subclass){throw new Error("extend failed, please check that all dependencies are included.");}var F=function(){};F.prototype=superclass.prototype;subclass.prototype=new F();subclass.prototype.constructor=subclass;subclass.superclass=superclass.prototype;if(superclass.prototype.constructor===Object.prototype.constructor){superclass.prototype.constructor=superclass;}if(overrides){for(var i in overrides){if(overrides.hasOwnProperty(i)){subclass.prototype[i]=overrides[i];}}var isIE=!+"\v1";if(isIE){bam.object._IEEnumFix(subclass.prototype,overrides);}}},_IEEnumFix:function(obj,ext){var fnNames=["toString","valueOf"],fnName,fn,i,n;for(i=0,n=fnNames.length;i<n;++i){fnName=fnNames[i];fn=ext[fnName];if(typeof fn===FUNCTION&&fn!=Object.prototype[fnName]){obj[fnName]=fn;}}},proxy:function(fn,obj){var scope=obj||window,defaults;fn=(typeof fn==="string")?scope[fn]:fn;if(arguments.length<3){return function(){return fn.apply(scope,arguments);};}else{defaults=Array.prototype.slice.call(arguments,2);return function(){var args=[];for(var i=0;i<Math.max(arguments.length,defaults.length);++i){args[i]=(typeof arguments[i]!=="undefined")?arguments[i]:defaults[i];}return fn.apply(scope,args);};}},eventProxy:function(){var fn=bam.object.proxy.apply(NULL,arguments);return function(){return fn.apply(NULL,Array.prototype.slice.call(arguments,1));};}},namespace:function(obj,ns){var props=(ns||obj).split("."),i,n;obj=ns&&obj||bam;for(i=0,n=props.length;i<n;++i){obj=obj[props[i]]=obj[props[i]]||{};}return obj;},util:{ensureArray:function(val){return(val instanceof Array)?val:(typeof val!=="undefined")?[val]:[];},getQueryResults:function(data){var deepProp=(typeof arguments[1]!=="undefined")?arguments[1]+".":"";return bam.util.ensureArray(bam.object.getDeepValue(data,deepProp+"queryResults.row"));},getQueryResult:function(data){return bam.util.getQueryResults(data,arguments[1])[arguments[2]||0];},countQueryResults:function(data){var deepProp=(typeof arguments[1]!=="undefined")?arguments[1]+".":"";return parseInt(bam.object.getDeepValue(data,deepProp+"queryResults.totalSize"),10);},wrapQueryResults:function(data){return bam.object.setDeepValue({},"queryResults.row",data);}},number:{limitValueToRange:function(val,rangeA,rangeB){var min=Math.min(rangeA,rangeB),max=Math.max(rangeA,rangeB);return Math.max(Math.min(val,max),min);}},string:(function(){var _self={trim:function(str){return $.trim(str);},equals:function(str,str2){if(typeof(str)===STRING&&typeof(str2)===STRING){return str===str2;}},equalsIgnoreCase:function(str,str2){if(typeof(str)===STRING&&typeof(str2)===STRING){return str.toLowerCase()===str2.toLowerCase();}},toCharArray:function(str){if(typeof(str)===STRING){return str.split("");}},instr:function(str,from,to,val){var _out=str;if(typeof(str)===STRING){if((!isNaN(from))&&(from>=0)&&(from<=str.length)){if((!isNaN(to))&&(to>=0)&&(to<=str.length)){var _tmp=str.substring(0,from);_tmp+=val;_tmp+=str.substring(to);_out=_tmp;}}}return _out;},textWrap:function(str,largestWordLength,wordPartSize,wordBreaker){if(bam.object.typeOf(str)!==STRING){return str;}else{str=String(str);}largestWordLength=largestWordLength||20;wordPartSize=wordPartSize||5;var userAgent;if(wordBreaker){}else{if((userAgent=navigator.userAgent.match(/Firefox\/([0-9\.]+)/i))&&parseInt(userAgent[1],10)<3){wordBreaker="&#8203;";}else{wordBreaker="&shy;";}}var regex=new RegExp("([a-z0-9\\-_]{"+largestWordLength+",})([^<]*?>)?","gi");return str.replace(regex,function(){var match=arguments[1];var result=[];var i=0;if(match.indexOf(wordBreaker)!==-1||arguments[2]){if(arguments[2]){match+=arguments[2];}return match;}while(match.length>0){result.push(match.substring(0,wordPartSize));match=match.substring(wordPartSize);}return result.join(wordBreaker);});},StringBuffer:function(str){this.buffer=[];this.length=0;if(!!str){this.append(str);}},escapeHTML:function(htmlStr){var div=document.createElement("div");div["innerText" in div?"innerText":"textContent"]=htmlStr;return div.innerHTML;},unescapeHTML:function(htmlStr){var div=document.createElement("div");div.innerHTML=htmlStr;return div["innerText" in div?"innerText":"textContent"].replace("&apos;","'");}};_self.StringBuffer.prototype={append:function(obj){if(typeof obj!=="undefined"){var tmp=String(obj);this.length+=tmp.length;this.buffer.push(tmp);}return this;},replace:function(start,end,rplStr){if(bam.object.typeOf(rplStr)===STRING){var tmp=this.toString();tmp=bam.string.instr(tmp,start,end,rplStr);this.clear();this.append(tmp);}return this;},remove:function(start,end){if(!!end){this.replace(start,end,"");}else{this.replace(start,this.length,"");}return this;},reverse:function(){this.buffer=this.toString().split("").reverse();return this;},clear:function(){this.length=0;this.buffer.length=0;return this;},toString:function(){return this.buffer.join("");}};return _self;})(),env:(function(win){var _host={};_host.isDev=_host.isQA=_host.isBeta=_host.isProd=false;var _subdomain=win.location.host.split(".").reverse()[2];var _env=_subdomain&&(_subdomain.indexOf("dev")>-1&&"Dev"||_subdomain.indexOf("qa")>-1&&"QA"||_subdomain.indexOf("beta")>-1&&"Beta")||"Prod";_host["is"+_env]=true;var _userAgent=win.navigator.userAgent;var _client={isIPhone:!!_userAgent.match(/iPhone.+Mac/i),isIPad:!!_userAgent.match(/ipad.+Mac/i),isXoom:!!_userAgent.match(/Android 3/i),isPlaybook:!!_userAgent.match(/RIM Tablet OS/i),isAndroid:!!_userAgent.match(/Android/i),isTouchpad:!!_userAgent.match(/hp-tablet.*wOSBrowser.*534.6 TouchPad.*/i),isVizio:!!_userAgent.match(/Vizio/i),isKindle:!!_userAgent.match(/Kindle/i),isWapDevice:!!_userAgent.match(/Android[^\ ]|Android\ [^3]|Android$|Kindle|Blazer|Blackberry|Windows\ CE.\ PPC|phone|IEMobile|Sprint:PPC|^LG|^MOT|^HTC|up.browser|netfront|midp|au- mic|webOS|Bada.*Mobile/i)};return{host:_host,client:_client};})(window)};_bam.object.bind=_bam.object.proxy;_bam.object.namespace=_bam.namespace;$.bindable=function(obj){obj=obj.prototype||obj;$(["bind","one","unbind"]).each(function(i,method){obj[method]=function(type,data,fn,thisObject){$(this)[method](type,data,fn,thisObject);return this;};});obj.trigger=function(type,data){var event=new $.Event(type),all=new $.Event(event);event.preventDefault();all.type="*";if(event.type!=="*"){$(this).trigger(event,data);}$(this).trigger(all,data);return this;};if(typeof arguments[1]==="string"){$.each(arguments[1].split(/\s+/),function(i,type){obj[type]=function(data,fn,thisObject){return arguments.length?this.bind(type,data,fn,thisObject):this.trigger(type);};});}return obj;};_bam.getDateByOffset=function(offset){var offsetHours=~~(offset/100),offsetMinutes=offset%100,local=(typeof arguments[1]!=="undefined")?new Date(arguments[1]):new Date();return new Date(local.getUTCFullYear(),local.getUTCMonth(),local.getUTCDate(),local.getUTCHours()+offsetHours,local.getUTCMinutes()+offsetMinutes,local.getUTCSeconds(),local.getUTCMilliseconds());};window.bam=$.extend(_bam,window.bam||{});})(this,this.document,jQuery);var $js=(function(H,U,A,Y){var K=[],N={},W=function(){},O=Object.prototype.toString,E=!0,T="object",L="array",S="string",J="function",Z="readyState",F="onreadystatechange",Q="onload",G="onerror",R=("async" in A),X=["scriptLoadRetryMax","scriptLoadRetryTimeout","useAsync","useDefer","ignoreExtension","bundlerPath","bundleScripts","compressBundledScripts","version"],B={scriptLoadRetryMax:10,scriptLoadRetryTimeout:15,useAsync:E,useDefer:E,ignoreExtension:!E,bundlerPath:"/bundle",bundleScripts:!E,compressBundledScripts:E,clearBundleCache:!E,version:!E},I=function(b,a,c){this.scripts=b;this.i=0;this.c=this.scripts.length;this.f=0;this.async=(c!==Y)?c:B.useAsync;this.retries=a||0;};I.prototype={loadGroup:function(a){var d=H.createDocumentFragment(),c=this;for(;this.i<this.c;this.i++){d.appendChild(P(this.scripts[this.i],this.async,function b(){c.f++;if(c.c===c.f){a.apply(c);}}));}U.insertBefore(d,U.firstChild);}};function V(b,a){var c=O.apply(b).slice(8,-1);return a+""===c.toLowerCase();}function C(j){var b=typeof(j)===S?[j]:j,d=b.length,g=0,e=[],h,k=/.js$/,a=e,f=/\/shared\/scripts\//g;for(;d>g;g++){h=(!B.ignoreExtension)?k.test(b[g])?b[g]:b[g]+".js":b[g];if(!(h in N)){e.push(h);N[h]=E;}}if(B.bundleScripts&&e.length){var c="?js="+e.join("&js=");if(!B.compressBundledScripts){c+="&compress=false";}if(B.clearBundleCache||location.search.indexOf("clear_bundles=true")>0){c+="&useCache=false";}if(!!B.version){c+="&version="+B.version;}a=[B.bundlerPath+c.replace(f,"")];}return a;}function M(a){return(!a[Z]||a[Z]==="loaded"||a[Z]==="complete");}function P(a,c,b){var d=A.cloneNode(false);d[G]=d[F]=d[Q]=function(){if(M(d)){b();d[G]=d[F]=d[Q]=null;d.parentNode.removeChild(d);}};if(R){d.async=c;}if(("defer" in d)&&B.useDefer){d.defer=E;}d.src=a;return d;}function D(c,e,f,a,b){var d=this;if(f<=B.scriptLoadRetryMax){setTimeout(function(){d.load(a,b,e,f);},B.scriptLoadRetryTimeout);}else{throw c;}}return{setConfig:function(b){if(V(b,T)){var c=X.length,a;while(c--){a=X[c];if((a in b)&&b[a]!==null){B[a]=b[a];}}}return this;},load:function(b,e,c,a){b=C(b);var j=b.length,f,k=this,d;K.unshift(V(e,J)?e:W);if(j){f=new I(b,a,c);f.loadGroup(function g(){f=this;d=K.shift();try{d();}catch(l){D.call(k,l,c,f.retries++,f.scripts,d);}});}else{d=K.shift();if(V(d,J)){try{d();}catch(h){D.call(k,h,c,a+1,[],d);}}}return this;},ordered:function(g,b){if(V(g,L)){if(R){this.load.apply(this,[g,b,false]);}else{var a=g.length,f,e=0,c=this;(function d(){if(e<a){c.load(g[e++],arguments.callee);}else{if(V(b,J)){b();}}})();}}return this;}};})(document,document.getElementsByTagName("head")[0]||document.documentElement,document.createElement("script"));if(!window.bam){window.bam={};}(function(f,C,c){var j={},m="object",h="function",r="string",y="-",u=new RegExp("^([a-z\\-\\._]+)(?:\\-([\\d\\.]+))?$","i"),b=/^\-?(0|[1-9]\d{0,2}(,?\d{3})*)(\.\d+)?$/,A,s,d=/\/([^\/]*)$/,D=/^function([\s]+)?\(([\s]+)?([\w]+)/,B=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/mg;var q="shared/scripts/bam/";A=function(H,F,E,G){this.message=H||"Default Module Error";this.name=F;this.version=E;this.module=G;};A.prototype=new Error();A.prototype.constructor=A;s=function(F,G,E){this.message=F||"Default Require Error";this.timeout=G;this.modules=E;};s.prototype=new Error();s.prototype.constructor=s;var l=(function(){function E(){}return function(F){if(typeof(F)===h){return F;}else{if(typeof(F)===m){E.prototype=F;return new E();}}};})();function o(G,E){if(typeof E==="string"){E=E.split("/");}else{E=E.slice();}var F=G.split("/");while(F[0]==="."){F.shift();}while(F[0]===".."){F.shift();E.pop();}return E.concat(F).join("/");}function p(L,F){var K;var E=F.lastIndexOf("/");if(E!==-1){K=F.substr(0,E).split("/");}else{K=[];}for(var J=0,H;H=L[J];J++){if(typeof H==="string"&&H.indexOf("/")!==-1){if(H.charAt(0)==="/"){window.console&&console.warn&&console.warn("Please remove leading slashes from require() calls.\nModule: "+F+"\nrequire("+H+")");H=H.substr(1);}if(H.charAt(0)==="."){H=o(H,K);}var I=a(H);var G=I.name;H="/"+H;L[J]={};L[J][G]=H;L[J].version=I.version;}}return L;}function w(I,E){var L=I.toString().replace(B,"");var J=D.exec(L)[3];if(J){var F=new RegExp("[^\\w\\.]"+J+"\\(['\"]([^'\"]+)['\"]\\)","gm");var K=L.match(F)||[];for(var H=0,G;G=K[H];H++){K[H]=G.substring(J.length+3,G.length-2);}}return p(K,E);}var z=/\d\.\d/;var x=/\/\d\.\d\//;var g=/\//g;function a(H){var E=+H.match(z);var F;if(E){if(H.substr(0,q.length)===q){var G=H.substr(q.length).replace(x,"/").split("/");if(G[G.length-1]===G[G.length-2]){G.pop();}F=G.join(".");}else{F=H.split(z)[1].substr(1);}}else{E=1;F=H.substr(H.lastIndexOf("/")+1);}return{name:F,version:E};}var e={actionMessages:{atbat:1},array:{atbat:1},"class":{atbat:0.1},cookies:{atbat:1},cryptography:{atbat:0.1},css:{atbat:0.5},data:{atbat:0.1},datetime:{atbat:1},formBuilder:{atbat:1},formValidation:{atbat:1},filters:{atbat:1},jpath:{atbat:1},number:{atbat:1},object:{atbat:1},soap:{atbat:1,ondeck:2},storage:{atbat:0.1},string:{atbat:1},url:{atbat:1},util:{atbat:1},validation:{atbat:1},xml:{atbat:1,ondeck:2}},t=function(){if(!(this instanceof t)){return new t();}var F=this;this.config={timeout:600000,callback:f.noop,useArguments:false,pollInterval:1};this.context=function E(G){if(G.indexOf("/")!==-1){if(G.charAt(0)==="."){G=o(G,F.context.path);}G=a(G).name;}if(G.indexOf("-")){G=G.split("-")[0];}if(F.context[G]){return F.context[G];}else{throw new Error("Tried to require "+G+", which is not in the dependency list!");}};this.deferred=f.Deferred();};var k=(function(){var F={};return function E(J){var O,K,L,I,P,H,M,N="ondeck",G=typeof(J)===r?J:JSON.stringify(J);if(G in F){return F[G];}if(typeof(J)===r){L=u.exec(J);I=L[1];J=I.split(".").slice(-1).toString();O=L[2];if(O){if(I in e){H=e[I];}}else{if(I in e){H=e[I];O=((N in H)&&(H.atbat===H.ondeck))?H.ondeck:H.atbat;}else{throw new A("Unable to find module",I,O,null);}}if(H){if(H.atbat+"">O){window.console&&console.warn&&console.warn("The version of ["+J+"] used is deprecated. Current version is "+H.atbat);C.trackDeprecated({module:J,version:O,method:"*"});}else{if((N in H)&&O<H.ondeck+""){window.console&&console.warn&&console.warn("Updated version of ["+J+"] is available. Please try to update to version "+H.ondeck);}}}O=b.test(O)?parseFloat(O):O;K=typeof(O)!==r?(O%1===0)?Number(O).toPrecision(2):Number(O).toString():O;P=(I.split(".").slice(0,-1).length?I.split("."):[I]).concat(K,J).join("/");M={name:I,version:O,path:"/"+q+P+".js"};}else{if(typeof(J)===m){M={};f.each(J,function(Q,R){M.name=Q;M.version=a(R).version;M.path=R;return false;});}}F[G]=M;return M;};})();t.prototype.require=function(L,G){if(f.isFunction(L)){G=L;L=w(G,"bam.require statement");}if(f.isFunction(G)){this.config.callback=G;}else{if(f.type(G)===m&&!f.isEmptyObject(G)){f.extend(this.config,G);}}L=f.isArray(L)?L:[L];var J,P=this,S=0,Q="ondeck",N,M=[],F=[],E=[],I,T=f.bindable(this.deferred.promise());for(var O=0,H,K=L.length;K>O;O++){H=k(L[O]);F.push(H.name);N=(H.name in j)?j[H.name][H.version]:c;if(N){this.context[H.name]=l(N);P.context[H.name].ver=H.version;(function(U){setTimeout(function(){T.trigger("onModuleReady",[U,P.context[U.name]]);},0);})(H);}else{J=H.path;E.push(J);M.push(H);}}if(!E.length){I=this.config.useArguments?f.map(F,function(U){return P.context[U];}):[this.context];this.deferred.resolveWith(this.context,I);this.config.callback.apply(this.context,I);}else{$js.load(E,function R(){var U,W,V;U=setTimeout(function X(){W=M.length;if(W){for(V=0,H;W>V;V++){H=M.shift();if(H){N=(H.name in j)&&(H.version in j[H.name])&&j[H.name][H.version];if(N){P.context[H.name]=l(N);P.context[H.name].ver=H.version;T.trigger("onModuleReady",[H,P.context[H.name]]);}else{M.push(H);}}}if(P.config.timeout>0&&S++===P.config.timeout){clearTimeout(U);P.deferred.rejectWith(P,[new s("Require block has timed out",P.config.timeout,M)]);throw new s("Require block has timed out",P.config.timeout,M);}U=setTimeout(arguments.callee,P.config.pollInterval);}else{S=0;I=P.config.useArguments?f.map(F,function(Y){return P.context[Y];}):[P.context];clearTimeout(U);P.deferred.resolveWith(P.context,I);P.config.callback.apply(P.context,I);}},P.config.pollInterval);});}return T;};t.prototype.using=function(H,G){var E=[],F;f.each(H,function(I,J){F={};F[I]=J;E.push(F);});return this.require.apply(this,[E,G]);};C.register=function(F,E,G){if(typeof(F)===r&&(typeof(G)===m||typeof(G)===h)){j[F]=j[F]||{};j[F][E||1]=G;}else{throw new A("Unable to register a module",F,E,G);}};C.require=function(){var E=new t();return E.require.apply(E,arguments);};C.using=function(){var E=new t();return E.using.apply(E,arguments);};C.define=function(I,K,E){if(typeof I!=="string"){throw new TypeError("Module identifiers must be a string");}var L=false,F=false;if(typeof K==="function"){E=K;K=w(E,I);L=true;}else{if(f.isArray(K)&&typeof E==="function"){K=p(K,I);F=true;}else{if(E===undefined){E=K;K=[];}}}var G=I.lastIndexOf("/");var J,N;if(G!==-1){N=I.substr(0,G);var M=a(I);J=M.version;I=M.name;}else{N="";var H=I.split("-");I=H[0];J=+H[1]||null;}C.require(K,{useArguments:true}).done(function(){if(typeof E==="function"){var R={};if(L){var Q=this;Q.path=N||I;var P=function P(S){return Q(S);};R={};var O={id:N+"/"+I,exports:R};R=E(P,R,O)||O.exports;}else{R=E.apply(window,arguments);}C.register(I,J,R);}else{C.register(I,J,E);}});};C.require.getNameAndVersionFromPath=a;window.define=C.define;window.requirejs=function(E,F){E=p(E,"requirejs statement");C.require(E,{useArguments:true}).done(F);};})(jQuery,bam);bam.extend({media:(function(){var version="0.5",$j=($.constructor!=jQuery.constructor)?jQuery:$,silverlightVer="1.0.21115.0",wmpPlayFrameUrl="/shared/media/bam.wmp.jsp",asxBuilderUrl="/shared/media/asx_builder.jsp",videoPageUrl="/video/play.jsp",workFlowUrlV1="/media",isMac=window.navigator.platform.toLowerCase().indexOf("mac")!=-1?true:false,allPlayerObjs={},wmpHTML="<object id='[NAME]' name='[NAME]' classid='CLSID:6BF52A52-394A-11d3-B153-00C04F79FAA6' src='[URL]' width='[WIDTH]' height='[HEIGHT]'><param name='autoStart' value='true'><param name='uiMode' value='[UIMODE]'><param name='animationAtStart' value='0'><param name='transparentAtStart' value='true'><param name='url' value='[URL]'><param name='stretchToFit' value='[IERESIZE]'><param name='defaultFrame' value='wmpEventFrame'><param name='align' value='middle'><param name='showStatusBar' value='1'><param name='showTracker' value='1'><param name='showDisplay' value='false'><embed type='application/x-mplayer2' pluginspage='http://www.microsoft.com/Windows/MediaPlayer/' src='[URL]' name='[NAME]' id='mplayer' width='[WIDTH]' height='[HEIGHT]' autostart='1' displaysize='[OTHERRESIZE]' align='middle' animationatstart='0' transparentatstart='1' showstatusbar='[CONTROLS]' showdisplay='0' showtracker='[CONTROLS]' showcontrols='[CONTROLS]' defaultFrame='wmpEventFrame' swliveconnect='0' nojava='1'></embed></object>";if(window.Silverlight){Silverlight.requiredVersion=silverlightVer;}bam.loadSync(bam.homePath+"bam.url.js");bam.loadSync(bam.homePath+"bam.cookies.js");return{launchPlayer:function(props){var _env_vp,_checkcache,_checkprod,_checkbeta,_checkqa,_mp4_baseurl=(bam.env.host.getWebCacheServerURL)?bam.env.host.getWebCacheServerURL():"http://mlb.mlb.com",_mediaProps,_fullPlayerUrl,curParam,_clickOrigin="",_flatMode;var isMlbSource=(!props.source)?true:(props.source.indexOf("MLB")>-1||props.source.indexOf("YOY")>-1||props.source=="ROGERS")?true:false;if(bam.env&&bam.env.client){if(bam.env.client.isIPhone||bam.env.client.isIPad){if(props.source==="FULLCOUNT"){window.open("http://mlb.mlb.com/");}else{location.href="/mobile/ipad/";}return;}if((props.source!=="GBTV"&&props.source!=="THEBLAZE")&&bam.env.client.isAndroid){location.href="/mobile/android/unsupported.jsp";return;}if(bam.env.client.isVizio){location.href="/mobile/android/unsupported.jsp";return;}if(bam.env.client.isTouchpad){location.href="/mobile/touchpad/unsupported.jsp";return;}if(bam.env.client.isPlaybook){location.href="/mobile/blackberry/unsupported.jsp";return;}}if(typeof bam.mp4_config==="undefined"){bam.loadSync("/shared/scripts/bam.mp4_config.js");}if(!props.calendar_event_id){if((""+props.source).toUpperCase()==="WBC"){window.open(this.getWbcAdobePassUrl(),"mp4","height="+bam.mp4_config.height+",width="+bam.mp4_config.width+",resizable=0");return;}else{playMedia2(props);return;}}if(bam.tracking&&bam.tracking.clickOrigin){_clickOrigin=bam.tracking.clickOrigin;}_flatMode=false;if(isMlbSource){$.ajax({type:"GET",async:false,cache:true,url:"/media/player/mp4_flat_map.js",dataType:"script",success:function(data){data=eval(data);if(data[props.calendar_event_id]){_flatMode=true;window.open("http://mlb.mlb.com/media/ext/play.html?url="+data[props.calendar_event_id]+"&w=640&h=360","mp4_flat","height=500,width=660,resizable=0");}},error:function(errorResponse){if(typeof console!=="undefined"){console.log("bam.media.launchPlayer(): couldn't load /media/player/mp4_flat_map.js");}}});}if(_flatMode){return;}if(isMlbSource){var _calIdArr=props.calendar_event_id.split("-"),_y=_calIdArr[2],_m=_calIdArr[3],_d=_calIdArr[4],_gameDate=_y+_m+_d,_psStartDate=new Date("2012/10/04"),_psEndDate=new Date("2012/11/03"),_calIdDate=new Date(_y+"/"+_m+"/"+_d),_todayDate=(bam.getFlipDisplayDate)?bam.getFlipDisplayDate():new Date(),_isGameLive=false,_gameProps;if((_todayDate>_psStartDate)&&(_todayDate<_psEndDate)&&(_calIdDate>=_todayDate)&&!props.skipIntr){$.ajax({url:"/gdcross/components/game/mlb/year_"+_y+"/month_"+_m+"/day_"+_d+"/multi_angle_epg.xml",dataType:"xml",async:false,success:function(tvData){var $game=$("game[calendar_event_id='"+props.calendar_event_id+"']",tvData);$game.find("angle").each(function(){if(_isGameLive){return false;}else{var $media=$(this).find("media[platform='WEB_MEDIAPLAYER']");if($media.attr("media_state")==="media_on"){_gameProps={content_id:$media.attr("content_id"),source:$media.attr("source"),view_key:$media.attr("source"),sponsor:$media.attr("sponsor")};_isGameLive=true;}}});}});if(_isGameLive){bam.media.launchTvStreamSelect({mode:"watch",linkProps:props,gameProps:_gameProps});return;}}}if(isMlbSource){if(!props.content_id){if(typeof props.media_type==="undefined"){props.media_type="";}$.ajax({async:false,url:"/media/player/mp4_hd_map.js",dataType:"json",success:function(data){if(data[props.calendar_event_id]&&data[props.calendar_event_id][props.media_type]){props.content_id=data[props.calendar_event_id][props.media_type];}},error:function(){if(typeof console!=="undefined"){console.log("bam.media.launchPlayer(): couldn't load /media/player/mp4_hd_map.js");}}});}}_mediaProps={calendar_event_id:"",content_id:"",media_id:"",view_key:"",media_type:"",source:"MLB",sponsor:"MLB",clickOrigin:_clickOrigin,affiliateId:_clickOrigin};if(props.source==="FULLCOUNT"){_mediaProps.start_time="";}$.extend(_mediaProps,props);if(_mediaProps.source==="MLB"){_mediaProps.team=window.club||"mlb";}if(!bam.env.host.getWebCacheServerURL){_env_vp=document.URL.toLowerCase();_checkcache=(_env_vp.indexOf("mlb.mlb")!==-1);_checkprod=(_env_vp.indexOf("www.mlb")!==-1);_checkbeta=(_env_vp.indexOf("betasecure.mlb")!==-1||_env_vp.indexOf("beta.mlb")!==-1);_checkqa=(_env_vp.indexOf("qa.mlb")!==-1||_env_vp.indexOf("qa2.mlb")!==-1||_env_vp.indexOf("qasecure.mlb")!==-1);if(_checkprod){_mp4_baseurl="http://mlb.mlb.com";}else{if(_checkbeta){_mp4_baseurl="http://beta.mlb.com";}else{if(_checkqa){_mp4_baseurl="http://qa.mlb.com";}}}}if(bam.env&&bam.env.host){if(bam.env.host.isQA){_mediaProps.environment="qa";}else{if(bam.env.host.isBeta){_mediaProps.environment="beta";}}}var launchUrlWithoutParams=_mp4_baseurl+bam.mp4_config.url;if(_mediaProps.source==="WBC"){var wbc_ipid=bam.cookies.get("wbc_ipid"),wbc_fprt=bam.cookies.get("wbc_fprt");if(wbc_ipid===null||wbc_fprt===null){launchUrlWithoutParams=this.getWbcAdobePassUrl();}else{_mediaProps.appAccountName="wbc";}}_fullPlayerUrl=launchUrlWithoutParams+"?"+$.param(_mediaProps);window.open(_fullPlayerUrl,"mp4","height="+bam.mp4_config.height+",width="+bam.mp4_config.width+",resizable=0");},getWbcAdobePassUrl:function(){var wbcAdobePassFlowBaseUrl;if(bam.env.host.isQA){wbcAdobePassFlowBaseUrl="https://qasecure.mlb.com";}else{if(bam.env.host.isBeta){wbcAdobePassFlowBaseUrl="https://betasecure.mlb.com";}else{wbcAdobePassFlowBaseUrl="https://secure.mlb.com";}}return wbcAdobePassFlowBaseUrl+"/shared/media/player/adobepass/MLBN.html";},launchTvStreamSelect:function(cfg){var linkClass="tv-watch",linkText="Watch Now";if(cfg.mode==="buy"){linkClass="tv-buy";linkText="Buy Now";}bam.loadSync(bam.homePath+"bam.popModule.js");bam.popModule.init({css:"/shared/components/gameday/v6/css/gda-login-popModule.css",overlayCss:"/shared/css/bam/bam.overlay.css"});bam.loadCSS("/style/media/mp4_mini_interstitial.css");var _miniIntHtml='<div id="mini-int"><div id="mini-int-mlbtv" class="mp-option"><h5>International Users - MLB.TV</h5><p>Watch ALL live Postseason games with MLB.TV.</p><p><strong><em>Live games NOT available in the U.S. and Canada.  Full game archives available approximately 90 minutes after each game.</em></strong></p><a href="/mlb/subscriptions/index.jsp?product=mlbtv" class="bam-button bam-button-mlbtv '+linkClass+'">'+linkText+'</a></div><div id="mini-int-pstv" class="mp-option"><h5>U.S./Canada Users - Postseason.TV *</h5><p>Watch live online companion coverage of the Division Series and the AL Championship Series (no blackout restrictions).</p><p><strong>Division Series - ALDS & NLDS<br />League Championship Series - ALCS only</strong></p><a href="/mlb/subscriptions/index.jsp" class="bam-button bam-button-mlbtv '+linkClass+'">'+linkText+'</a></div><p class="mp-legalese">* Postseason multi-angle coverage is presented in conjuction with TBS and MLB Network as a companion to the live broadcast feed.</p><p class="mp-legalese">All broadcasts subject to blackout restrictions. <a href="/mlb/subscriptions/index.jsp">Learn More</a></p></div>';bam.popModule.show({htmlContent:_miniIntHtml,width:445,height:360,overlayOpacity:0.8,postShow:function(){if(cfg.mode==="watch"){$("#module_close a").unbind().bind("click",function(e){e.preventDefault();bam.tracking.track({async:{isDynamic:false,compName:"Post Season Interstitial Options",compActivity:"Post Season Interstitial Close Button Click",actionGen:true}});bam.popModule.exit();});$("#mini-int-mlbtv a").unbind().bind("click",function(e){e.preventDefault();$.extend(cfg.linkProps,{skipIntr:"true"});cfg.linkProps.source="MLB";cfg.linkProps.sponsor="MLB";cfg.linkProps.view_key="";delete cfg.linkProps.content_id;bam.media.launchPlayer(cfg.linkProps);bam.tracking.track({async:{isDynamic:false,compName:"Post Season Interstitial Options",compActivity:"Post Season Interstitial MLB.TV Button Click",actionGen:true}});bam.popModule.exit();});$("#mini-int-pstv a").unbind().bind("click",function(e){e.preventDefault();$.extend(cfg.linkProps,cfg.gameProps,{skipIntr:"true"});bam.media.launchPlayer(cfg.linkProps);bam.tracking.track({async:{isDynamic:false,compName:"Post Season Interstitial Options",compActivity:"Post Season Interstitial Postseason.tv Button Click",actionGen:true}});bam.popModule.exit();});bam.tracking.simPgView({pageName:"Major League Baseball: Postseason Interstitial"});}}});},launchNexDefInstaller:function(cfg){var _cfg={mode:"",version:""};$.extend(_cfg,cfg);if(typeof bam.mp4_config==="undefined"){bam.loadSync("/shared/scripts/bam.mp4_config.js");}var popUrl=((_cfg.version!=="min")?bam.mp4_config.requiredNexDefInstallPath:bam.mp4_config.minNexDefVersion)+((_cfg.mode==="upgrade")?"?mode=upgrade":"");if(!popUrl||popUrl.match(/^\?/)){throw new Error("bam.media.launchNexDefInstaller: can't find installer path.");}window.open(popUrl,"nexDefInstaller","height=400,width=600,resizable=0");},getMetaFilePath:function(param){if(typeof param=="undefined"){return false;}var rootPath="/gen/multimedia/detail/";var filePath;switch(true){case (typeof param.content_id!=="undefined"):filePath=rootPath+param.content_id.replace(/^(\d+(\d)(\d)(\d))$/,"$2/$3/$4/$1")+".xml";break;case (typeof param.mid!=="undefined"):filePath=rootPath+param.mid.replace(/^(\d{4})(\d{2})(\d{2})(\d+)$/,"$1/$2/$3/$4")+".xml";break;default:filePath="";break;}return filePath;},getMetaData:function(content_id){if(typeof content_id==="undefined"){return false;}var _dataObj={},_fieldVals={};if(bam.media.getMetaData._cache&&bam.media.getMetaData._cache[content_id]){_dataObj=bam.media.getMetaData._cache[content_id];}else{$.ajax({type:"GET",async:false,cache:(!bam.env.host.isDev),url:bam.media.getMetaFilePath({content_id:content_id}),dataType:"xml",success:function(xmlData){var _getTag=function(tag){return xmlData.getElementsByTagName(tag)[0];};_dataObj={content_id:content_id,date:(_getTag("media"))?xmlData.getElementsByTagName("media")[0].getAttribute("date"):"",duration:(_getTag("duration")&&_getTag("duration").firstChild)?_getTag("duration").firstChild.nodeValue:"",headline:(_getTag("headline")&&_getTag("headline").firstChild)?_getTag("headline").firstChild.nodeValue:"",kicker:(_getTag("kicker")&&_getTag("kicker").firstChild)?_getTag("kicker").firstChild.nodeValue:"",blurb:(_getTag("blurb")&&_getTag("blurb").firstChild)?_getTag("blurb").firstChild.nodeValue:"",bigBlurb:(_getTag("big-blurb")&&_getTag("big-blurb").firstChild)?_getTag("big-blurb").firstChild.nodeValue:"",imagesByType:[],thumb:"",keywords:xmlData.getElementsByTagName("keyword"),urls:xmlData.getElementsByTagName("url")};$.each(xmlData.getElementsByTagName("thumbnailScenario"),function(i,img){_dataObj.imagesByType[img.getAttribute("type")]=(img.firstChild&&img.firstChild.nodeValue)?img.firstChild.nodeValue:"";});_dataObj.thumb=_dataObj.imagesByType["7"]||"";},error:function(){return false;}});}if(arguments[1]&&arguments[1].constructor===Array){$.each(arguments[1],function(i,field){_fieldVals[field]=_dataObj[field];});}else{_fieldVals=_dataObj;}bam.media.getMetaData._cache=bam.media.getMetaData._cache||{};bam.media.getMetaData._cache[content_id]=_dataObj;return _fieldVals;},getDurationInSeconds:function(duration){var vals=duration.split(":").reverse(),i=0,secs=0;while(vals[i]){secs+=(i===0)?parseInt(vals[i],10):parseInt(vals[i],10)*Math.pow(60,i);i++;}return secs;},getLiveEventIdByTeam:function(fileCode){var calEventId,curDate=arguments[1]||new Date(),yyyy=curDate.getFullYear(),mm=curDate.getMonth()+1,dd=curDate.getDate(),addLeadingZeros=function(c,l,a){return(a=[]).join(a[l-(""+c).length-1]=0)+c;};mm=addLeadingZeros(mm,2);dd=addLeadingZeros(dd,2);$.ajax({url:"/gdcross/components/game/mlb/year_"+yyyy+"/month_"+mm+"/day_"+dd+"/grid.json",cache:true,dataType:"json",async:false,success:function(gridData){$.each(gridData.data.games.game,function(i,game){if((game.away_file_code===fileCode||game.home_file_code===fileCode)&&game.media_state==="media_on"){calEventId=game.calendar_event_id;return false;}});},error:function(){}});return calEventId;},getLiveEventIdByPlayer:function(playerId){var fileCode;$.ajax({url:"/lookup/json/named.player_info.bam?sport_code=%27mlb%27&player_id=%27"+playerId+"%27",cache:true,async:false,dataType:"json",success:function(data){if(data.player_info.queryResults.row&&data.player_info.queryResults.row.file_code){fileCode=data.player_info.queryResults.row.file_code;}},error:function(){}});return(fileCode)?bam.media.getLiveEventIdByTeam(fileCode,arguments[1]):false;},getVersion:function(){return version;},dispatch:function(mediaData){if(typeof console!="undefined"){console.log("################## bam.media.dispatch");}if(typeof mediaData.vid!="undefined"&&(mediaData.vid=="tbs")){return mediaData;}if(typeof mediaData.bypass!="undefined"&&mediaData.bypass==true){return mediaData;}if(typeof mediaData.pid!="undefined"&&(mediaData.pid=="mlb_lg"||mediaData.pid=="mlb_ga")){return mediaData;}if(typeof mediaData.mid=="undefined"){return mediaData;}if(mediaData.mid.length>=9){var dateStr=mediaData.mid.substring(0,4)+"/"+mediaData.mid.substring(4,6)+"/"+mediaData.mid.substring(6,8);var contentId=mediaData.mid.substring(8);var mediaMetaFilePath="/gen/multimedia/detail/"+dateStr+"/"+contentId+".xml";var xmlData=$.ajax({url:mediaMetaFilePath,async:false}).responseXML;var playbackScenarios=[];var urlData={};var duration="";if(xmlData){if(typeof console!="undefined"){console.log("----> url nodes legnth="+xmlData.getElementsByTagName("url").length);}$j.each(xmlData.getElementsByTagName("url"),function(i,url){if(typeof console!="undefined"){console.log("----> playback_scenario="+url.getAttribute("playback_scenario"));}if(url.firstChild){playbackScenarios.push(url.getAttribute("playback_scenario"));urlData[url.getAttribute("playback_scenario")]={id:url.getAttribute("id"),url:url.firstChild.nodeValue};if(url.getAttribute("speed")=="400"&&url.getAttribute("type")=="windows-media"){urlData.MLB_WM_400K_STREAM={id:url.getAttribute("id"),url:url.firstChild.nodeValue};}}});var isDurationLessThanMinutes=function(mins){var durationSecs=-1;var durationNode=xmlData.getElementsByTagName("duration")[0];if(durationNode&&durationNode.firstChild&&durationNode.firstChild.nodeValue){var duration=durationNode.firstChild.nodeValue;if(typeof console!="undefined"){console.log("----> duration is: "+duration);}if(typeof(duration)=="string"&&duration.length>7){durationSecs=parseInt(duration.substring(0,2))*60*60+parseInt(duration.substring(3,5))*60+parseInt(duration.substring(6,8));}}return(durationSecs>-1&&durationSecs<60*mins);};var showVidInPlayer=function(vid){var vidsToShowInPlayer=["08AL1B","08AL2B","08AL3B","08ALC","08ALO","08ALSS","08NL1B","08NL2B","08NL3B","08NLC","08NLO","08NLSS"];return($j.inArray(vid,vidsToShowInPlayer)!=-1);};if(!showVidInPlayer(mediaData.vid)&&($j.inArray("MLB_FLASH_800K_PROGDNLD",playbackScenarios)!=-1)&&isDurationLessThanMinutes(10)){if(typeof console!="undefined"){console.log("----> redirecting to video page");}var clubParam=(typeof club!="undefined"&&club!="mlb")?"&c_id="+club:"";location.href=videoPageUrl+"?mid="+mediaData.mid+clubParam;return false;}else{if(typeof urlData.MLB_WM_400K_STREAM!="undefined"){if(typeof mediaData.w_id!="undefined"){delete mediaData.w_id;}mediaData.id=urlData.MLB_WM_400K_STREAM.id;mediaData.w=urlData.MLB_WM_400K_STREAM.url;}else{if(typeof urlData.MLB_WM_400K_PROGDNLD!="undefined"){if(typeof mediaData.w_id!="undefined"){delete mediaData.w_id;}mediaData.id=urlData.MLB_WM_400K_PROGDNLD.id;mediaData.w=urlData.MLB_WM_400K_PROGDNLD.url;}}if(mediaData.id&mediaData.mid&&mediaData.w){return mediaData;}}}else{if(typeof console!="undefined"){console.log("----> xmlData has no properties.  metafile is likely missing.");}return mediaData;}}return mediaData;},isAutobahnInstalled:false,silverLightOnLoad:function(){},createPlayer:function(o){if(typeof o.type=="undefined"||typeof o.id=="undefined"){throw new Error("bam.media.createPlayer: Missing required parameters in object (mediaUrl, type or id)");}var mediaUrl,width=(o.width)?o.width:320,height=(o.height)?o.height:240,top=(o.top)?o.top:1,left=(o.left)?o.left:1,xaml=(o.xaml)?o.xaml:"/flash/mediaplayer/v3.1/mp.xaml?v=4",container=(o.container)?o.container:"",unsupported=(o.unsupported)?o.unsupported:"Browser Not Supported",install=(o.install)?o.install:"Browser Media Player Plugin Required",windowless=(o.isWindowless)?o.isWindowless:"false",background=(o.background)?o.background:"#FF000033";switch(o.type){case"wmp":(function(){if(typeof o.mediaUrl=="undefined"){throw new Error("bam.media.createPlayer: Missing mediaUrl parameter in object");return false;}wmpIframe=bam.media.getMediaIframe(o.id);$j(document.body).append(wmpIframe);wmpIframe.resizeTo({w:width,h:height});wmpIframe.moveTo({y:top,x:left});allPlayerObjs[o.id]=wmpIframe;wmpIframe.play=function(o){if(o.adUrl&&o.adUrl!=""&&!isMac){if(o.adUrl.indexOf(asxBuilderUrl)>-1){mediaUrl=asxBuilderUrl+"?a="+escape(o.adUrl)+"&b="+escape(o.mediaUrl);}else{mediaUrl=asxBuilderUrl+"?a="+escape(asxBuilderUrl+"?ad="+o.adUrl)+"&b="+escape(o.mediaUrl);}}else{mediaUrl=o.mediaUrl;}var params={id:wmpIframe.id,url:mediaUrl,w:width,h:height,t:"video"};this.src=wmpPlayFrameUrl+bam.url.buildSearch(params);};wmpIframe.play(o);})();break;case"flash":throw new Error("bam.media.createPlayer: Flash player object not supported yet");break;case"silverlight":if(typeof Silverlight!="undefined"){if(typeof container!="object"){throw new Error("bam.media.createPlayer: container param must be an html element object");}Silverlight.createObject(xaml,container,o.id,{width:width,height:height,enableHtmlAccess:"true",background:background,framerate:"15",isWindowless:windowless,version:silverlightVer},{onError:null,onLoad:null},null);}else{throw new Error("bam.media.createPlayer: Missing Silverlight object (silverlight.js)");}break;default:throw new Error("bam.media.createPlayer: Invalid player type parameter");break;}return allPlayerObjs[o.id];},createWMPObject:function(o){var playerObj,wmpIframeObj,wmpTpl=wmpHTML.replace(/\[NAME\]/g,o.name).replace(/\[URL\]/g,o.url).replace(/\[HEIGHT\]/g,o.height).replace(/\[WIDTH\]/g,o.width);if(typeof o.resize!=undefined&&o.resize==true){wmpTpl=wmpTpl.replace(/\[IERESIZE\]/g,"true").replace(/\[OTHERRESIZE\]/g,"4");}else{wmpTpl=wmpTpl.replace(/\[IERESIZE\]/g,"false").replace(/\[OTHERRESIZE\]/g,"1");}if(typeof o.controls!=undefined&&o.controls==false){wmpTpl=wmpTpl.replace(/\[UIMODE\]/g,"none").replace(/\[CONTROLS\]/g,"0");}else{wmpTpl=wmpTpl.replace(/\[UIMODE\]/g,"full").replace(/\[CONTROLS\]/g,"1");}document.getElementById(o.targetElement).innerHTML=wmpTpl;playerObj=$j("#"+o.name).get(0);try{wmpIframeObj=window.parent.bam.media.getPlayerObj(o.iframeId);this.setWMPControls({wmpObject:playerObj,controllerObj:wmpIframeObj});}catch(e){}return playerObj;},getMediaIframe:function(id){var iframe=document.createElement("iframe"),iframeStyle=iframe.style;iframe.id=id;iframe.frameBorder="0";iframe.scrolling="no";iframeStyle.position="absolute";iframeStyle.width="1px";iframeStyle.height="1px";iframe.hide=function(){this.moveTo({x:-2000,y:-2000});};iframe.moveTo=function(o){this.previousLeft=this.style.left;this.previousTop=this.style.top;this.style.top=o.y+"px";this.style.left=o.x+"px";};iframe.resizeTo=function(o){this.style.width=o.w+"px";this.style.height=o.h+"px";};iframe.show=function(){this.style.left=(this["previousLeft"])?this.previousLeft:"0";this.style.top=(this["previousTop"])?this.previousTop:"0";};return iframe;},isSilverLightInstalled:function(){if(Silverlight.isInstalled(silverlightVer)){return"installed";}else{return"notInstalled";}},setWMPControls:function(o){var controller=o.controllerObj,wmpObject=o.wmpObject,_testing;try{_testing=controller.tagName;}catch(e){return false;}controller.stop=function(){try{wmpObject.controls.stop();}catch(e){}};controller.pause=function(){try{wmpObject.controls.pause();}catch(e){}};controller.setVolume=function(v){try{wmpObject.settings.volume=v;}catch(e){}};controller.resume=function(){try{wmpObject.controls.play();}catch(e){}};controller.getPosition=function(){var val="";try{val=wmpObject.controls.currentPosition;}catch(e){}return val;};controller.getPlayState=function(){var val=wmpObject.playState;return(val!="undefined")?val:"";};controller.seek=function(t){try{wmpObject.controls.currentPosition=t;}catch(e){}};controller.fullscreen=function(){try{if(wmpObject.playState==3){wmpObject.fullScreen="true";}}catch(e){}};controller.mute=function(){try{var m=wmpObject.mute;wmpObject.mute=(m=="true")?"false":"true";}catch(e){}};return true;},getPlayerObj:function(id){return allPlayerObjs[id];},addPlayerObj:function(id,obj){allPlayerObjs[id]=obj;},getMediaMeta:function(id,callback){},MPlayer:function(o){if(typeof o!="object"){throw new Error("bam.media.MPlayer: Missing required settings object");return false;}var self=this,template=(typeof o.template!="undefined")?o.template:"",name=(typeof o.name!="undefined")?o.name:"MPlayer",width=(typeof o.width!="undefined")?o.width:320,height=(typeof o.height!="undefined")?o.height:240,inPlayer=(typeof o.inPlayer!="undefined")?o.inPlayer:false,workFlowUrl=(typeof o.workFlowUrl=="undefined")?o.workFlowUrl:"",preLaunch=(typeof o.preLaunch=="function")?o.preLaunch:function(){return true;},postLaunch=(typeof o.postLaunch=="function")?o.postLaunch:function(){},prePlayerLoad=(typeof o.prePlayerLoad=="function")?o.prePlayerLoad:function(){return true;};self.constructor.prototype.play=function(o){if(inPlayer){if(typeof console!="undefined"){console.log("!!!!!!!!!!!! calling override !!!!!!!!!!!!");}overrideReflector(o);if(typeof console!="undefined"){console.log("!!!!!!!!!!!! calling updatePlaybackPrams based on playback scenario !!!!!!!!!!!!");}updatePlaybackPrams(o);prePlayerLoad(o);}else{if(preLaunch(o)){launchPlayer(o);postLaunch(o);}}};function launchPlayer(o){var _left,_top,_url=template+bam.url.buildSearch(o);if(width>screen.availWidth-12){width=screen.availWidth-12;}if(height>screen.availHeight-48){height=screen.availHeight-48;}_left=(screen.availWidth-width-12)/2;_top=(screen.availHeight-height-48)/2;void (window.open(_url,name,"width="+width+",height="+height+",left="+_left+",top="+_top+",resizable=false"));}function overrideReflector(o){if(mlbMediaUtils.refOverride){var media_id=o.w_id||o.id;if(media_id){o.pid="gen_video";if(o.mid){delete (o.mid);}$j.each(mlbMediaUtils.overrideArray,function(i,mapObj){if(media_id==mapObj.media_id){o.w=mapObj.free_reflector;if(o.fid=="mlb_lg1200"){o.fid="mlb_lg800";}}});}}}function updatePlaybackPrams(o){var playbackScenarios={MLB_WM_800K_STREAM:{bitrate:"800",mType:"w"},MLB_WM_400K_STREAM:{bitrate:"400",mType:"w"},MLB_WM_1200K_SWARM:{bitrate:"1200",mType:"w"},MLB_WM_400K_STREAM_ARCHIVE:{bitrate:"400",mType:"w"},MLB_WM_800K_STREAM_ARCHIVE:{bitrate:"800",mType:"w"},MLB_WM_800K_PROGDNLD:{bitrate:"800",mType:"w"},MLB_WM_400K_PROGDNLD:{bitrate:"400",mType:"w"},MLB_WM_400K_STREAM_2007:{bitrate:"400",mType:"w"},MLB_WM_700K_STREAM_2007:{bitrate:"700",mType:"w"}};var scenario=(o.playback_scenario)?o.playback_scenario:(mlbMediaUtils.scenarios.selected&&mlbMediaUtils.scenarios.selected!="")?mlbMediaUtils.scenarios.selected:null;if(typeof console!="undefined"){console.log("------------> updatePlaybackPrams: scenario="+scenario);}if(scenario!=null){var scenarioSettings=playbackScenarios[scenario];if(o.fid){var bitRate=o.fid.replace(/\D/gi,"");if(typeof console!="undefined"){console.log("------------> updatePlaybackPrams: bitRate="+bitRate);}o.fid=o.fid.replace(bitRate,scenarioSettings.bitrate);}if(o.mType){o.mType=scenarioSettings.mType;}if(o.url){o[scenarioSettings.mType]=o.url;}if(o.id){o[scenarioSettings.mType+"_id"]=o.id;}}}},setScenarioArray:function(scenariosArr,playerParams){if(typeof console!="undefined"){console.log("/*********** bam.media.setScenarioArray");}if(mlbMediaUtils.flshObj==null){if(typeof console!="undefined"){console.log("----> bam.media.setScenarioArray: Set Flash Object Reference (mlbMediaUtils.flshObj)");}mlbMediaUtils.flshObj=document.getElementById("controls");}for(var i=0;i<scenariosArr.length;i++){if(typeof console!="undefined"){console.log("----> bam.media.setScenarioArray: scenario "+i+":"+scenariosArr[i]);}mlbMediaUtils.scenarios[scenariosArr[i]]=true;}mlbMediaUtils.scenarios.wmpOptOut=(mlbMediaUtils.scenarios.MLB_WM_800K_STREAM)?"MLB_WM_800K_STREAM":(mlbMediaUtils.scenarios.MLB_WM_400K_STREAM)?"MLB_WM_400K_STREAM":(mlbMediaUtils.scenarios.MLB_WM_800K_PROGDNLD)?"MLB_WM_800K_PROGDNLD":(mlbMediaUtils.scenarios.MLB_WM_400K_PROGDNLD)?"MLB_WM_400K_PROGDNLD":"false";if(typeof console!="undefined"){console.log("----> bam.media.setScenarioArray: Set wmpOptOut scenario to "+mlbMediaUtils.scenarios.wmpOptOut);}if(typeof console!="undefined"){console.log("----> bam.media.setScenarioArray: Rules Don't Apply.... default to normal play() call");}mlbMediaUtils.flshObj.playFromScenario(false);}};}())});(function(){var a=function(){if($&&$(".mediaLinkContainer")&&$(".mediaLinkContainer").length){if(typeof(bam.tracking)=="undefined"){bam.tracking={};}$(".mediaLinkContainer").mouseover(function(b){bam.tracking.clickOrigin=$(this).attr("trackValue");b.stopPropagation();}).mouseout(function(){bam.tracking.clickOrigin="";});}};if(typeof $.browser==="undefined"){jQuery.browser={};jQuery.browser.msie=/msie/.test(navigator.userAgent.toLowerCase());}if($.browser.msie){$(window).load(a);}else{$(document).ready(a);}})();if(typeof console=="undefined"){var console={log:function(){}};}bam.loadSync(bam.homePath+"bam.cookies.js",bam.homePath+"bam.datetime.js");var mlbMediaUtils={freeProds:["mlb_dv","mlb_potg","gen_video","gen_audio","video","audio","mlb_fga","mlb_tp","false",""],arlPrependReal:"rtsp://a592.v108693.c10869.g.vr.akamaistream.net/ondemand/7/592/10869/v0001/mlb.download.akamai.com/10869/",arlPrependWMP:"mms://a1503.v108692.c10869.g.vm.akamaistream.net/7/1503/10869/v0001/mlb.download.akamai.com/10869/",arlPrependLiveReal:"rtsp://a1503.l10869[PORT].c10869.g.lr.akamaistream.net/live/D/1503/10869/v0001/reflector:[PORT]",arlPrependLiveWMP:"mms://a1503.l10869[PORT].c10869.g.lm.akamaistream.net/D/1503/10869/v0001/reflector:[PORT]",nexDefMacInstaller:"http://gd.mlb.com/swarmcast_updaters/2008/install/4.2.12.MLB08_36/mlb-nexdef-autobahn-4.2.12.MLB08_36.dmg",nexDefWinInstaller:"http://gd.mlb.com/swarmcast_updaters/2008/install/4.2.12.MLB08_36/MLBNexDefInstall.exe",mediaMetaFilePath:"/gen/multimedia/detail",videoLandingPageUrl:"/video/play.jsp",workFlowUrl:"",workFlowUrlV1:"/media",workFlowFrame:null,workFlowFrameSize:{width:1010,height:450},currentMediaMeta:{},wmpObj:null,slpObj:null,flshObj:null,isPostLogin:false,isPostInstall:false,inAdMode:false,giveMeSomeOldSkool:false,isAutoBahnInstalled:false,scenarios:{selected:""},wmpInstanceCount:0,installCookieVal:GetCookie("SLInstall"),installCookie:null,installDisplay:{post2DayCookie:false,post1MonthCookie:false},postLogin:function(a){console.log("/*********** mlbMediaUtils.postLogin");mlbMediaUtils.workFlowFrame.hide();mlbMediaUtils.currentMediaMeta.mUrl=a.url;mlbMediaUtils.isPostLogin=true;mediaPlayer.play(mlbMediaUtils.currentMediaMeta);},isFreeProduct:function(b){console.log("/*********** mlbMediaUtils.isFreeProduct");if(typeof b=="undefined"||b==""){return true;}for(var a=0;a<this.freeProds.length;a++){if(this.freeProds[a]==b){return true;}}return false;},buildMediaARL:function(d){console.log("/*********** mlbMediaUtils.buildMediaARL");if(!d.mType||d.mType==""){d.mType="w";}var e,b,a=(d[d.mType])?d[d.mType]:d.url;if(typeof a!="undefined"&&a!=""&&a.indexOf("://")<0){if(a.charAt(0)=="/"){a=a.substring(1);}if(a.indexOf("reflector:")>-1){var c=a.match(/reflector\:(\d{5})/);b=this.arlPrependLiveWMP.replace(/\[PORT\]/g,c[1]);e=this.arlPrependLiveReal.replace(/\[PORT\]/g,c[1]);a=(d.mType=="w")?b:e;}else{a=(d.mType=="w")?this.arlPrependWMP+a:this.arlPrependReal+a;}}else{if(a==null){a="NULL";}}return a;},buildWorkFlowUrl:function(c){console.log("/*********** mlbMediaUtils.buildWorkFlowUrl");var a=(this.workFlowUrl.indexOf("?")>-1)?"&":"?";var d=(c.w_id)?unescape(c.w_id):(c.r_id)?unescape(c.r_id):(c.id)?unescape(c.id):"NO_ID",h=(c.cat_code)?"&catCode="+c.cat_code:(c.catCode)?"&catCode="+c.catCode:"",j=(c.affiliateId)?"&affiliateId="+c.affiliateId:"",e=(c.nsId)?"&namespaceId="+c.nsId:"",f=(c.start)?"&startOffsetSeconds="+c.start:"",g=(c.end)?"&endTimeSeconds="+c.end:"",b="&av="+c.isAudOrVid;return this.workFlowUrl+a+"mediaId="+d+f+g+e+h+j+b;},runRules:function(d){console.log("/*********** runRules");if(typeof d.mid!="undefined"&&d.mid.length>9){console.log("----> runRules: mid="+d.mid);var a=d.mid.substring(0,4)+"/"+d.mid.substring(4,6)+"/"+d.mid.substring(6,8),e=d.mid.substring(8),b=(d.id)?d.id:d.w_id;var c=this.mediaMetaFilePath+"/"+a+"/"+e+".xml";console.log("----> runRules: meta file="+c);jQuery.get(c,function(g){var f=g.getElementsByTagName("url");jQuery.each(f,function(j,h){console.log("----> runRules: get meta file");var k=h.getAttribute("playback_scenario");var l=h.getAttribute("id");console.log("----> runRules: playback_scenario="+k);console.log("----> runRules: id="+l);if(l==b&&k.indexOf("MLB_FLASH")>-1){document.location=mlbMediaUtils.videoLandingPageUrl+"?mid="+d.mid;return false;}});});}console.log("----> runRules: Rules done... nothing to enforce. Return to regular flow");return true;},getUrlDataFromMeta:function(c){console.log("/*********** getUrlDataFromMeta");if(typeof c.mid!="undefined"&&c.mid.length>9){console.log("----> getUrlDataFromMeta: mid="+c.mid);var a=c.mid.substring(0,4)+"/"+c.mid.substring(4,6)+"/"+c.mid.substring(6,8),d=c.mid.substring(8);var b=this.mediaMetaFilePath+"/"+a+"/"+d+".xml";console.log("----> getUrlDataFromMeta: meta file="+b);jQuery.get(b,function(f){var e=f.getElementsByTagName("url");jQuery.each(e,function(h,g){console.log("----> getUrlDataFromMeta: get meta file");var j=g.getAttribute("playback_scenario");var k=g.getAttribute("id");var g=g.firstChild.nodeValue;console.log("----> getUrlDataFromMeta: playback_scenario="+j);console.log("----> getUrlDataFromMeta: id="+k);console.log("----> getUrlDataFromMeta: url="+g);if(j.indexOf("MLB_WM_400K_STREAM")>-1){return{id:k,url:g};}});});}console.log("----> getUrlDataFromMeta: Can't find media meta data");return null;},autobahnError:function(){console.log("/*********** mlbMediaUtils.autobahnError");AutobahnDetectionHandle.stop();},autobahnNotFound:function(){console.log("/*********** mlbMediaUtils.autobahnNotFound");if(mlbMediaUtils.runInstallCookieRules()==true){jQuery("#MLBPlayer_NexDefInstall").fadeIn("normal");jQuery("#nexdef_plugin .install_msgs").hide();jQuery("#nexdef_plugin .install_x").show();jQuery("#nexdef_install").show();mlbMediaUtils.isAutoBahnInstalled=false;}else{AutobahnDetectionHandle.stop();mlbMediaUtils.giveMeSomeOldSkool=true;mlbMediaUtils.isPostLogin=false;mlbMediaUtils.isPostInstall=true;console.log("--------------------> call mlbMediaUtils.flshObj.playFromScenario("+mlbMediaUtils.scenarios.wmpOptOut+")");mlbMediaUtils.flshObj.playFromScenario(mlbMediaUtils.scenarios.wmpOptOut);}},autobahnNeedsUpgrade:function(){console.log("/*********** mlbMediaUtils.autobahnNeedsUpgrade");if(mlbMediaUtils.runInstallCookieRules()==true){jQuery("#MLBPlayer_NexDefInstall").fadeIn("normal");jQuery("#nexdef_plugin .install_msgs").hide();jQuery("#nexdef_plugin .install_x").show();jQuery("#nexdef_install").show();mlbMediaUtils.isAutoBahnInstalled=false;}else{AutobahnDetectionHandle.stop();mlbMediaUtils.giveMeSomeOldSkool=true;mlbMediaUtils.isPostLogin=false;mlbMediaUtils.isPostInstall=true;console.log("--------------------> call mlbMediaUtils.flshObj.playFromScenario("+mlbMediaUtils.scenarios.wmpOptOut+")");mlbMediaUtils.flshObj.playFromScenario(mlbMediaUtils.scenarios.wmpOptOut);}},autobahnPassed:function(){console.log("/*********** mlbMediaUtils.autobahnPassed");AutobahnDetectionHandle.stop();jQuery("#nexdef_plugin .install_x").hide();jQuery("#nexdef_plugin .install_msgs").hide();jQuery("#nexdef_plugin .install_check").show();if(bam.media.isSilverLightInstalled()=="notInstalled"){console.log("----> autobahnPassed: Silverlight Not Installed");if(mlbMediaUtils.runInstallCookieRules()==true){jQuery("#MLBPlayer_NexDefInstall").fadeIn("normal");jQuery("#slp_plugin .install_msgs").hide();jQuery("#slp_plugin .install_x").show();jQuery("#slp_install").show();}else{AutobahnDetectionHandle.stop();mlbMediaUtils.giveMeSomeOldSkool=true;mlbMediaUtils.isPostLogin=false;mlbMediaUtils.isPostInstall=true;console.log("--------------------> call mlbMediaUtils.flshObj.playFromScenario("+mlbMediaUtils.scenarios.wmpOptOut+")");mlbMediaUtils.flshObj.playFromScenario(mlbMediaUtils.scenarios.wmpOptOut);}}else{if(bam.media.isSilverLightInstalled()=="installed"){console.log("----> autobahnPassed: Silverlight Installed");mlbMediaUtils.isPostLogin=false;mlbMediaUtils.isPostInstall=true;mediaPlayer.play(mlbMediaUtils.currentMediaMeta);}}},runInstallCookieRules:function(){console.log("----> prePlayerLoad: Silverlight Not Installed (cookie logic)");mlbMediaUtils.installCookieVal=GetCookie("SLInstall");var a=new Date();var b=86400000*2;var d=86400000*30;if(mlbMediaUtils.installCookieVal===null){console.log("----> prePlayerLoad: (SET 2Day) mlbMediaUtils.installCookieVal == null");mlbMediaUtils.installCookie=false;mlbMediaUtils.giveMeSomeOldSkool=true;SetDateCookie("SLInstall",a.getTime(),bam.datetime.DateTime(a).incrementYear(1),"/");}else{console.log("----> prePlayerLoad: mlbMediaUtils.installCookieVal != null");if(mlbMediaUtils.installCookieVal.indexOf("2W_")>-1){console.log("----> prePlayerLoad: (2W Logic) mlbMediaUtils.installCookieVal");mlbMediaUtils.installDisplay.post2DayCookie=true;var c=a.getTime()-parseInt(mlbMediaUtils.installCookieVal.substring(3));console.log("#####@@@@@@@@@@###### 1Month Date Diff - "+c+">="+d);if(c>=d){console.log("----> prePlayerLoad: mlbMediaUtils.installCookieVal > 1Month");mlbMediaUtils.installDisplay.post1MonthCookie=true;mlbMediaUtils.installCookie=true;mlbMediaUtils.giveMeSomeOldSkool=false;}else{console.log("----> prePlayerLoad: mlbMediaUtils.installCookieVal < 1Month");mlbMediaUtils.installCookie=false;mlbMediaUtils.giveMeSomeOldSkool=true;}}else{console.log("----> prePlayerLoad: (2D Logic) mlbMediaUtils.installCookieVal");var c=a.getTime()-parseInt(mlbMediaUtils.installCookieVal);console.log("#####@@@@@@@@@@###### 2Day Date Diff - "+c+">="+b);if(c<b){console.log("----> prePlayerLoad: (2D Logic) mlbMediaUtils.installCookieVal < 2Days");mlbMediaUtils.installCookie=false;mlbMediaUtils.giveMeSomeOldSkool=true;}else{if(c>b){console.log("----> prePlayerLoad: (2D Logic) mlbMediaUtils.installCookieVal > 2Days");mlbMediaUtils.installDisplay.post2DayCookie=true;mlbMediaUtils.installCookie=true;mlbMediaUtils.giveMeSomeOldSkool=false;}}}}return mlbMediaUtils.installCookie;}};var mlbPlayer=new bam.media.MPlayer({name:"MLBPlayer",template:"/media/player/mp_tpl_3_1.jsp",width:1012,height:600,inPlayer:(window.location.href.indexOf("mp_tpl_3_1.jsp")>-1)?true:false,preLaunch:function(e){console.log("/*********** mlbPlayer.preLaunch");if(typeof bam.media.dispatch!="undefined"){var d=bam.media.dispatch(e);console.log("----> preLaunch: dispatchObj="+d);if(typeof d=="object"){e=d;}else{return false;}}if(e.inning){window.open("/components/video/coming_soon.jsp","coming_soon","width=500,height=470,location=no,menubar=no,scrollbars=yes,status=yes,toolbar=no,resizable=yes");return false;}var a=(typeof e.v!="undefined"&&e.v!="")?((e.v.length==1)?e.v:e.v.substr(1)):"1";e.v=a;switch(a){case"1":var b=mlbMediaUtils.buildMediaARL(e);if(!mlbMediaUtils.isFreeProduct(e.pid)){var c=mlbMediaUtils.workFlowUrlV1+"?pid="+e.pid+((b)?"&url="+escape(b):"")+((e.cid)?"&cid="+e.cid:"")+((e.gid)?"&gid="+e.gid:"")+((e.inning)?"&inning="+e.inning:"")+((e.top)?"&top="+e.top:"")+((e.fid)?"&fid="+e.fid:"");void (window.open(c));}else{document.location.href=b;}return false;break;case"2":return true;break;case"3":return true;break;default:break;}},prePlayerLoad:function(d){console.log("/*********** mediaPlayer.prePlayerLoad");jQuery(".install_screens").hide();var c;if(mlbMediaUtils.flshObj==null){console.log("----> prePlayerLoad: Get Flash Object Reference");mlbMediaUtils.flshObj=document.getElementById("controls");}console.log("----> prePlayerLoad: Disable Flash Tabs - default");mlbMediaUtils.flshObj.controlVideo({type:"disableTabs"});if(!mlbMediaUtils.isPostLogin){console.log("----> prePlayerLoad: Process Media data");d=g(d);d.mUrl=mlbMediaUtils.buildMediaARL(d);d.playOptions={};if(d.startTime&&d.startTime!=""){d.playOptions.startTime=d.startTime;}if(d.endTime&&d.endTime!=""){d.playOptions.endTime=d.endTime;}console.log("----> prePlayerLoad: o.v="+d.v);if(d.v=="2"){console.log("----> prePlayerLoad: Process Media data VER 2");c=(typeof d.type!="undefined")?d.type.split("_"):["v","free"];d.isLoginRequired=(c[1]!="free");d.isAudOrVid=c[0];}else{if(d.v=="3"){console.log("----> prePlayerLoad: Process Media data VER 3");c=(typeof d.type!="undefined")?d.type.split("_"):["v","free"];d.isLoginRequired=(c[1]!="free");d.isAudOrVid=c[0];}}mlbMediaUtils.currentMediaMeta=d;}if(!AutobahnUtils.isMac()){DeleteCookie("SLInstall");if(bam.media.isSilverLightInstalled()=="installed"){mlbMediaUtils.isPostInstall=true;}else{mlbMediaUtils.giveMeSomeOldSkool=true;}}f();console.log("#####@@@@@@@@@@###### mlbMediaUtils.installCookie="+mlbMediaUtils.installCookie);console.log("#####@@@@@@@@@@###### mlbMediaUtils.installCookieVal="+mlbMediaUtils.installCookieVal);console.log("----> prePlayerLoad: Output MPlayer Settings Object Values");var a=[];for(var j in d){a[a.length]=j+":"+d[j];}console.log("{"+a.join("\n")+"}");if(typeof d.test_wmp!="undefined"&&d.test_wmp=="1"){console.log("----> prePlayerLoad: Force WMP playback using test_wmp parameter");mlbMediaUtils.giveMeSomeOldSkool=true;}if(d.isLoginRequired&&!mlbMediaUtils.isPostLogin){console.log("----> prePlayerLoad: Login Required!!");if(mlbMediaUtils.workFlowFrame==null){mlbMediaUtils.workFlowFrame=bam.media.getMediaIframe("MLBPlayer_LoginAuth");mlbMediaUtils.workFlowFrame.resizeTo({w:mlbMediaUtils.workFlowFrameSize.width,h:mlbMediaUtils.workFlowFrameSize.height});jQuery(document.body).append(mlbMediaUtils.workFlowFrame);mlbMediaUtils.workFlowFrame.moveTo({x:0,y:53});mlbMediaUtils.workFlowFrame.style.zIndex="999";mlbMediaUtils.workFlowFrame.hide();console.log("Workflow screen created!!!");}var h=mlbMediaUtils.buildWorkFlowUrl(d);mlbMediaUtils.workFlowFrame.show();mlbMediaUtils.workFlowFrame.src=h;return false;}else{if(!mlbMediaUtils.giveMeSomeOldSkool&&typeof d.mUrl!="undefined"&&d.mUrl.indexOf(".flv")<0&&!mlbMediaUtils.isPostInstall){var b={DirectDownload:Silverlight.fwlinkRoot+"92822",EULA:Silverlight.fwlinkRoot+"93481",Privacy:Silverlight.fwlinkRoot+"93483"};if(d.fid&&d.fid=="mlb_lg1200"){console.log("----> prePlayerLoad: ---------INSTALL FLOW---------");jQuery(".slp_legacy_plyr").click(function(){console.log("---->  ---------OPT-OUT TO OLD WMP (NexDef Install Flow)---------");SetDateCookie("SLInstall","2W_"+(new Date()).getTime(),bam.datetime.DateTime(new Date()).incrementYear(1),"/");AutobahnDetectionHandle.stop();mlbMediaUtils.giveMeSomeOldSkool=true;bam.tracking.track({wmpOptOut:{}});console.log("--------------------> call mlbMediaUtils.flshObj.playFromScenario("+mlbMediaUtils.scenarios.wmpOptOut+")");mlbMediaUtils.flshObj.playFromScenario(mlbMediaUtils.scenarios.wmpOptOut);jQuery("#MLBPlayer_NexDefInstall").fadeOut("normal");});jQuery("#MLBPlayer_NexDefInstall .slp_plugin_download").click(function(){bam.tracking.track({nexDefDownload:{}});document.location=b.DirectDownload;return false;});jQuery("#MLBPlayer_NexDefInstall .slp_eula").attr("href",b.EULA);jQuery("#MLBPlayer_NexDefInstall .slp_privacy").attr("href",b.Privacy);switch(bam.media.isSilverLightInstalled()){case"notSupported":if(mlbMediaUtils.runInstallCookieRules()==true){jQuery("#slp_plugin .install_msgs").hide();jQuery("#slp_plugin .install_x").show();jQuery("#slp_notsupported").show();bam.tracking.trackDownload({pageName:"Major League Baseball: Media: Media Player: Non-Supported Browser",channel:"Media",install:"Non-Supported Browser"});}break;case"installed":jQuery("#slp_plugin .install_msgs").hide();jQuery("#slp_plugin .install_x").hide();jQuery("#slp_plugin .install_check").show();break;default:if(mlbMediaUtils.runInstallCookieRules()==true){bam.tracking.trackDownload({pageName:"Major League Baseball: Media: Media Player: Silverlight Install",channel:"Media",install:"Silverlight Install"});jQuery("#slp_plugin .install_msgs").hide();jQuery("#slp_plugin .install_x").show();jQuery("#slp_plugin .install_check").hide();jQuery("#nexdef_first").show();}break;}if(AutobahnUtils.isMac()){jQuery("#nexdef_plugin .nexdef_download").attr("href",mlbMediaUtils.nexDefMacInstaller);}else{jQuery("#nexdef_plugin .nexdef_download").attr("href",mlbMediaUtils.nexDefWinInstaller);}new AutobahnDetection({showDownload:false,onError:mlbMediaUtils.autobahnError,onNotFound:mlbMediaUtils.autobahnNotFound,onNeedsUpgrade:mlbMediaUtils.autobahnNeedsUpgrade,onPassed:mlbMediaUtils.autobahnPassed}).start();mlbMediaUtils.isPostLogin=false;mlbMediaUtils.isPostInstall=true;return false;}else{if(bam.media.isSilverLightInstalled()=="notSupported"||bam.media.isSilverLightInstalled()=="notInstalled"){if(mlbMediaUtils.runInstallCookieRules()==true){switch(bam.media.isSilverLightInstalled()){case"notSupported":jQuery("#MLBPlayer_SLPNotSupported").fadeIn("normal");bam.tracking.trackDownload({pageName:"Major League Baseball: Media: Media Player: Non-Supported Browser",channel:"Media",install:"Non-Supported Browser"});jQuery("#MLBPlayer_SLPNotSupported .slp_legacy_plyr").click(function(){console.log("---->  ---------OPT-OUT TO OLD WMP (Silverlight Install Flow)---------");jQuery("#MLBPlayer_SLPNotSupported").fadeOut("fast");mlbMediaUtils.giveMeSomeOldSkool=true;bam.tracking.track({wmpOptOut:{}});SetDateCookie("SLInstall","2W_"+(new Date()).getTime(),bam.datetime.DateTime(new Date()).incrementYear(1),"/");console.log("--------------------> call mlbMediaUtils.flshObj.playFromScenario("+mlbMediaUtils.scenarios.wmpOptOut+")");mlbMediaUtils.flshObj.playFromScenario(mlbMediaUtils.scenarios.wmpOptOut);});return false;break;case"notInstalled":jQuery("#MLBPlayer_SLPInstall").fadeIn("normal");jQuery("#MLBPlayer_SLPInstall .slp_eula").attr("href",b.EULA);jQuery("#MLBPlayer_SLPInstall .slp_privacy").attr("href",b.Privacy);jQuery("#MLBPlayer_SLPInstall .slp_download").click(function(){bam.tracking.track({slDownload:{},callback:function(){document.location=b.DirectDownload;}});setTimeout(function(){jQuery("#MLBPlayer_SLPInstall").fadeOut("fast",function(){jQuery("#MLBPlayer_SLPRestart").fadeIn("fast");});},1000);return false;});jQuery("#MLBPlayer_SLPInstall .slp_legacy_plyr").click(function(){console.log("---->  ---------OPT-OUT TO OLD WMP (Silverlight Install Flow)---------");jQuery("#MLBPlayer_SLPInstall").fadeOut("fast");mlbMediaUtils.giveMeSomeOldSkool=true;bam.tracking.track({wmpOptOut:{}});SetDateCookie("SLInstall","2W_"+(new Date()).getTime(),bam.datetime.DateTime(new Date()).incrementYear(1),"/");console.log("--------------------> call mlbMediaUtils.flshObj.playFromScenario("+mlbMediaUtils.scenarios.wmpOptOut+")");mlbMediaUtils.flshObj.playFromScenario(mlbMediaUtils.scenarios.wmpOptOut);});bam.tracking.trackDownload({pageName:"Major League Baseball: Media: Media Player: Silverlight Install",channel:"Media",install:"Silverlight Install"});return false;break;default:break;}mlbMediaUtils.isPostLogin=false;mlbMediaUtils.isPostInstall=true;}}}}else{if(mlbMediaUtils.giveMeSomeOldSkool&&d.fid&&d.fid=="mlb_lg1200"){console.log("--------------------> call mlbMediaUtils.flshObj.playFromScenario("+mlbMediaUtils.scenarios.wmpOptOut+")");mlbMediaUtils.flshObj.playFromScenario(mlbMediaUtils.scenarios.wmpOptOut);}}}if(typeof d.adUrl!="undefined"&&d.adUrl.indexOf(".flv")>-1){console.log("prePlayerLoad: ### Play Flash Ad ###");mlbMediaUtils.inAdMode=true;console.log("Flash Ad: ### Enable Flash Tabs ###");mlbMediaUtils.flshObj.controlVideo({type:"enableTabs"});mlbMediaUtils.flshObj.controlVideo([{type:"show"}]);mlbMediaUtils.flshObj.startPlaylist([{type:"dartPreroll",prerollPath:d.adUrl}]);return true;}else{if(d.mUrl.indexOf(".flv")>-1){console.log("prePlayerLoad: ### Play Flash Video ###");console.log("Flash Player: ### Enable Flash Tabs ###");mlbMediaUtils.flshObj.controlVideo({type:"enableTabs"});mlbMediaUtils.flshObj.controlVideo([{type:"show"}]);console.log("Flash Player: ### After Show Flash ###");mlbMediaUtils.flshObj.startPlaylist([{type:"video",videoPath:d.mUrl}]);console.log("Flash Player: ### After Flash startPlayList ### URL:\n"+d.mUrl);mlbMediaUtils.isPostLogin=false;bam.tracking.track({async_media:{mediaID:(d.id)?d.id:(d.w_id)?d.w_id:"Not Available",playerType:"Flash",playerContext:"Media Player",contextVersion:"3.1",streamType:"Progressive Download",bitRate:"Not Available"}});return true;}else{if(mlbMediaUtils.giveMeSomeOldSkool){console.log("prePlayerLoad: ### Play WMP Video ###");e(d.mUrl);mlbMediaUtils.isPostLogin=false;bam.tracking.track({async_media:{mediaID:(d.id)?d.id:(d.w_id)?d.w_id:"Not Available",playerType:"Windows Media Player",playerContext:"Media Player",contextVersion:"3.1",streamType:"Stream",bitRate:"Not Available"}});return true;}else{console.log("prePlayerLoad: ### Play Silverlight Video ###");k(d.mUrl);mlbMediaUtils.isPostLogin=false;bam.tracking.track({async_media:{mediaID:(d.id)?d.id:(d.w_id)?d.w_id:"Not Available",playerType:(d.fid&&d.fid=="")?"Silverlight High Quality":"Silverlight",playerContext:"Media Player",contextVersion:"3.1",streamType:"Stream",bitRate:"Not Available"}});return true;}}}return false;function f(){console.log("In hideAllPlayers()");if(mlbMediaUtils.wmpObj!=null){console.log("Hide WMP Player (move offscreen first)\n#MLBPlayer_WMP"+mlbMediaUtils.wmpInstanceCount);try{mlbMediaUtils.wmpObj.moveTo({x:-2000,y:-2000});jQuery("#MLBPlayer_WMP"+mlbMediaUtils.wmpInstanceCount).remove();mlbMediaUtils.wmpObj=null;}catch(l){}}if(mlbMediaUtils.slpObj!=null){console.log("Hide Silverlight Player");jQuery("#MLBPlayer_SLPWrapper").css({visibility:"hidden"});jQuery("#MLBPlayer_SLP").css({visibility:"hidden"});mlbMediaUtils.slpObj.stop();}if(mlbMediaUtils.flshObj!=null){console.log("Hide Flash Player");try{mlbMediaUtils.flshObj.controlVideo([{type:"stop"}]);mlbMediaUtils.flshObj.controlVideo([{type:"hide"}]);}catch(l){}}}function e(l){mlbMediaUtils.wmpInstanceCount++;console.log("/*********** mediaPlayer.prePlayerLoad::kickItOldSkool");console.log("---->  mediaPlayer.prePlayerLoad: Launch WMP: ###FFFF#### Enable Flash Tabs ###FFFF####");mlbMediaUtils.flshObj.controlVideo({type:"enableTabs"});console.log("---->  mediaPlayer.prePlayerLoad: Launch WMP: Create WMP Object!!!!\nMLBPlayer_WMP"+mlbMediaUtils.wmpInstanceCount);mlbMediaUtils.wmpObj=bam.media.createPlayer({id:"MLBPlayer_WMP"+mlbMediaUtils.wmpInstanceCount,type:"wmp",width:630,height:360,mediaUrl:l});mlbMediaUtils.wmpObj.moveTo({x:2,y:100});jQuery("#MLBPlayer_WMP"+mlbMediaUtils.wmpInstanceCount).css({"z-index":"9999"});}function k(l){console.log("/*********** mediaPlayer.prePlayerLoad::dropItLikeItsHot");console.log("----> Create Silverlight: enable flash tabs");mlbMediaUtils.flshObj.controlVideo({type:"enableTabs"});if(mlbMediaUtils.slpObj==null){console.log("----> Create Silverlight: mlbMediaUtils.slpObj == null");var m=jQuery("#MLBPlayer_SLPWrapper").get(0);console.log("----> Create Silverlight: Set MLBPlayer_SLPWrapper to Visible");m.style.visibility="visible";console.log("----> Create Silverlight: before createPlayer");mlbMediaUtils.slpObj=bam.media.createPlayer({id:"MLBPlayer_SLP",container:m,type:"silverlight",width:"100%",height:"100%"});jQuery("#flashWrapper").css({visibility:"visible",position:"absolute",display:"block","z-index":"0"});jQuery("#MLBPlayer_SLP").css({visibility:"visible",display:"block","z-index":"2"});jQuery("#MLBPlayer_SLPWrapper").css({"background-color":"transparent",visibility:"visible",display:"block",position:"absolute","z-index":"1"});console.log("----> Create Silverlight: Done creating silverlight obj");}else{console.log("----> Create Silverlight: mlbMediaUtils.slpObj != null");jQuery("#flashWrapper").css({visibility:"visible",position:"absolute",display:"block","z-index":"0"});jQuery("#MLBPlayer_SLP").css({visibility:"visible",display:"block","z-index":"2"});jQuery("#MLBPlayer_SLPWrapper").css({"background-color":"transparent",visibility:"visible",display:"block",position:"absolute","z-index":"1"});console.log("----> Create Silverlight: Done creating silverlight obj");console.log("Media URL: \n"+mlbMediaUtils.currentMediaMeta.mUrl);mlbMediaUtils.slpObj.set_media_src(l,mlbMediaUtils.currentMediaMeta.playOptions);}}function g(l){if(!l.pid||l.pid!=""){switch(l.pid){case"fps_lg":l.type="v_sub";break;case"mlb_lg":l.type="v_sub";break;case"mlb_lg_pr":l.type="v_sub";break;case"mlb_tv_linescore":l.type="v_sub";break;case"mlb_pghs":l.type="v_sub";break;case"mlb_bb":l.type="v_sub";break;case"mlb_cg":l.type="v_sub";break;case"mlb_ga":l.type="a_sub";break;case"bb_audio":l.type="a_sub";break;case"bb_video":l.type="v_sub";break;case"mlb_cchd":l.type="v_free";break;case"gen_video":l.type="v_free";break;case"gen_audio":l.type="a_free";break;case"mlb_tp":l.type="v_free";break;case"mlb_potg":l.type="v_free";break;case"mlb_dv":l.type="v_free";break;case"CWSVID2007":l.type="v_sub";break;case"CWSVID2006":l.type="v_sub";break;case"wbc_media_2009":l.type="v_sub";break;case"mlb_media_mlb_wbc":l.type="v_sub";break;case"false":l.type="v_free";break;default:l.type="v_free";break;}document.cookie="media_pid="+l.pid+"; path=/; domain=mlb.com";}else{l.pid="v_free";}return l;}}});bam.media.silverLightOnLoad=function(a){console.log("mediaPlayer.silverLightOnLoad called!!");mlbMediaUtils.slpObj=a;console.log("Media URL: \n"+mlbMediaUtils.currentMediaMeta.mUrl);mlbMediaUtils.slpObj.set_media_src(mlbMediaUtils.currentMediaMeta.mUrl,mlbMediaUtils.currentMediaMeta.playOptions);delete bam.media.silverLightOnLoad;};var playMedia2Backup=playMedia2;var mediaPlayer={play:function(a){mlbPlayer.play(a);},setScenarioArray:function(a,b){mlbPlayer.setScenarioArray(a,b);}};var playMedia2=function(a){mlbPlayer.play(a);};var mp=new MPlayer({name:"milb",template:"http://www.milb.com/media/player/mp_tpl.jsp",width:800,height:600});var yesMediaPlayer=new MPlayer({name:"yesnetwork",template:"http://web.yesnetwork.com/media/player/mp_tpl.jsp",width:910,height:640});yesMediaPlayer.preLaunch=function(a){var c="mms://a1503.v247152.c24715.g.vm.akamaistream.net/7/1503/24715/v0001/mlb.download.akamai.com/24715/";if(a.w){switch(a.w.indexOf("http://mfile")){case 0:var b=a.w.split("24715/");a.w=c+b[b.length-1];break;case -1:a.w=c+a.w;break;default:break;}}return true;};var snyMediaPlayer=new MPlayer({name:"sny",template:"http://web.sny.tv/media/player/mp_tpl.jsp",width:800,height:600});yesMediaPlayer.preLaunch=function(a){var c="mms://a1503.v222062.c22206.g.vm.akamaistream.net/7/1503/22206/v0001/mlb.download.akamai.com/22206/";if(a.w){switch(a.w.indexOf("http://mfile")){case 0:var b=a.w.split("22206/");a.w=c+b[b.length-1];break;case -1:if(a.w.indexOf("mms://")<0){a.w=c+a.w;}break;default:break;}}return true;};var dc_tiles={},dc_numads=0,c_domain={mlb:"mlb",ana:"angels",ari:"diamondbacks",atl:"braves",bal:"orioles",bos:"redsox",chc:"cubs",cin:"reds",cle:"indians",col:"rockies",cws:"whitesox",det:"tigers",fla:"marlins",hou:"astros",kc:"royals",la:"dodgers",mia:"marlins",mil:"brewers",min:"twins",mon:"expos",nym:"mets",nyy:"yankees",oak:"athletics",phi:"phillies",pit:"pirates",sd:"padres",sea:"mariners",sf:"giants",stl:"cardinals",tb:"rays",tex:"rangers",tor:"bluejays",was:"nationals"};if(!window.page_id){var page_id="";}if(!window.ran_number){var ran_number=Math.round(Math.random()*1000000000);}if(!window.dc_lang){var dc_lang="en";}function writeAd(o,l,e){var g=o+"x"+l,m=window.section||"empty",c=window.page_id||window.pageid||"empty",d=bam&&bam.vkey||"",f=window.dc_keyVal||"",k=(dc_lang!=="en")?dc_lang+"."+c_domain[club]+".mlb":c_domain[club]+".mlb",q=(window.content_id)?window.content_id:"",s=top.location.protocol||"http:",r=false,j,b;dc_numads++;dc_tiles[g]=(dc_tiles[g])?dc_tiles[g]+1:1;b="pageid="+c+";"+(d?"vkey="+d+";":"")+(q?"contentid="+q+";":"")+(f?f+";":"")+"pos="+dc_tiles[g]+";sz="+g+";tile="+dc_numads+";ord="+ran_number+"?";if(s!=="https:"){if(r){j=s+"//ad.doubleclick.net/adi/"+k+"/"+m+";"+b;document.write("<iframe src='"+j+"' width='"+o+"' height='"+l+"' frameborder='no' border='0' marginwidth='0' marginheight='0' scrolling='no'></iframe>");}else{j=s+"//ad.doubleclick.net/adj/"+k+"/"+m+";"+b;var a={"some/url":"<a href=''><img src=''/></a>","asdfasdf/asdfasdf":"<a href=''><img src=''/></a>"};if(a[j]){document.write(a[j]);}else{document.write("<script src='"+j+"' type='text/javascript'><\/script>");}}if(window.$&&($.browser.mozilla)){document.write('<iframe src="#" style="display:none;"></iframe>');}}else{document.write("<img src='/images/trans.gif' width='"+o+"' height='"+l+"' border='0'/>");}}function writeAds(d){var g="",c=d.sizes,p=window.section||"empty",q=window.page_id||window.pageid||"empty",a=bam&&bam.vkey||"",r=window.dc_keyVal||"",j=d.customparams,f=(dc_lang!=="en")?dc_lang+"."+c_domain[club]+".mlb":c_domain[club]+".mlb",h=(window.content_id)?window.content_id:"",k=top.location.protocol||"http:",l=false,t,s,m=c[0].split("x")[0],e=c[0].split("x")[1],o=0;dc_numads++;for(;o<c.length;o++){g=c[o];dc_tiles[g]=(dc_tiles[g])?dc_tiles[g]+1:1;}if(j){for(key in j){r+=key+"="+j[key]+";";}}s="pageid="+q+";"+(a?"vkey="+a+";":"")+(h?"contentid="+h+";":"")+(r?r+";":"")+"pos="+dc_tiles[c[0]]+";sz="+c.join(",")+";tile="+dc_numads+";ord="+ran_number+"?";if(k!=="https:"){t=k+"//ad.doubleclick.net/adj/"+f+"/"+p+";"+s;if(l){document.write("<iframe src='"+t+"' width='"+m+"' height='"+e+"' frameborder='no' border='0' marginwidth='0' marginheight='0' scrolling='no'></iframe>");}else{var b={"some/url":"<a href=''><img src=''/></a>","asdfasdf/asdfasdf":"<a href=''><img src=''/></a>"};if(b[t]){document.write(b[t]);}else{document.write("<script src='"+t+"' type='text/javascript'><\/script>");}}if(window.$&&($.browser.mozilla)){document.write('<iframe src="#" style="display:none;"></iframe>');}}else{document.write("<img src='/images/trans.gif' width='"+m+"' height='"+e+"' border='0'/>");}}function writeIstAd(k,f,a){var e,j=window.section||"empty",b=window.dc_keyVal||"",c=k+"x"+f,g=!a,d;e=(dc_lang!=="en")?dc_lang+"."+c_domain[club]+".mlb":c_domain[club]+".mlb";dc_tiles[c]=(dc_tiles[c])?dc_tiles[c]+1:1;dc_numads++;d="http://ad.doubleclick.net/adj/"+e+"/"+j+";"+b;if(!!g){d+=";dcopt=ist;";}d+="page="+page_id+";";d+="pos="+dc_tiles[c]+";";d+="sz="+c+";";d+="tile="+dc_numads+";";d+="ord="+ran_number+"?";document.write("<script src='"+d+"' type='text/javascript'><\/script>");}(function(c,d){var f=/;ord=(\d+)/,b=0;function a(){return Math.round(Math.random()*10000000000000000);}function e(){var j=c.frames[this.attr("name")],g=this.attr("src"),h=g.replace(f,";ord="+a());j.location.replace(h);}d.fn.dcRefreshableIFrame=function(h){if(this.length===0||c.location.protocol==="https:"){return this;}h=d.extend({club:c.club,lang:c.dc_lang,section:c.section,keyVal:c.dc_keyVal,ord:a(),domains:c.c_domain},d.fn.dcRefreshableIFrame.defaults,h);var g=h.club||"mlb",o=h.lang||"en",l=h.width+"x"+h.height,k=(o!=="en"?o+".":"")+h.domains[g]+".mlb",j="http://ad.doubleclick.net/adi/"+k+"/"+[h.section||"empty",h.keyVal||"","sz="+l,"ord="+h.ord].join(";"),m=this.map(function(){var r=c.dc_tiles[l]=~~+c.dc_tiles[l]+1,q=++c.dc_numads,p="dcRefreshableIFrame-"+b++;return d(h.iframe).addClass(h.className).attr({src:[j,"pos="+r,"tile="+q].join(";"),width:h.width,height:h.height,name:p}).appendTo(this);});if(h.interval){setInterval(function(){m.each(e);},h.interval*1000);}return this;};d.fn.dcRefreshableIFrame.defaults={interval:30,width:728,height:90,className:"refreshable",iframe:'<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" scrolling="no"/>'};})(this,this.jQuery);(function(b,c){var a=function(e){var d=~document.location.search.indexOf("debug");if(d&&typeof console!=="undefined"&&!!console.log){if(typeof e==="string"){console.log("dcRefreshableAd: "+e);}else{if(typeof e==="object"&&!!console.dir){console.dir(e);}else{console.log(e);}}}};c.widget("bam.dcRefreshableAd",{options:{size:"",site:"",interval:0,max:Infinity,tile:"",pos:"",iframe:'<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" scrolling="no"/>',networkid:false,customparams:{}},_create:function(){if(b.location.protocol==="https:"){return;}var d=this,f=this.element,e=this.options,g=this.widgetBaseClass,h;if(c.browser.mozilla){e.iframe+='<iframe src="#" style="display:none;"></iframe>';}if(e.size){h=e.size.split("x");}else{h=[f.width(),f.height()];e.size=h.join("x");}if(h.length!==2){throw'$.fn.dcRefreshableAd: Invalid size option. Example: "728x90"';}f.addClass(g);this.refreshableElement=f.is("iframe")?f:c(e.iframe).appendTo(f);this.refreshableElement.addClass(g+"-refreshable").attr({width:h[0],height:h[1]}).bind("load",function(j){d._handleRefresh(j);});this.pos=e.pos||(b.dc_tiles[e.size]=~~+b.dc_tiles[e.size]+1);this.tile=e.tile||++b.dc_numads;this.impressions=0;this.refresh();if(e.interval){this.start();}},destroy:function(){this.stop();if(this.element!==this.refreshableElement){this.refreshableElement.remove();}this.element.removeClass(this.widgetBaseClass);c.Widget.prototype.destroy.apply(this,arguments);},_randomizeOrdValue:function(){return Math.round(Math.random()*10000000000000000);},_generateUrl:function(){var o=b.section||"empty",f=b.page_id||b.pageid||"empty",e=b.bam&&b.bam.vkey,q=b.content_id,l=b.dc_keyVal,m=b.club||"mlb",g=b.dc_lang||"en",s=b.c_domain||{},r=this.options.customparams,j=(b.dc_network)?"N2605/":"",d=this.options.site||b.dc_site||(g!=="en"?g+".":"")+s[m]+".mlb",k=[],p;k.push(o,"pageid="+f,"sz="+this.options.size,"pos="+this.pos);e&&k.push("vkey="+e);q&&k.push("contentid="+q);l&&k.push(l);k.push("tile="+this.tile,"ord="+((this.options.syncOrd)?b.ran_number:this._randomizeOrdValue()));for(p in r){k.push(p+"="+r[p]);}var h="http://ad.doubleclick.net/"+j+"adi/"+d+"/"+k.join(";");a("generated URL: "+h);return h;},refresh:function(){if(this.impressions>=this.options.max){this.stop();return;}var d=this._generateUrl();this._trigger("refresh",null,{url:d});this.refreshableElement[0].contentWindow.location.replace(d);},_handleRefresh:function(d){this._trigger("load",d,{impressions:++this.impressions});},start:function(){var e=this,d=this.options.interval;if(!this.timer&&d){this.timer=b.setInterval(function(){e.refresh();},d*1000);this._trigger("start");}},stop:function(){if(this.timer){b.clearInterval(this.timer);this.timer=null;this._trigger("stop");}}});})(window,jQuery);$(document).ready(function(){var a={autocomplete_json_response:[],merged_results:[],lookup_request:function(){var b=$.ajax({url:"/lookup/json/named.search_autocomp.bam",data:{active_sw:"'Y'",sport_code:"'mlb'",all_star_sw:"'N'","team_all.col_in":["name_display_full","file_code"]},dataType:"json"});return b;},resp:function(b){var g=new RegExp($.ui.autocomplete.escapeRegex(b),"i");var c=[];var f=[];var e=[];$.each(a.autocomplete_json_response,function(k,j){if(g.test(j.value)&&(j.player===true)){c.push(j);}else{if(j.alt&&g.test(j.alt)&&(j.player===true)){f.push(j);}else{if((j.player===false)&&g.test(j.value)){e.push(j);}}}});var h=$.merge(c,f);var d=$.merge(h,e);a.merged_results=d;},lookup:function(d){var b;var e=a.lookup_request();var f=[];var c=[];e.done(function(h){if(typeof(h.search_autocomp.search_autocomplete)!=="undefined"){if(h.search_autocomp.search_autocomplete.queryResults.totalSize>0){var g=$.ensureArray(h.search_autocomp.search_autocomplete.queryResults.row);f=$.map(g,function(q){var r,o,m,k,l;r=q.n;o=q.p;m=q.t;k="<img src='/images/players/assets/37_"+o+".png' />";l=(m==="")?"<br />Free Agent":"<br />"+m;return{label:"<div class='auto_result auto_player'>"+k+"<div class='auto_result_text'><span class='player_name'>"+r+"</span><span class='team_name'>"+l+"</span></div></div>",value:r,id:o,alt:m,player:true};});}}if(typeof(h.search_autocomp.team_all)!=="undefined"){if(h.search_autocomp.team_all.queryResults.totalSize>0){var j=$.ensureArray(h.search_autocomp.team_all.queryResults.row);c=$.map(j,function(l){n=l.name_display_full;var k=l.file_code;img="<img src='/mlb/images/team_logos/29x20/"+k+".png' />";return{label:"<div class='auto_result auto_team'>"+img+"<div class='auto_result_text'>"+n+"</div></div>",value:n,id:k,player:false};});}}});b=$.when(e).then(function(){a.autocomplete_json_response=$.merge(f,c);results=a.resp(d);});return b;}};if(!(/\/video\//.test(document.location.pathname))){$("#query_text1").one("focus",function(){$(this).val("");a.lookup();}).autocomplete({appendTo:"#hdr_search",html:true,source:function(e,d){var c=e.term;var b=a.lookup(c);b.done(function(){d(a.merged_results);$(".auto_result img").error(function(){$(this).unbind("error").attr("src","/images/players/silhouettes/37x37/anon.png");});});},minLength:3,select:function(b,c){bam.tracking.track({async:{isDynamic:false,compName:"Site Search",compActivity:"Site Search: Suggestion Click",actionGen:false,queryText:c.item.value}});if(c.item.label.indexOf("auto_player")!==-1){window.location="http://mlb.mlb.com/team/player.jsp?player_id="+c.item.id;}else{window.location="http://mlb.mlb.com/index.jsp?c_id="+c.item.id;}},open:function(){$(this).removeClass("ui-corner-all").addClass("ui-corner-top");},close:function(){$(this).removeClass("ui-corner-top").addClass("ui-corner-all");}});}else{$("#query_text1").one("focus",function(){$(this).val("");});}});bam.imports(bam.soap,bam.object,bam.validation);var RegServiceUtils={proxyURI:"/pubajaxws/services/",serviceURI:"http://dev-a.pubservices.bamnetworks.com:8888/pubajaxws/services/",createRequestBody:function(a){var b=new bam.soap.SOAPObject(a);b.ns="http://services.bamnetworks.com/registration/types/1.6";return b;},isErrorThrown:function(a){return a.status&&a.status[0].code[0].Text!=1;},getStatus:function(a){var c=new Object();c.code=a.status[0].code[0].Text;c.message=a.status[0].message[0].Text;if(a.status[0].detail){c.detailList=new Array();for(var d=0;d<a.status[0].detail.length;d++){var e=new Object();var b=a.status[0].detail[d];e.type=(b.type)?b.type:"";e.field=(b.field)?b.field:"";e.message=(b.message)?b.message:"";e.messageKey=(b.messageKey)?b.messageKey:"";e.rule=(b.rule)?b.rule:"";c.detailList.push(e);}}return c;},getServiceErrorMessage:function(b){var a="Unknonwn Service Error : Service may be down";if(b&&b.Body&&b.Body[0].Fault&&b.Body[0].Fault[0].faultstring){a=b.Body[0].Fault[0].faultstring[0].Text;}return a;}};var IdentityPointService=(function(){bam.imports(bam.soap,bam.cookies);var c=RegServiceUtils.proxyURI+"IdentityPointService",a=RegServiceUtils.serviceURI+"IdentityPointService";var b={create:function(l,d,m,g){var e=RegServiceUtils.createRequestBody("identityPoint_create_request"),h,k,j;if(l){e.appendChild(IdentityPointService.identityPointToSoap(l));}if(d){if(d.email){e.appendChild(EmailService.emailToSoap(d.email));}if(d.profile){for(h in d.profile){if(d.profile.hasOwnProperty(h)){k=d.profile[h];j=new bam.soap.SOAPObject("profileProperty");j.appendChild(new bam.soap.SOAPObject("name").val(h));j.appendChild(new bam.soap.SOAPObject("value").val(k));e.appendChild(j);}}}if(d.address){e.appendChild(AddressService.addressToSoap(d.address));}if(d.creditCard){e.appendChild(CreditCardService.creditCardToSoap(d.creditCard));}}bam.soap.SOAPClient.Proxy=c;bam.soap.SOAPClient.SOAPServer=a;var f=new bam.soap.SOAPRequest("http://services.bamnetworks.com/registration/identityPoint/create",e);bam.soap.SOAPClient.SendRequest(f,function(p){if(p&&p.Body&&p.Body[0].identityPoint_create_response){var o=p.Body[0].identityPoint_create_response[0];if(!RegServiceUtils.isErrorThrown(o)){m(o.identification[0].id[0].Text);}else{g("IdentityPoint.create",RegServiceUtils.getStatus(o));}}else{g("IdentityPoint.create",{code:-100000,message:RegServiceUtils.getServiceErrorMessage(p)});}});},identify:function(h){var j=(!!h.success&&typeof h.success==="function")?h.success:null,d=(!!h.error&&typeof h.error==="function")?h.error:null;var g=RegServiceUtils.createRequestBody("identityPoint_identify_request");if(!!h){var l=b.identityPointToSoap(h);if(!!l){g.appendChild(l);}}bam.soap.SOAPClient.Proxy=c;bam.soap.SOAPClient.SOAPServer=a;var f=new bam.soap.SOAPRequest("http://services.bamnetworks.com/registration/identityPoint/identify",g);if(!!h.application){var k=new bam.soap.SOAPObject("ns1:appCredentials"),e=(h.application.ns)?"ns1:":"";if(!h.application.ns){k.ns="http://services.bamnetworks.com/application/types/1.5";}else{k.attr("xmlns:ns1",h.application.ns);}if(!!h.application.name){k.attr(e+"name",h.application.name);}if(!!h.application.targetAccountName){k.attr(e+"targetAccountName",h.application.targetAccountName);}if(!!h.application.password){k.attr(e+"password",h.application.password);}f.addHeader(k);}bam.soap.SOAPClient.SendRequest(f,function(o){if(o&&o.Body&&o.Body[0].identityPoint_identify_response){var m=o.Body[0].identityPoint_identify_response[0];if(!RegServiceUtils.isErrorThrown(m)){if(!!j){j(m);}}else{if(!!d){var p=RegServiceUtils.getStatus(m);p.operation="IdentityPoint.identify";d(p);}}}else{if(!!d){d({operation:"IdentityPoint.identify",code:-100000,message:RegServiceUtils.getServiceErrorMessage(o)});}}});},findIdentityPointKeys:function(g){var h=(!!g.success&&typeof g.success==="function")?g.success:null,d=(!!g.error&&typeof g.error==="function")?g.error:null;var f=RegServiceUtils.createRequestBody("identityPoint_findIdentityPointKeys_request");if(!!g){var k=b.identityPointToSoap(g);if(!!k){f.appendChild(k);}}bam.soap.SOAPClient.Proxy=c;bam.soap.SOAPClient.SOAPServer=a;var e=new bam.soap.SOAPRequest("http://services.bamnetworks.com/registration/identityPoint/findIdentityPointKeys",f);if(!!g.application){var j=new bam.soap.SOAPObject("appCredentials");j.ns="http://services.bamnetworks.com/application/types/1.5";if(!!g.application.name){j.attr("name",g.application.name);}if(!!g.application.password){j.attr("password",g.application.password);}e.addHeader(j);}bam.soap.SOAPClient.SendRequest(e,function(m){if(m&&m.Body&&m.Body[0].identityPoint_findIdentityPointKeys_response){var l=m.Body[0].identityPoint_findIdentityPointKeys_response[0];if(!RegServiceUtils.isErrorThrown(l)){if(!!h){h(l);}}else{if(!!d){var o=RegServiceUtils.getStatus(l);o.operation="IdentityPoint.findModifiedIdentityPointKeys";d(o);}}}else{if(!!d){d({operation:"IdentityPoint.findModifiedIdentityPointKeys",code:-100000,message:RegServiceUtils.getServiceErrorMessage(m)});}}});},unlink:function(g){var h=(!!g.success&&typeof g.success==="function")?g.success:null,d=(!!g.error&&typeof g.error==="function")?g.error:null;var f=RegServiceUtils.createRequestBody("identityPoint_unlink_request");if(!!g){var j=b.identityPointToSoap(g);if(!!j){f.appendChild(j);}}bam.soap.SOAPClient.Proxy=c;bam.soap.SOAPClient.SOAPServer=a;var e=new bam.soap.SOAPRequest("http://services.bamnetworks.com/registration/identityPoint/unlink",f);bam.soap.SOAPClient.SendRequest(e,function(l){if(l&&l.Body&&l.Body[0].identityPoint_unlink_response){var k=l.Body[0].identityPoint_unlink_response[0];if(!RegServiceUtils.isErrorThrown(k)){if(!!h){h(k);}}else{if(!!d){var m=RegServiceUtils.getStatus(k);m.operation="IdentityPoint.unlink";d(m);}}}else{if(!!d){d({operation:"IdentityPoint.unlink",code:-100000,message:RegServiceUtils.getServiceErrorMessage(l)});}}});},identityPointToSoap:function(h){var e=null,g,f,d;if(!!h&&typeof h==="object"){e=new bam.soap.SOAPObject("identification");if(!!h.type){e.attr("type",h.type);}if(!!h.id){e.appendChild(new bam.soap.SOAPObject("id")).val(h.id);}if(!!h.fingerprint){g=new bam.soap.SOAPObject("fingerprint").val(h.fingerprint);if(!!h.maxAge){g.attr("maxAge",h.maxAge);}e.appendChild(g);}if(!!h.email){e.appendChild(EmailService.emailToSoap(h.email));}if(!!h.password){e.appendChild(new bam.soap.SOAPObject("password")).val(h.password);}if(h.profile){for(f in h.profile){if(h.profile.hasOwnProperty(f)){d=new bam.soap.SOAPObject("profileProperty");d.appendChild(new bam.soap.SOAPObject("name").val(f));d.appendChild(new bam.soap.SOAPObject("value").val(h.profile[f]));e.appendChild(d);}}}}return e.children.length>0?e:null;},soapToIdentityPoint:function(e){var d=null;if(!!e){d={};if(!!e.id[0].Text){d.id=e.id[0].Text;}if(!!e.type[0].Text){d.type=e.type[0].Text;}if(!!e.fingerprint[0].Text){d.fingerprint=e.fingerprint[0].Text;}if(!!e.email){d.email=EmailService.soapToEmail(e.email[0]);}if(!!e.address){d.address=AddressService.soapToAddress(e.address[0]);}}return d;}};return b;})();var UserAccountStatus=(function(e,c,g,b,h){var a,f;b.loadSync(b.homePath+"bam.cookies.js");function d(){var j=b.cookies.get("fprt");this.ipid=b.cookies.get("ipid");this.fprt=(!!j)?unescape(j):j;}a=function(j){if(!(this instanceof a)){return(new a(j));}if(!!j){this._TPL=g.template(j);}d.call(this);return this;};a.prototype={ipid:null,fprt:null,checkLoggedIn:function(l){var k={success:g.proxy(function(){this.trigger("isLoggedIn",[true]);},this),error:g.proxy(function(m){this.trigger("isLoggedIn",[false]);},this)},j;if(typeof l==="number"){j=l;l=true;}d.call(this);if(!!l&&!!this.ipid&&!!this.fprt){k.type="fingerprint";k.id=this.ipid;k.fingerprint=this.fprt;if(j){k.maxAge=j;}if(!e.IdentityPointService){g.sajax().js("/shared/scripts/serviceClients/registrationServiceUtils_client.js").js("/shared/scripts/serviceClients/identityPointService_client.js",function(){IdentityPointService.identify(k);});}else{IdentityPointService.identify(k);}return;}else{if(!!this.ipid&&!!this.fprt){this.trigger("isLoggedIn",[true]);return true;}else{this.trigger("isLoggedIn",[false]);return false;}}},setLoginTemplate:function(j){this._tplLoginFormPath=j;return this;},bindLoginView:function(j){this._LoginView=j;return this;},promptLogin:function(j){var l="l"+new Date().valueOf(),k,m;e[l]=g.proxy(function(){this.trigger("isLoggedIn",[true]);e[l]=h;try{delete e[l];}catch(o){}},this);k={callback:l};if(!!j&&typeof j==="function"){j(this._TPL(k));}if(!!this._LoginView){m=function(){this._LoginView.render(l);this.unbind("promptLogin",m);};this.bind("promptLogin",m);this.trigger("promptLogin");}}};g.bindable(a.prototype);return a;})(this,this.document,this.jQuery,this.bam);(function(j,g,l){l.loadSync(l.homePath+"bam.cookies.js");var q={},m=false,r=false,c=false,f="ipid",p="fprt",h="isLoggedIn",d={isLoggedIn:h};function a(t){var s="sh_"+new Date().valueOf();q[s]=t;}function e(u,x){var s,t,w;for(s in q){if(q.hasOwnProperty(s)){w=q[s];t=(x&&w===x);w.trigger(d.isLoggedIn,[u,t]);}}}function k(){var t,s;t=l.cookies.get(f);s=l.cookies.get(p);this.ipid=t;this.fprt=s;}function b(u,s){var t;if(!c){c=true;k.call(this);if(u&&(typeof u==="boolean"||g.isPlainObject(u))){s=u;}else{if(u&&typeof u==="function"){this.one(h,g.eventProxy(u));}}if(typeof s==="boolean"){identifyUse={identify:s};}t=(s&&s.identify)?s.identify:m;makeEmailVerificationCall=(s&&s.verifyEmail)?s.verifyEmail:r;if(!this.ipid||!this.fprt){c=false;e({isLoggedIn:false},this);return false;}else{if(makeEmailVerificationCall&&this.ipid&&this.fprt){EmailService.findPrimary(function(w){e({isLoggedIn:true,isEmailVerified:w.verified},this);},function(x,w){e({isLoggedIn:false},this);});}else{if(t&&this.ipid&&this.fprt){IdentityPointService.identify({success:g.proxy(function(){c=false;e({isLoggedIn:true},this);},this),error:g.proxy(function(w){c=false;e({isLoggedIn:false},this);},this)});return;}else{if(!!this.ipid&&!!this.fprt){c=false;e({isLoggedIn:true},this);return true;}}}}}}function o(){if(!(this instanceof o)){return new o();}this.ipid=null;this.fprt=null;a(this);}o.prototype={events:d,isLoggedIn:function(t,s){return b.call(this,t,s);}};g.bindable(o.prototype);l.session=o;}(this,this.jQuery,this.bam));(function(f,h,d,k){var c="xdp_baseurl",l="xdp_name",j="/shared/scripts/bam/",a="/shared/bam.xde.html";k.loadSync(k.homePath+"bam.url.js");function e(m){this.name="bam"+new Date().valueOf()*Math.floor(Math.random()*1000+1);this.frameSrc=m.src;this._data=m.data||{};f[this.name]=this;}e.prototype={create:function(o,p){var m=f.location.protocol+"//"+h.domain+((f.location.port!=="")?":"+f.location.port:""),q={};p=p||{};p[c]=m;p[l]=this.name;d.extend(q,this._data,p);this._iframeEl=d("<iframe />",{frameborder:0,marginheight:0,marginwidth:0,scrolling:"no",src:this.frameSrc+"#!/?"+d.param(q)}).appendTo(o)[0];},destroy:function(){try{delete f[this.name];}catch(m){}this.unbind();d(this._iframeEl).remove();this._iframeEl=null;}};d.bindable(e.prototype);function b(){var m=f.location.hash.split("#!/")[1];this.params=k.url.parseQueryParameters(m);}function g(){var m=f.location.hash.split("#!/")[1];if(m==="success"){f.location.hash="";return false;}return true;}b.prototype={triggerEvent:function(p,m){var o=h.createElement("iframe");o.src=this.params[c]+a+"#!/"+this.params[l]+"/"+p+(m?"/"+m.join("/"):"");o.style.display="none";h.body.appendChild(o);(function(){if(g()){setTimeout(arguments.callee,13);}else{h.body.removeChild(o);}})();}};k.xd={iframe:function(m){return new e(m);},publisher:function(){return new b();}};})(this,this.document,this.jQuery,this.bam);(function(m,t,h,z,k){var g="/pubajax/wf/flow/social.facebook.directLogin",e="/pubajax/wf/flow/social.facebook.link",w="/pubajax/wf/flow/social.facebook.oauthLogin",o="email,publish_stream,publish_actions,user_about_me, user_birthday, user_education_history, user_location, user_hometown, user_interests, user_relationships, user_work_history",c="isLoggedIn",y="linkSuccess",j="notLoggedIn",A="alreadyLinked",a="error";function b(D){var C="f"+new Date().valueOf();m[C]=function(){if(!!D&&typeof D==="function"){D.apply(m,arguments);}m[C]=k;try{delete m[C];}catch(E){}};return C;}function f(){var D=[m.location.protocol,"//",t.domain,(m.location.port!==""?":"+m.location.port:"")].join(""),C=b(h.proxy(function(H){this.trigger(H);},this)),F=[this.oauthLoginBaseURL,w,"?successUrl=",escape(D+"/"+this.oauthSuccessURL+"?handler="+C),"&scope=",o],E=665,G=505;m.open(F.join(""),"MLB_FB","width="+E+",height="+G);}function q(C){if(C.linkStatus==="linked"){this.trigger(y);}else{if(C.linkStatus==="loggedIn"){this.trigger(c);}else{this.trigger(a);}}}function r(E,C,D){if(D==="Unauthorized"){this.trigger(j);}else{if(D==="Conflict"){this.trigger(A);}}}function l(){return h.ajax({cache:false,url:e,dataType:"json"});}function p(){if(!z.cookies){z.loadSync(z.homePath+"bam.cookies.js");}return z.cookies.get(this.appCookieName);}function x(D,C,E){var F=E.getResponseHeader("Access_token");if(D.error){s.call(this);}this.fbdata=D;l().success(h.proxy(q,this)).error(h.proxy(r,this));}function d(C){var E=h.ensureArray(C.identityPointKey),D;if(E.length>1){h.each(E,function(F,G){if(G.type[0].Text==="facebook"){D=G.fingerprint[0].Text;return false;}});}if(D){h.ajax({url:this.oauthLoginBaseURL+g,dataType:"jsonp",jsonp:"jsCallback",data:{oauth_token:D},success:h.proxy(function(F){this.trigger(c);},this),error:h.proxy(function(F){},this)});}else{f.call(this);}}function s(D,C,F){var E=new z.session();E.one(E.events.isLoggedIn,h.proxy(function(H,G){if(!G.isLoggedIn){f.call(this);}else{IdentityPointService.findIdentityPointKeys({type:"fingerprint",id:E.ipid,fingerprint:E.fprt,success:h.proxy(d,this),error:h.proxy(f,this)});}},this)).isLoggedIn();}function u(){z.opengraph.me().success(h.proxy(x,this)).error(h.proxy(s,this));}function B(C){if(!C.appCookieName){throw new Error("FacebookConnect() constructor: config argument is missing appNameCookie");}if(!C.oauthSuccessURL){throw new Error("FacebookConnect() constructor: config argument is missing oauthSuccessURL");}this.appCookieName=C.appCookieName;this.oauthLoginBaseURL=C.oauthLoginBaseURL;this.oauthSuccessURL=C.oauthSuccessURL;this.appID=C.appID;}B.prototype={fbdata:null,events:{isLoggedIn:c,linkSuccess:y,notLoggedIn:j,alreadyLinked:A,error:a},connect:function(D){var C=p.call(this);D=D||{requireLogin:false};if(C&&!D.requireLogin){u.call(this);}else{s.call(this);}},applicationID:function(){return this.appID;},link:l,login:f};h.bindable(B.prototype);z.fbconnect=B;})(this,this.document,this.jQuery,this.bam);(function(d,b,e,a,f){var c="/wf/flow/social.facebook.apiProxy";function g(h,j){j=(j)?j.substring(0,1).toUpperCase()+j.substring(1):"Get";return e.ajax({url:c,data:{httpName:"facebook"+j,operation:h},dataType:"json",cache:false,success:function(){},error:function(){}});}a.opengraph={me:function(){return g("/me");},likes:function(){return g("/me/likes");},apprequests:function(){return g("/me/apprequests");},pagefeeds:function(h){return g("/"+h+"/feed");},deleteRequest:function(h){return g("/"+h+"&method=delete","post");},getActivities:function(h,j){return g("/"+h+"/"+j);},retrieveData:function(h){return g("/"+h);},fql:function(h){return g("/fql&q="+encodeURIComponent(h));}};})(this,this.document,this.jQuery,this.bam);function MLB_FacebookConnect(a){var c="mlbFacebook",b="account/partner/fb/link.jsp";MLB_FacebookConnect.superclass.constructor.call(this,{appCookieName:c,oauthSuccessURL:b,oauthLoginBaseURL:a,appID:"7848098180"});}$.inherit(MLB_FacebookConnect,bam.fbconnect);(function(c){var b="MyAccountMini";(function(g,e,h,d){var f=function(k){var j;if(!(this instanceof f)){return(new f(k));}j=e.location;this._settings={tplPath:null,renderOuput:"jquery",loginFrameID:"iframeLogin",port:(!!j.port&&j.port.length>0&&j.port!=="80")?":"+j.port:"",baseURL:j.protocol+"//"+e.domain,loginJSP:"/account/quick_login_hdr.jsp",stylesheet:null,submitImage:null};if(!!k){h.extend(this._settings,k);}if(!!this._settings.tplPath){this._TPL=h.template(this._settings.tplPath);}h.bindable(this);};f.prototype={render:function(r){var m=this._settings,q="html".indexOf(m.renderOutput)!==-1,p,l,j,o,k;p={successRedirect:m.baseURL+m.port+"/shared/account/v2/login_success.jsp"+escape("?callback="+r),callback:r,stylesheet:m.stylesheet,submitImage:m.submitImage};j=h.param(p,true);l=m.baseURL+m.port+m.loginJSP+escape("?error=true&"+j);p.errorRedirect=l+escape("&errorRedirect="+l);j=decodeURIComponent(h.param(p,true));o='<iframe src="'+m.loginJSP+"?"+j+'" rows="1" cols="0" frameborder="0" scrolling="0" framespacing="0" border="0" name="'+m.loginFrameID+'" id="'+m.loginFrameID+'"></iframe>';if(!!this._TPL){k=this._TPL({loginFrameHTML:o,settings:m},q);}else{k=o;}this.trigger("render",[k]);}};g.LoginView=f;})(this,this.document,this.$,this.bam);var a=(function(){bam.loadSync(bam.homePath+"bam.cookies.js");var e,l,f,q,y=true,p,u,z,o="myAccountMiniContent",m,h="mai",w=bam.cookies.get(h),B;function r(D,C){var E=function(F,G){if(G){q.empty();l.unbind("isLoggedIn",E);}};if(q.children().length>0){q.show();}else{q.html(C).show();}l.bind("isLoggedIn",E);}function d(C){var G=null,D;C=C.split("&");for(var E=0,F=C.length;E<F;E++){if(!G){G={};}D=C[E].split("=");G[D[0]]=D[1];}return G;}function A(){w=bam.cookies.get(h);if(!!w){w=d(unescape(w));if(!!w.firstName){w.firstName=w.firstName.replace("+"," ");}}}function j(){if(!w){var E=function(F){w={firstName:(!!F.firstName)?F.firstName.value[0]:" ",nickname:(!!F.nickname)?F.nickname.value[0]:" "};bam.cookies.set({name:h,value:c.param(w),domain:"mlb.com",path:"/"});s();k(null,true);c("#myAccountMiniLink").removeClass("open").addClass("close");},C=function(F){l.promptLogin();},D=["js=/shared/scripts/serviceClients/registrationServiceUtils_client.js","js=/shared/scripts/serviceClients/profileService_client.js"];if(!window.ProfileService){c.ajax({url:"/bundle?"+D.join("&"),dataType:"script",cache:true,success:function(){ProfileService.find(E,C);}});}else{ProfileService.find(E,C);}}else{s();k(null,true);}}function k(C,D){if(D){u.empty();p(w).appendTo(u);}else{w=null;bam.cookies.remove({name:h,domain:"mlb.com",path:"/"});bam.cookies.remove({name:"fprt",domain:"mlb.com",path:"/"});u.empty();p().appendTo(u);}c("#myAccountMiniLink").addClass("open");l.unbind("isLoggedIn",k);}function s(){m.empty();TPL_MYACCOUNT(w).appendTo(m);m.fadeIn();}function x(C,D){if(D){if(!w){j();c("#myAccountMiniLink").addClass("close");}else{s();}l.unbind();e.trigger("showMyAccount");}else{l.promptLogin();k(null,false);e.trigger("showLogin");}}function t(){l.checkLoggedIn();}function g(){B.login();}e={init:function(E,C,G,F,D){z=c("#"+E);u=c('<div id="registrationLinksContainer"></div> ').appendTo(z);m=c('<div id="'+o+'"></div>').appendTo(z);f=LoginView({tplPath:F,renderOutput:"html",stylesheet:"/style/account_management/myAccountMini.css",submitImage:"/shared/components/gameday/v4/images/btn-login.gif"});f.bind("render",r);q=c("#"+o);l=UserAccountStatus().bindLoginView(f);TPL_MYACCOUNT=c.template(G);p=c.template(C);c("#myAccountMiniLinks a.open").live("click",function(){e.show();c("#myAccountMiniLink").removeClass("open").addClass("close");return false;});c("#myAccountMiniLinks a.close").live("click",function(){return false;});B=e.MLB_FB=new MLB_FacebookConnect(D);B.bind("notLoggedIn",g).bind("isLoggedIn",t).bind("isLinked",t);c("#btn-ql-fbconnect").live("click",function(){B.connect();bam.tracking.track({async:{compName:"Facebook Connect",compActivity:"Facebook Connect Login Click",actionGen:true}});return false;});e.bind("showMyAccount",function(){bam.tracking.simPgView({pageName:"Major League Baseball: Account: Inline Login - Logged In",channel:"Account"});});e.bind("showLogin",function(){bam.tracking.simPgView({pageName:"Major League Baseball: Account: Inline Login - Logged Out",channel:"Account"});});c("#quick_logout").live("click",function(){bam.tracking.track({async:{compName:"Inline Login",compActivity:"Inline Login: Logout Click",actionGen:true}});});A();l.bind("isLoggedIn",k);l.checkLoggedIn();},show:function(){c(document).bind("mouseup",e.hide);l.bind("isLoggedIn",x);l.checkLoggedIn(y);y=false;},hide:function(C){if(C.target.id.indexOf("myAccountMiniLink")!==-1||c(C.target).closest("div#"+o).length<1){m.hide();c(document).unbind("mouseup",e.hide);setTimeout(function(){c("#myAccountMiniLink").removeClass("close").addClass("open");},100);}}};return c.bindable(e);})();window[b]=a;})(this.jQuery);/*! stopgap_end */